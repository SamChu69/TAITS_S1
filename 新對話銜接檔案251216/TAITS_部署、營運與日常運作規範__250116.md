# TAITS_部署、營運與日常運作規範__250116.md

> doc_key：DEPLOY_OPS  
> 治理等級：C（部署與營運｜受制於 Risk / Governance / Execution）  
> 適用範圍：TAITS 全系統（Research / Backtest / Simulation / Paper / Live）  
> 版本狀態：ACTIVE（Only-Add，可擴充不可縮水）

---

## 0. 文件定位（Operations as Governance）

本文件定義 **TAITS 從部署（Deployment）到日常營運（Operations）的完整規範**。  
在 TAITS 中，營運不是技術細節，而是 **治理的一部分**。

> **任何「跑得起來但不可控」的系統，  
在 TAITS 中都視為失敗部署。**

---

## 1. 部署治理核心原則（不可違反）

### 1.1 可重現性優先（Reproducibility First）

- 任一部署版本：
  - 必須可在指定環境重建
  - 不得依賴個人電腦隱性設定
- 版本差異必須可被比對與回溯

---

### 1.2 環境與模式明確分離

- Research / Backtest / Paper / Live：
  - 必須明確區隔
  - 不得共用敏感設定
- **Live 環境不得兼作研究用途**

---

### 1.3 風控與合規前置原則

- 部署完成 ≠ 可交易
- 必須：
  - 通過 RISK_COMPLIANCE
  - 通過 TWSE_RULES 檢查
  - UI 可正確呈現風險與限制

---

## 2. 部署階段定義（Deployment Stages）

### D0｜未部署（Inactive）
- 僅存在於版本庫
- 不可執行

### D1｜研究部署（Research Deploy）
- 僅限 E1 / E2
- 不連接真實帳戶

### D2｜模擬部署（Paper Deploy）
- E3 等級
- 驗證全流程與風控

### D3｜正式部署（Live Deploy）
- E4 等級
- 必須人類確認

📌 **禁止跳級部署**

---

## 3. 部署前檢查清單（Mandatory Checklist）

部署前必須確認：

- [ ] 環境等級正確（LOCAL_ENV）
- [ ] 風控文件版本一致（RISK_COMPLIANCE）
- [ ] 合規規則已載入（TWSE_RULES）
- [ ] UI 可正常顯示否決狀態
- [ ] Kill Switch 測試通過

📌 任一項未通過 → **禁止部署**

---

## 4. 日常營運流程（Daily Operations）

### 4.1 開市前（Pre-Market）

- 檢查資料來源可用性
- 檢查系統時間同步
- 檢查風控狀態

### 4.2 盤中（Intra-Day）

- 即時監控：
  - 資料延遲
  - 執行異常
  - 風控事件
- 任何異常：
  - 立即中止
  - 記錄原因

### 4.3 收市後（Post-Market）

- 封存當日 Log
- 快照回放測試
- 異常事件回顧

---

## 5. 變更管理（Change Management）

### 5.1 可變更項目

- 設定值
- 非核心視覺 UI
- 效能優化

### 5.2 禁止即時變更項目

- 風控邏輯
- 合規規則
- Canonical Flow

📌 以上項目：
- 僅能離線修改
- 必須產生新版本

---

## 6. 異常與事故處理（Incident Handling）

### 6.1 系統事故

- 資料中斷
- API 故障
- 異常下單

**處理**
- 立即停機
- 封存狀態
- 不自動恢復 Live

---

### 6.2 合規事故

- 疑似違規
- 規則衝突

**處理**
- 全面停止
- 人類介入
- 完整紀錄

---

## 7. 備援與復原（Backup & Recovery）

- 定期備份：
  - 原始資料
  - Log
  - 設定檔
- 復原流程：
  - 不得跳過風控
  - 不得直接回到 Live

---

## 8. 營運監控指標（Ops Metrics）

**允許監控**
- 系統可用性
- 延遲
- 錯誤率

**禁止作為 KPI**
- 獲利
- 交易次數

---

## 9. 與其他文件的關係

- 受制於：
  - MASTER_ARCH
  - MASTER_CANON
  - RISK_COMPLIANCE
  - EXECUTION_CONTROL
- 被引用於：
  - LOCAL_ENV
  - UI_SPEC

---

## 10. 文件維護與版本規則

- 本文件預設 ACTIVE
- 僅允許：
  - 新增流程
  - 補充檢查項
- 修改需更新：
  - 版本檔名
  - Document_Index

---

## 11. 最終營運宣告

> **TAITS 的成功，不在於每天有沒有交易，  
而在於：  
每天都能在完全可控的狀態下選擇是否交易。**

---

（End of DEPLOY_OPS）
