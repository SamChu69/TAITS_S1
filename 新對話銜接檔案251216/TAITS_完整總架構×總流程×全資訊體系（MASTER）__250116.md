# TAITS_完整總架構×總流程×全資訊體系（MASTER）__250116.md

> doc_key：MASTER_CANON  
> 治理等級：B（Canonical｜僅次於母體總憲法）  
> 適用範圍：TAITS 全系統（Research / Backtest / Simulation / Paper / Live）  
> 版本狀態：LOCKED（僅可由人類主權覆寫）  

---

## 0. 文件定位（Canonical Master）

本文件為 **TAITS 的 Canonical Master 文件**，  
其職責是 **定義「TAITS 世界如何運作」**，而不是單一模組或單一流程。

- 本文件 **不取代母體總憲法**
- 本文件 **不描述實作細節**
- 本文件 **定義不可跳步、不可省略的總體結構與總流程**

📌 **任何流程、Agent、策略、UI、工具，  
只要違反本文件定義之 Canonical Flow，  
即視為系統性錯誤。**

---

## 1. TAITS 的整體世界觀（System Worldview）

TAITS 被設計為一個 **多層治理、證據導向、風險優先** 的智能交易系統：

- 市場不是單一狀態，而是 **Regime 的集合**
- 決策不是單一訊號，而是 **Evidence Bundle**
- 交易不是目標，而是 **風險可控下的結果**

TAITS 的所有行為，皆必須回答三個問題：

1. **我們現在處於什麼市場狀態？**
2. **我們的判斷證據是否完整？**
3. **最壞情況是否仍在可承受範圍內？**

---

## 2. TAITS 十一層 Canonical 架構總覽（不可改序）

TAITS 採用 **11 層不可跳步 Canonical Flow**。  
任何行為必須由 L1 依序推進至 L11。

---

### L1｜Data Ingestion（資料蒐集層）

**目的**：取得市場與非市場之原始資料。

- 價格、成交量、委買委賣
- 基本面、財報、公告
- 期貨 / 選擇權
- 新聞、情緒、事件
- 巨觀與跨市場資料

📌 本層不允許：
- 推論
- 篩選
- 判斷

---

### L2｜Data Normalization（資料正規化層）

**目的**：使所有資料具備可比較性與一致性。

- 時間軸對齊
- 欄位標準化
- 缺值標註
- 異常值標示（非刪除）

📌 若資料無法正規化：
- 必須回退至 L1
- 不得強行進入後續層級

---

### L3｜Market Snapshot（市場快照層）

**目的**：建立「此時此刻」的市場狀態全貌。

- 價格結構
- 波動狀態
- 成交行為
- 資金方向
- 異常事件標記

📌 Snapshot 必須：
- 可重建
- 可回放
- 可審計

---

### L4｜Feature & Methodology（特徵與方法層）

**目的**：將資料轉為可分析特徵。

- 技術指標
- 統計特徵
- 結構特徵
- 因子與方法論標記

📌 本層：
- 不做買賣判斷
- 不輸出交易方向

---

### L5｜Evidence Bundle（證據包層）

**目的**：形成多面向證據集合。

Evidence Bundle 必須包含（但不限於）：

- 技術面證據
- 結構 / 型態證據
- 成交 / 流動性證據
- 非價格證據（可選）

📌 **單一證據不可構成決策依據**

---

### L6｜Market Regime（市場狀態層）

**目的**：判定目前市場所屬 Regime。

- 趨勢 / 盤整
- 高 / 低波動
- 風險偏好狀態
- 結構健康度

📌 Regime 為：
- 策略啟用的前置條件
- 非訊號、非預測

---

### L7｜Risk & Compliance（風控與合規層）

**目的**：否決不該存在的行為。

- 風險暴露檢查
- 法規限制
- 部位集中度
- 流動性風險

📌 本層：
- 具有最高否決權
- 不接受任何績效理由

---

### L8｜Strategy & Universe（策略與標的層）

**目的**：產生「建議性」策略輸出。

- 策略僅能輸出：
  - 條件
  - 情境
  - 假設
- 標的 Universe 必須可追溯

📌 **不得直連下單**

---

### L9｜Governance Gate（治理門層）

**目的**：確保流程合法、完整、可審查。

- 流程是否完整
- 證據是否齊全
- Regime 是否相容

📌 若不通過：
- 必須退回前層
- 不得強行執行

---

### L10｜UI & Human Decision（人類決策層）

**目的**：將資訊交付人類。

- 可視化
- 解釋性
- 風險揭露

📌 **最終決策只存在於此層**

---

### L11｜Execution & Control（執行與監控層）

**目的**：在合規前提下執行人類決策。

- 下單
- 監控
- 風控觸發
- 異常處理

📌 執行行為必須可：
- 回放
- 審計
- 回溯

---

## 3. 全資訊體系（Information Universe）

TAITS 的資訊被視為 **多維度證據空間**，而非單一資料流：

- 價格空間
- 時間空間
- 結構空間
- 風險空間
- 行為空間

任何策略僅是：
> 在此空間中的「一種投影」

---

## 4. Agent 與 Canonical Flow 的關係

- Agent 不得跨層操作
- Agent 僅能在指定層級產出結果
- Agent 輸出必須被標註來源層級

📌 **Agent 永遠受 Canonical Flow 約束**

---

## 5. 本文件的變更規則

- 本文件預設為 LOCKED
- 僅可由人類主權覆寫
- 修改必須：
  - 產生新版本檔名
  - 更新 Document_Index
  - 不得破壞 Canonical Flow

---

## 6. 終極 Canonical 宣告

> **TAITS 不追求「更快下單」，  
而是確保「不該下單時，系統知道如何停下來」。**

---

（End of MASTER_CANON）
