# 📘 TAITS_Execution_Modes_and_Promotion_Gates.md
## TAITS 執行模式與升級關卡（Phase S4）

---

## 0. 文件定位（Execution 升級最高權威）

本文件定義 TAITS **所有執行模式（Modes）與升級（Promotion）的唯一合法規則**。

> 在 TAITS 中：
> - 升級不是權利，是被授予的資格
> - 實盤不是目標，是受控狀態
> - 任何跳級，都是高風險事件

優先級：
S0 > S1 > S2 > S3 > S4-1 ~ S4-3 > **本文件** > S5

---

## 1. 執行模式總覽（Execution Modes）

TAITS 僅承認以下四種執行模式：

| 模式 | 是否下單 | 主要目的 |
|---|---|---|
| RESEARCH | ❌ | 邏輯與風控驗證 |
| PAPER | ❌（模擬） | 行為與規則一致性 |
| SHADOW | ❌（影子） | 即時穩定性驗證 |
| LIVE_RESTRICTED | ✔ | 低風險實盤測試 |

📌 **不存在 FULL LIVE 模式**

---

## 2. 各模式的合法行為與限制

### 2.1 RESEARCH（研究）

**允許**
- 計算理論進出場
- 壓力測試與極端情境模擬

**禁止**
- ❌ 使用即時資金邏輯
- ❌ 作為升級的唯一證明

---

### 2.2 PAPER（模擬）

**允許**
- 完整 Decision → Execution 流程
- 套用所有風控與出場規則

**禁止**
- ❌ 忽略滑價與延遲
- ❌ 放寬風控以「看起來更好」

---

### 2.3 SHADOW（影子）

**允許**
- 與實盤同時決策
- 記錄「如果有下」的結果

**關鍵目的**
- 驗證即時資料
- 驗證延遲、錯誤、例外處理

**禁止**
- ❌ 因影子績效好而跳級
- ❌ 因影子績效差而立刻改規則

---

### 2.4 LIVE_RESTRICTED（限制實盤）

**允許**
- 真實下單
- 嚴格風控
- 小倉位 / 零股

**限制（不可解除）**
- 低 R
- Lane 限制
- 強制 Safety Locks
- 隨時可回退

📌 **LIVE_RESTRICTED 是一種「被關在籠子裡的實盤」**

---

## 3. 升級關卡（Promotion Gates）

### 3.1 升級的一般原則

- 升級不是線性的
- 升級可以被拒絕
- 升級必須可回退

---

### 3.2 RESEARCH → PAPER

**必要條件**
- 邏輯一致
- 無違憲（S0 / S1）
- 無越權行為

---

### 3.3 PAPER → SHADOW

**必要條件**
- 風控與出場規則被完整觸發過
- 無「手動補救」痕跡
- 可完整回放

---

### 3.4 SHADOW → LIVE_RESTRICTED（最嚴格）

**必要條件（全部必須滿足）**

1. **穩定性**
   - 無系統性錯誤
   - 無資料斷流

2. **風控有效性**
   - 停損確實被執行
   - NO_TRADE / WAIT 正常出現

3. **行為一致性**
   - 不因績效改規則
   - 不因連勝放寬條件

4. **回撤可控**
   - 回撤在預期範圍
   - 無單筆災難

📌 **績效好不是升級條件**

---

## 4. 升級禁止事項（Hard Prohibitions）

以下理由一律禁止升級：

- 「感覺已經很穩了」
- 「這次真的不一樣」
- 「不快點會錯過」
- 「AI 很有信心」

---

## 5. 回退規則（Rollback Rules）

### 5.1 任何模式都可回退

- LIVE_RESTRICTED → SHADOW
- SHADOW → PAPER
- PAPER → RESEARCH

📌 **回退不是失敗，是風控成功**

---

### 5.2 強制回退條件

- 連續異常
- 風控失效
- 人工越權
- 未解釋的重大虧損

---

## 6. 模式切換的審計要求

每一次切換必須記錄：

- 原模式 → 新模式
- 切換理由
- 檢查項目通過狀態
- 責任人（人類）

---

## 7. 與 S5 的關係

- 升級 / 回退的檢討只能在 S5
- 不可即時修規則「救績效」
- 不可用短期結果推翻制度

---

## 8. 常見致命錯誤（Explicitly Forbidden）

- ❌ PAPER 表現好就上實盤
- ❌ SHADOW 賺錢就加碼
- ❌ LIVE 小賺就解除限制
- ❌ 因連虧而「證明自己」

---

## 9. 定錨語（不可刪）

> **你不是輸在沒賺到，  
> 而是輸在太早把風險當朋友。**

---

## 10. 文件狀態

- ✔ Phase S4（執行模式與升級）
- ✔ 與 Execution / Risk 完全對齊
- ✔ 防止過早實盤
- ✔ 可長期演進
