<!--
TAITSï½œACTIVE UPDATEDï¼ˆå–®æª”å…§åµŒæ›´æ–°ç‰ˆï¼‰
ç”¢å‡ºæ—¥æœŸï¼š2025-12-29ï¼ˆAsia/Taipeiï¼‰
æ›´æ–°è¦æ ¼ï¼šå–®æª”å…§åµŒï¼›å¯æ›´æ–°è™•ç›´æ¥æ›´æ–°ä¸¦é¿å…é‡è¤‡ï¼›ä¸å¯æ›´æ–°è™•ä»¥ Appendix å…§åµŒ Only-Add å…¨æ–‡ã€‚
ä¾†æºæª”ï¼šTAITS_ç­–ç•¥ç‰¹å¾µèˆ‡å› å­ç´¢å¼•ï¼ˆSTRATEGY_FEATURE_INDEXï¼‰__251219__ADDENDUM_20251227_FINAL.md
-->

# TAITS_ç­–ç•¥ç‰¹å¾µèˆ‡å› å­ç´¢å¼•ï¼ˆSTRATEGY_FEATURE_INDEXï¼‰__251219
doc_keyï¼šSTRATEGY_FEATURE_INDEX
æ²»ç†ç­‰ç´šï¼šB+ï¼ˆFeature Governance & Semantic Boundary Charterï½œå…¨çŸ¥è­˜è‡ªæ´½æœ€å¤§å®Œå‚™ç‰ˆï¼‰
é©ç”¨ç¯„åœï¼šTAITS å…¨ç³»çµ±ï¼ˆResearch / Backtest / Simulation / Paper / Liveï¼‰
ç‰ˆæœ¬ç‹€æ…‹ï¼šACTIVEï¼ˆç‰¹å¾µå±¤æ²»ç†å°é ‚ï¼‹å¯å±•é–‹çŸ¥è­˜ç´¢å¼•ï¼ŒOnly-Add æ¼”é€²ï¼‰
ç‰ˆæœ¬æ—¥æœŸï¼š2026-01-01
å°é½Šæ¯æ³•ï¼šTAITS_AI_è¡Œç‚ºèˆ‡æ±ºç­–æ²»ç†æœ€çµ‚è¦å‰‡å…¨é›†__251217ï¼ˆA+ï¼‰
ä¸Šä½ç´„æŸï¼šMASTER_ARCH / MASTER_CANON / DOCUMENT_INDEX
å¹³è¡Œåƒç…§ï¼šSTRATEGY_UNIVERSE / ARCH_FLOW / RISK_COMPLIANCE / VERSION_AUDIT / UI_SPEC / DATA_SOURCES / TWSE_RULES
è®Šæ›´åŸå‰‡ï¼šOnly-Addï¼ˆåªå¯æ–°å¢ï¼Œä¸å¯åˆªæ¸›ã€ä¸å¯è¦†å¯«ã€ä¸å¯æ”¹å¯«æ—¢æœ‰èªç¾©ã€ä¸å¯å¼±åŒ–é‚Šç•Œï¼‰

## L9â€“L11 æœ€çµ‚èªç¾©å®šéŒ¨ï¼ˆå–®ä¸€æ­£ç¢ºç‰ˆï½œå¿…é ˆä¸€è‡´ï¼‰

> æœ¬ç¯€ç‚º TAITS åœ¨ L9ï¼L10ï¼L11 çš„**å”¯ä¸€æ­£ç¢ºèªç¾©**ã€‚  
> ä»»ä½•æ–‡ä»¶ä¸­è‹¥å‡ºç¾èˆ‡æœ¬ç¯€ä¸ä¸€è‡´ä¹‹æè¿°ï¼Œè¦–ç‚ºèˆŠéŒ¯å£å¾‘ï¼ˆä¸å¾—ä¿ç•™æ–¼å–®ä¸€æ­£ç¢ºç‰ˆï¼‰ã€‚

### L9ï½œæŠ•è³‡å ±å‘Šï¼ˆInvestment Reportï½œå¯è¿½è¹¤ã€å¯æ›´æ–°ã€å¯ç¨½æ ¸ï¼‰
L9 çš„ç”¢å‡ºå®šä½ç‚ºã€Œ**çµ¦äººçœ‹çš„å®Œæ•´æŠ•è³‡å ±å‘Š**ã€ï¼Œä¸æ˜¯ä¸€æ¬¡æ€§çš„å£é ­è§£èªªï¼›å¿…é ˆå¯åœ¨å¾ŒçºŒäº‹ä»¶/è¡Œæƒ…è®Šå‹•ä¸‹æŒçºŒæ›´æ–°ä¸¦å¯è¿½æº¯ã€‚
L9 æœ€ä½äº¤ä»˜ç‰©æ‡‰åŒ…å«ï¼ˆä¸é™æ–¼ï¼‰ï¼š
- **æ¨™çš„åŒ–**ï¼šæ¨™çš„è­˜åˆ¥ã€è§€æ¸¬èµ·é»ã€è¿½è¹¤ç‹€æ…‹ï¼ˆopen/hold/watch/exit-candidate ç­‰ï¼‰ã€ç‰ˆæœ¬è™Ÿèˆ‡æ™‚é–“æˆ³ã€‚
- **æ•¸æ“š**ï¼šå°æ‡‰ L1â€“L8 çš„é—œéµæ•¸æ“šè¡¨ï¼ˆæ¶ˆæ¯/åŸºæœ¬/æŠ€è¡“/ç±Œç¢¼/é¢¨éšª/åˆ¶åº¦ï¼‰ï¼Œå«ä¾†æºã€å–æ¨£æ™‚é–“ã€ç¼ºæ¼è¨»è¨˜ã€‚
- **åœ–å½¢**ï¼šè‡³å°‘åŒ…å«åƒ¹æ ¼èµ°å‹¢èˆ‡é—œéµæŠ€è¡“æŒ‡æ¨™ç‹€æ…‹è¦–è¦ºåŒ–ï¼ˆä¾‹å¦‚å‡ç·šã€RSIã€MACDï¼›ä»¥ã€Œç‹€æ…‹ã€å‘ˆç¾ï¼Œéä¸»è§€æ•˜äº‹ï¼‰ã€‚
- **é€²å‡ºå ´å»ºè­°ï¼ˆéä¸‹å–®ï¼‰**ï¼šå»ºè­°å€é–“/è§¸ç™¼æ¢ä»¶/å¤±æ•ˆæ¢ä»¶ï¼ˆåœæ/åœåˆ©/é¢¨éšªæ’¤é€€ï¼‰ï¼Œä¸¦æ˜ç¢ºæ¨™ç¤ºã€Œæ­¤ç‚ºå»ºè­°ï¼Œä¸æ§‹æˆä¸‹å–®ã€ã€‚
- **æƒ…å¢ƒæ›´æ–°ï¼ˆRegime/Eventï¼‰**ï¼šç•¶å¸‚å ´åˆ¶åº¦/äº‹ä»¶/é¢¨éšªç‹€æ…‹æ”¹è®Šï¼Œéœ€èƒ½ç”¢ç”Ÿå¢é‡æ›´æ–°ï¼ˆdeltaï¼‰ä¸¦ä¿ç•™å›æ”¾éˆã€‚
- **å¯ç¨½æ ¸éˆ**ï¼šå¼•ç”¨åˆ° L11 çš„ record_id / ledger_idï¼ˆæˆ–ç­‰åƒ¹è­˜åˆ¥ï¼‰ï¼Œä»¥ç¢ºä¿å ±å‘Šå¯è¢«å›æ”¾èˆ‡é©—è­‰ã€‚

### L10ï½œäººé¡è£æ±ºèˆ‡äº¤æ˜“æˆæ¬Šï¼ˆHuman Decision & Authorizationï½œå”¯ä¸€æ±ºç­–é»ï¼‰
L10 çš„å®šä½ç‚ºã€Œ**äººé¡æœ€é«˜æ±ºç­–è€…çš„æœ€çµ‚è£æ±ºä»‹é¢èˆ‡æˆæ¬Šå±¤**ã€ã€‚  
- **æœ€çµ‚æ±ºç­–è€…æ°¸é æ˜¯äººé¡**ï¼šä½ æ±ºå®šæ¡å–ä½•ç¨®æ¨¡å¼èˆ‡æ˜¯å¦æˆæ¬Šäº¤æ˜“ã€‚
- L10 å¯è£æ±º/æˆæ¬Šçš„å‹•ä½œåŒ…å«ï¼ˆä¸é™æ–¼ï¼‰ï¼š**ä¸å‹•ä½œï¼å›æ¸¬ï¼æ¨¡æ“¬ï¼åŠè‡ªå‹•ï¼å…¨è‡ªå‹•**ã€‚
- AI/Agent åœ¨ L10 åƒ…èƒ½æä¾›ã€Œé¸é …ã€ç†ç”±ã€é¢¨éšªæ­éœ²èˆ‡å»ºè­°ã€ï¼Œ**ä¸å¾—è‡ªè¡Œæ§‹æˆä¸‹å–®è¡Œç‚º**ï¼›ä¸‹å–®/åŸ·è¡Œå±¬æ–¼ L10 æˆæ¬Šå¾Œç”±åŸ·è¡Œæ§åˆ¶è¦ç¯„æ‰¿æ¥ã€‚

### L11ï½œå·¥ç¨‹ç¨½æ ¸èˆ‡å…¨å±¤å›æ”¾ï¼ˆEngineering Audit & Replayï½œå…¨å±¤ç•™ç—•ï¼‰
L11 çš„å®šä½ç‚ºã€Œ**å·¥ç¨‹æª¢è¦–èˆ‡ç¨½æ ¸å›æ”¾å±¤**ã€ï¼Œä¸æ˜¯ä¸‹å–®å±¤ï¼Œä¹Ÿä¸æ˜¯åªè¨˜éŒ„ L10ã€‚
- **å…¨å±¤ç•™ç—•**ï¼šL11 å¿…é ˆè¦†è“‹ L1â€“L11 æ¯ä¸€å±¤çš„é—œéµè¼¸å…¥/è¼¸å‡º/è£æ±º/å¦æ±º/è®Šæ›´ç†ç”±èˆ‡æ™‚é–“æˆ³ã€‚
- **é›™æ–™è¼¸å‡º**ï¼šåŒä¸€ç­†ç´€éŒ„éœ€åŒæ™‚å…·å‚™  
  1) äººè©±å¯è®€ï¼ˆä½ èƒ½çœ‹æ‡‚ï¼Œç”¨æ–¼æª¢è¦–ç³»çµ±æ˜¯å¦åˆç†ï¼‰  
  2) å·¥ç¨‹å¯ç”¨ï¼ˆå¯é‡ç¾ã€å¯é©—è­‰ã€å¯è¿½æº¯ï¼Œç”¨æ–¼é–‹ç™¼/ç¨½æ ¸/å›æ”¾ï¼‰
- **ç›®çš„**ï¼šç”¨ä¾†æª¢æŸ¥æ¯ä¸€å±¤çš„åŠŸèƒ½æ˜¯å¦åˆç†ã€æ˜¯å¦éœ€è¦èª¿æ•´ã€ä»¥åŠè‡ªå‹•/åŠè‡ªå‹•/å…¨è‡ªå‹•åœ¨ä¸åŒæ™‚é»çš„æ±ºç­–ä¾æ“šæ˜¯å¦ä¸€è‡´å¯å›æ”¾ã€‚

æ ¸å¿ƒå®£å‘Šï¼šFeature â‰  Signal â‰  Strategy â‰  Orderï¼ˆç‰¹å¾µéè¨Šè™Ÿã€éç­–ç•¥ã€éä¸‹å–®ï¼‰

---
---

# TAITS_ç­–ç•¥ç‰¹å¾µèˆ‡å› å­ç´¢å¼•ï¼ˆSTRATEGY_FEATURE_INDEXï¼‰__251219
doc_keyï¼šSTRATEGY_FEATURE_INDEX
æ²»ç†ç­‰ç´šï¼šB+ï¼ˆFeature Governance & Semantic Boundary Charterï½œå…¨çŸ¥è­˜è‡ªæ´½æœ€å¤§å®Œå‚™ç‰ˆï¼‰
é©ç”¨ç¯„åœï¼šTAITS å…¨ç³»çµ±ï¼ˆResearch / Backtest / Simulation / Paper / Liveï¼‰
ç‰ˆæœ¬ç‹€æ…‹ï¼šACTIVEï¼ˆç‰¹å¾µå±¤æ²»ç†å°é ‚ï¼‹å¯å±•é–‹çŸ¥è­˜ç´¢å¼•ï¼ŒOnly-Add æ¼”é€²ï¼‰
ç‰ˆæœ¬æ—¥æœŸï¼š2026-01-01
å°é½Šæ¯æ³•ï¼šTAITS_AI_è¡Œç‚ºèˆ‡æ±ºç­–æ²»ç†æœ€çµ‚è¦å‰‡å…¨é›†__251217ï¼ˆA+ï¼‰
ä¸Šä½ç´„æŸï¼šMASTER_ARCH / MASTER_CANON / DOCUMENT_INDEX
å¹³è¡Œåƒç…§ï¼šSTRATEGY_UNIVERSE / ARCH_FLOW / RISK_COMPLIANCE / VERSION_AUDIT / UI_SPEC / DATA_SOURCES / TWSE_RULES
è®Šæ›´åŸå‰‡ï¼šOnly-Addï¼ˆåªå¯æ–°å¢ï¼Œä¸å¯åˆªæ¸›ã€ä¸å¯è¦†å¯«ã€ä¸å¯æ”¹å¯«æ—¢æœ‰èªç¾©ã€ä¸å¯å¼±åŒ–é‚Šç•Œï¼‰
æ ¸å¿ƒå®£å‘Šï¼šFeature â‰  Signal â‰  Strategy â‰  Orderï¼ˆç‰¹å¾µéè¨Šè™Ÿã€éç­–ç•¥ã€éä¸‹å–®ï¼‰

---

# Part 2ï½œé™„éŒ„Aï¼šFeature ID å‘½åè¦ç¯„èˆ‡ç¯„ä¾‹å…¨é›†ï¼ˆæœ€å¤§å®Œå‚™ï¼‰

> æœ¬ Part 2 ç‚º Part 1 çš„ **Only-Add æ“´å……**ï¼Œä¸æ”¹å¯«ã€ä¸è¦†è“‹ä»»ä½•æ—¢æœ‰èªç¾©ã€‚
> ç›®çš„ï¼šè®“ TAITS åœ¨ã€Œæ–°å¢ç‰¹å¾µã€æ™‚èƒ½ä¿æŒè·¨ç‰ˆæœ¬ä¸€è‡´ã€è·¨ Agent ä¸€è‡´ã€è·¨æ¨¡å¼ä¸€è‡´ï¼ˆResearch/Backtest/Sim/Paper/Liveï¼‰ã€‚

---

## A0. é™„éŒ„å®šä½ï¼ˆç‚ºä»€éº¼ä¸€å®šè¦æœ‰å‘½åè¦ç¯„ï¼‰

è‹¥æ²’æœ‰åš´æ ¼å‘½åè¦ç¯„ï¼Œæœƒå‡ºç¾ä¸‹åˆ—æ²»ç†ç½é›£ï¼ˆå¿…é ˆé¿å…ï¼‰ï¼š
- åŒä¸€å€‹ Feature è¢«ä¸åŒäºº/ä¸åŒ Agent ç”¨ä¸åŒåå­—é‡è¤‡ç™¼æ˜ï¼ˆç‰ˆæœ¬æ··äº‚ï¼‰
- ä¸åŒ Feature è¢«å«åŒä¸€å€‹åå­—ï¼ˆèªç¾©æ±¡æŸ“ï¼‰
- Feature è¢«ã€Œå·å·ä¿¡è™ŸåŒ–ã€ï¼šåœ¨å‘½åä¸­æš—ç¤ºè²·è³£èˆ‡æ–¹å‘ï¼ˆæ²»ç†é•è¦ä½†é›£è¢«æŠ“ï¼‰
- å›æ”¾æ™‚ç„¡æ³•çŸ¥é“ç•¶æ™‚åˆ°åº•è¨ˆç®—çš„æ˜¯å“ªä¸€å€‹ç‰ˆæœ¬ã€å“ªä¸€å€‹å…¬å¼ï¼ˆReplay å¤±æ•ˆï¼‰
- UI/å¯©è¨ˆç„¡æ³•å¯é èšåˆï¼ˆEvidence ç¼ºå£ï¼‰

å› æ­¤æœ¬é™„éŒ„çš„å®šä½æ˜¯ï¼š
> **å‘½åæœ¬èº«å°±æ˜¯æ²»ç†çš„ä¸€éƒ¨åˆ†**ï¼ˆNaming is Governanceï¼‰ã€‚

---

## A1. Feature ID çš„æ­£å¼æ ¼å¼ï¼ˆä¸å¯ç¸®æ¸›ï¼‰

### A1.1 æ¨™æº– Feature ID
æ¨è–¦æ ¼å¼ï¼ˆå¿…é ˆéµå®ˆæ¬„ä½æ„ç¾©ï¼›åˆ†éš”ç¬¦å¯ä»¥ Only-Add å¢å¼·ä½†ä¸å¯æ”¹å¯«èªç¾©ï¼‰ï¼š

`FTR.<DOMAIN>.<FAMILY>.<NAME>.<VER>`

- `FTR`ï¼šå›ºå®šå‰ç¶´ï¼ˆFeatureï¼‰
- `DOMAIN`ï¼šè³‡æ–™é¢å‘åŸŸï¼ˆè¦‹ A2ï¼‰
- `FAMILY`ï¼šå®¶æ—åˆ†é¡ï¼ˆè¦‹ A3ï¼‰
- `NAME`ï¼šç‰¹å¾µåç¨±ï¼ˆæè¿°æ€§ã€ç„¡æ–¹å‘æ€§ï¼‰
- `VER`ï¼šèªç¾©ç‰ˆæœ¬ï¼ˆä¾‹å¦‚ `v1`, `v2`ï¼›ä¸å¯çœç•¥ï¼‰

ç¯„ä¾‹ï¼š
- `FTR.TECH.TREND.GMMA_BAND_STRUCTURE.v1`
- `FTR.STRUCT.WYCKOFF.PHASE_LABEL.v1`
- `FTR.STRUCT.CHANLUN.DIVERGENCE_SCORE.v1`

### A1.2 å¯é¸æ“´å……æ®µï¼ˆOnly-Addï¼‰
è‹¥éœ€æ›´ç²¾ç¢ºç®¡ç†ï¼Œå¯åŠ ä¸Šã€Œå¯é¸æ“´å……æ®µã€ï¼Œä½†ä¸å¾—ç ´å£æ¨™æº–æ¬„ä½èªç¾©ï¼š

`FTR.<DOMAIN>.<FAMILY>.<NAME>.<VER>__<IMPL>__<TF>__<SRC>`

- `IMPL`ï¼šå¯¦ä½œæ¨™è¨˜ï¼ˆåƒ…æ¨™è¨˜æ¼”ç®—æ³•å¯¦ä½œç‰ˆæœ¬ï¼Œä¸å¾—å½±éŸ¿èªç¾©ï¼‰
- `TF`ï¼šé€±æœŸæ¨™è¨˜ï¼ˆä¾‹å¦‚ `1D`, `5m`ï¼‰
- `SRC`ï¼šä¾†æºæ¨™è¨˜ï¼ˆä¾‹å¦‚ `TWSE`, `TAIFEX`, `BROKER`, `ALT`ï¼‰

ç¯„ä¾‹ï¼ˆæ›´åš´æ ¼ç‰ˆæœ¬ç®¡ç†ï¼‰ï¼š
- `FTR.TECH.VOL.ATR_LEVEL.v1__implA__1D__TWSE`
- `FTR.FUND.VAL.PE_PERCENTILE.v2__implB__1D__MOPS`
- `FTR.FLOW.LIQ.SPREAD_LEVEL.v1__implA__Tick__BROKER`

---

## A2. DOMAINï¼ˆè³‡æ–™é¢å‘åŸŸï¼‰æ¨™æº–å­—å…¸ï¼ˆæœ€å¤§å®Œå‚™ï¼‰

> DOMAIN æ˜¯ Feature çš„ã€Œæ³•å®šé ˜åŸŸã€ï¼›ç”¨éŒ¯ DOMAIN è¦–ç‚ºèªç¾©æ±¡æŸ“ã€‚

- `TECH`ï¼šæŠ€è¡“é¢ï¼ˆåƒ¹æ ¼/é‡èƒ½è¡ç”Ÿï¼‰
- `STRUCT`ï¼šçµæ§‹ï¼ˆå€é–“/æ®µè½/ä¸­æ¨/éšæ®µç­‰ï¼‰
- `FUND`ï¼šåŸºæœ¬é¢ï¼ˆè²¡å ±/ä¼°å€¼/å“è³ª/æˆé•·ï¼‰
- `FLOW`ï¼šç±Œç¢¼/äº¤æ˜“è¡Œç‚ºï¼ˆåƒèˆ‡åº¦ã€æ³•äººã€æµå‘ï¼‰
- `LIQ`ï¼šæµå‹•æ€§ï¼ˆæ·±åº¦/é»å·®/æˆäº¤å¯è¡Œæ€§ï¼‰
- `VOL`ï¼šæ³¢å‹•ï¼ˆæ³¢å‹•æ°´å¹³ã€æ³¢å‹•å‹æ…‹ï¼‰
- `EVENT`ï¼šäº‹ä»¶/å…¬å‘Š/æ™‚é–“çª—ï¼ˆéæ–¹å‘ï¼‰
- `SENT`ï¼šæƒ…ç·’/æ–‡æœ¬ï¼ˆåƒ…æè¿°ï¼Œéœ€è­‰æ“šè¿½æº¯ï¼‰
- `MACRO`ï¼šå®è§€ï¼ˆåˆ©ç‡ã€åŒ¯ç‡ã€æ™¯æ°£ã€æ”¿ç­–ï¼‰
- `RISK`ï¼šé¢¨éšªæè¿°ï¼ˆæ›éšªåº¦é‡ã€å£“åŠ›ç‹€æ…‹æè¿°ï¼›ä¸å¾—è®Šæˆ gateï¼‰
- `EXEC`ï¼šåŸ·è¡Œè§€æ¸¬ï¼ˆå»¶é²ã€æ‹’å–®ç‡ã€å°å¸³ä¸€è‡´æ€§æè¿°ï¼›ä¸å¾—ä½œç­–ç•¥ï¼‰
- `GOV`ï¼šæ²»ç†è§€æ¸¬ï¼ˆå®Œæ•´åº¦ã€ç¼ºå£ã€ç‰ˆæœ¬ä¸€è‡´æ€§æè¿°ï¼‰
- `QA`ï¼šè³‡æ–™å“è³ªï¼ˆç¼ºå€¼ç‡ã€å»¶é²ã€ç•°å¸¸æ¨™è¨˜ï¼‰
- `META`ï¼šå…ƒç‰¹å¾µï¼ˆfeature_of_featureï¼›åš´ç¦æ–¹å‘åŒ–ï¼‰

ğŸ“Œ æ³¨æ„ï¼š
- `LIQ` èˆ‡ `VOL` å¯è¦–ç‚º `TECH` çš„å­åŸŸï¼Œä½†åœ¨æ²»ç†ä¸Šå¿…é ˆå¯ç¨ç«‹å¼•ç”¨ï¼Œæ‰€ä»¥ä¿ç•™ç¨ç«‹ DOMAINã€‚
- `RISK`/`EXEC`/`GOV`/`QA` åªèƒ½æè¿°ç‹€æ…‹ï¼Œçµ•ä¸å¯å–ä»£ Gate æˆ–ä¸‹å–®åˆ¤æ–·ã€‚

---

## A3. FAMILYï¼ˆå®¶æ—åˆ†é¡ï¼‰æ¨™æº–å­—å…¸ï¼ˆæœ€å¤§å®Œå‚™ï¼‰

> FAMILY ç”¨ä¾†çµ±ä¸€èªç¾©èšåˆï¼ˆUI/å¯©è¨ˆ/ç ”ç©¶ï¼‰ï¼›åŒä¸€ Feature å®¶æ—ä¸‹ä¸å¾—æ··å…¥æ–¹å‘æ€§ã€‚

### A3.1 TECH/STRUCT å¸¸ç”¨ FAMILY
- `TREND`ï¼šè¶¨å‹¢çµæ§‹ï¼ˆæè¿°å»¶çºŒæ€§/æœ‰åºæ€§ï¼‰
- `MOM`ï¼šå‹•èƒ½ï¼ˆæè¿°åŠ é€Ÿåº¦/è¡°æ¸›ï¼‰
- `VOL`ï¼šæ³¢å‹•ï¼ˆæè¿°æ°´å¹³/å‹æ…‹ï¼‰
- `RANGE`ï¼šå€é–“/ç›¤æ•´ï¼ˆæè¿°å€é–“é‚Šç•Œèˆ‡æœ‰æ•ˆæ€§ï¼‰
- `BREAK`ï¼šçµæ§‹ç ´å£/è½‰æ›ï¼ˆæè¿°è½‰æ›ç‹€æ…‹ï¼Œä¸æ˜¯çªç ´ä¿¡è™Ÿï¼‰
- `PATTERN`ï¼šå‹æ…‹ï¼ˆæè¿°è¾¨è­˜çµæœèˆ‡å®Œå‚™åº¦ï¼‰
- `LEVEL`ï¼šä½ç½®/åƒ¹ä½ç›¸å°é—œä¿‚ï¼ˆæè¿°ç›¸å°ä½ç½®ï¼‰
- `DIVERGE`ï¼šèƒŒé›¢/èƒŒé¦³ï¼ˆæè¿°ç¨‹åº¦ï¼Œä¸æ˜¯åè½‰ï¼‰
- `PHASE`ï¼šéšæ®µï¼ˆæè¿°éšæ®µæ¨™ç±¤ï¼‰
- `CENTER`ï¼šä¸­æ¨/æ¨ç´ï¼ˆæè¿°ç‹€æ…‹èˆ‡é—œä¿‚ï¼‰

### A3.2 FUND å¸¸ç”¨ FAMILY
- `VAL`ï¼šä¼°å€¼
- `QUAL`ï¼šå“è³ª
- `GROW`ï¼šæˆé•·
- `LEV`ï¼šæ§“æ¡¿/å„Ÿå‚µ
- `CASH`ï¼šç¾é‡‘æµ
- `MARGIN`ï¼šæ¯›åˆ©/ç‡Ÿç›Šç­‰
- `STAB`ï¼šç©©å®šæ€§ï¼ˆæ³¢å‹•ã€é€£çºŒæ€§ï¼‰

### A3.3 FLOW/LIQ å¸¸ç”¨ FAMILY
- `PARTIC`ï¼šåƒèˆ‡åº¦ï¼ˆæ›æ‰‹ã€é‡èƒ½çµæ§‹ï¼‰
- `INST`ï¼šæ³•äºº/å¤§æˆ¶ï¼ˆæè¿°æµå‘ï¼‰
- `DEPTH`ï¼šæ·±åº¦
- `SPREAD`ï¼šé»å·®
- `IMPACT`ï¼šè¡æ“Šæˆæœ¬ï¼ˆä¼°è¨ˆï¼‰
- `BAL`ï¼šä¾›éœ€å¹³è¡¡ï¼ˆæè¿°ï¼‰
- `RATE`ï¼šé€Ÿç‡ï¼ˆæˆäº¤/å§”è¨—/å–æ¶ˆç­‰ï¼Œæè¿°ï¼‰

### A3.4 EVENT/SENT/MACRO å¸¸ç”¨ FAMILY
- `CAL`ï¼šæ—¥æ›†/çª—å£ï¼ˆè²¡å ±/é™¤æ¬Šæ¯/å…¬å‘Šï¼‰
- `FLAG`ï¼šäº‹ä»¶æ——æ¨™ï¼ˆå­˜åœ¨èˆ‡å¦ï¼‰
- `DENS`ï¼šå¯†åº¦ï¼ˆäº‹ä»¶å¯†åº¦/æ–°èå¯†åº¦ï¼‰
- `POL`ï¼šæ”¿ç­–/åˆ¶åº¦æ™‚é»ï¼ˆæè¿°ï¼‰
- `MOOD`ï¼šæƒ…ç·’ç‹€æ…‹ï¼ˆæè¿°ï¼‰
- `TOPIC`ï¼šä¸»é¡Œï¼ˆæè¿°ï¼‰
- `SURP`ï¼šé©šå–œ/åé›¢ï¼ˆæè¿°ï¼‰

### A3.5 QA/GOV/EXEC å¸¸ç”¨ FAMILY
- `MISS`ï¼šç¼ºå¤±ï¼ˆç¼ºå€¼/ç¼ºæª”ï¼‰
- `DELAY`ï¼šå»¶é²
- `ANOM`ï¼šç•°å¸¸
- `CONSIS`ï¼šä¸€è‡´æ€§ï¼ˆç‰ˆæœ¬/å°å¸³ï¼‰
- `HEALTH`ï¼šå¥åº·åº¦ï¼ˆé€šé“/æœå‹™ï¼‰
- `COVER`ï¼šè¦†è“‹åº¦ï¼ˆå¯©è¨ˆè¦†è“‹/è­‰æ“šè¦†è“‹ï¼‰
- `REPLAY`ï¼šå¯å›æ”¾åº¦ï¼ˆæè¿°ï¼‰

---

## A4. NAMEï¼ˆç‰¹å¾µåç¨±ï¼‰æ²»ç†è¦å‰‡ï¼ˆç¡¬é–€æª»ï¼‰

### A4.1 å¿…é ˆæ˜¯æè¿°æ€§ï¼ˆDescriptiveï¼‰
åç¨±åªèƒ½æè¿°ã€Œç‹€æ…‹/é—œä¿‚/ç¨‹åº¦/æ¨™ç±¤ã€ï¼Œä¸å¾—æè¿°è¡Œç‚ºæˆ–æ–¹å‘ã€‚

âœ… åˆæ³•ä¾‹ï¼š
- `BAND_STRUCTURE`ã€`PHASE_LABEL`ã€`DIVERGENCE_SCORE`ã€`SPREAD_LEVEL`ã€`DEPTH_STRESS`

âŒ éæ³•ä¾‹ï¼ˆæ–¹å‘åŒ–/è¡Œç‚ºåŒ–ï¼‰ï¼š
- `BUY_SIGNAL`ã€`SELL_SIGNAL`ã€`LONG_ENTRY`ã€`SHORT_EXIT`ã€`STRONG_BUY`ã€`MUST_RISE`

é•è¦ç¢¼ï¼ˆæœ¬æ–‡ä»¶å…§éƒ¨ï¼Œç”¨æ–¼å¯©è¨ˆæ¨™è¨˜ï¼‰ï¼š
- `GOV-FTR-NAME-DIRECTIONAL`ï¼šå‘½åå«æ–¹å‘
- `GOV-FTR-NAME-ACTION`ï¼šå‘½åå«è¡Œç‚º
- `GOV-FTR-NAME-PERF`ï¼šå‘½åå«ç¸¾æ•ˆæ‰¿è«¾ï¼ˆwin/profitç­‰ï¼‰

### A4.2 ä¸å¾—æŠŠç­–ç•¥/æ–¹æ³•è«–ç•¶æˆæ–¹å‘
å¯ä»¥å¯«æ–¹æ³•è«–æ¨™ç±¤ï¼ˆtagsï¼‰ï¼Œä½†åç¨±ä»éœ€ä¿æŒæè¿°æ€§ã€‚

âœ… åˆæ³•ï¼š`WYCKOFF_PHASE_LABEL` / `CHANLUN_CENTER_STATE`
âŒ éæ³•ï¼š`WYCKOFF_BUY_ZONE` / `CHANLUN_REVERSAL_SIGNAL`

---

## A5. VERï¼ˆèªç¾©ç‰ˆæœ¬ï¼‰è¦å‰‡ï¼ˆå¿…é ˆå¯å›æ”¾ï¼‰

### A5.1 ä»€éº¼æƒ…æ³è¦å‡ VERï¼ˆèªç¾©ç‰ˆæœ¬ï¼‰
åªè¦æ”¹åˆ°ä»¥ä¸‹ä»»ä¸€é …ï¼Œå°±å¿…é ˆå‡ `v#`ï¼š
- output_semanticsï¼ˆè¼¸å‡ºèªç¾©ï¼‰
- output_typeï¼ˆè¼¸å‡ºå‹æ…‹ï¼‰
- æ¬„ä½å®šç¾©ï¼ˆä¾‹å¦‚ score çš„ç¯„åœå¾ 0~1 æ”¹æˆ -1~1ï¼‰
- å“è³ªæª¢æŸ¥èˆ‡ç¼ºå€¼è™•ç†èªç¾©ï¼ˆæœƒå½±éŸ¿è¼¸å‡ºï¼‰

### A5.2 ä»€éº¼æƒ…æ³ä¸èƒ½å‡ VERï¼ˆåªèƒ½æ”¹ implï¼‰
- æ¼”ç®—æ³•å¯¦ä½œå„ªåŒ–ä½†ä¸æ”¹èªç¾©ï¼ˆä¾‹å¦‚åŠ é€Ÿã€ä¸åŒç¨‹å¼å¯¦ä½œï¼‰
â†’ ç”¨ `__implX` è¨˜éŒ„ï¼Œä¸å¯ç”¨ `v#` å‡è£èªç¾©æœ‰è®Šã€‚

---

## A6. FeatureMeta å¿…å‚™æ¬„ä½ï¼ˆç”¨æ–¼æ–°å°è©±å¯å±•é–‹ï¼‰

> æœ¬ç¯€æŠŠ Part 1 çš„ schema å…·é«”åŒ–æˆã€Œå»ºæª”æ¨¡æ¿ã€ã€‚
> ä»»ä½•æ–°å¢ Featureï¼Œå¿…é ˆèƒ½å¯«å‡ºä¸‹é¢é€™æ®µï¼ˆå¯ç›´æ¥è²¼åˆ° repo / æ–‡æª”ï¼‰ã€‚

### A6.1 FeatureMeta Templateï¼ˆå¯è²¼ç”¨ï¼‰
```yaml
feature_id: "FTR.<DOMAIN>.<FAMILY>.<NAME>.v1"
feature_name_zh: "<ä¸­æ–‡åç¨±>"
feature_name_en: "<English Name, optional>"
domain: "<DOMAIN>"
family: "<FAMILY>"
methodology_tags: ["<GMMA|Wyckoff|ChanLun_Bodick|...>"]
timeframe: "<Tick|1m|5m|1D|1W|...>"
inputs:
 - "<canonical_field_or_datasource_field_1>"
 - "<...>"
lookahead_policy: "NO_LOOKAHEAD"
data_latency: "<REALTIME|DELAYED|ANNOUNCEMENT_LAG|SPARSE>"
output_type: "<Scalar|Vector|Label|State|Distribution>"
output_semantics: "<æè¿°æ€§èªç¾©ï¼Œä¸å«æ–¹å‘>"
quality_checks:
 - "<missing_value_handling>"
 - "<halt/suspension handling>"
 - "<outlier handling>"
audit_requirements:
 must_have:
 - correlation_id
 - snapshot_ref
 - provenance_map_ref
 - input_hash
 - output_hash
allowed_uses:
 - "EVIDENCE_INPUT"
 - "REGIME_INPUT"
 - "AUDIT_EXPLAIN"
forbidden_uses:
 - "DIRECT_SIGNAL"
 - "DIRECT_STRATEGY"
 - "DIRECT_ORDER"
notes_zh: "<å‚™è¨»ï¼šå¸¸è¦‹é™·é˜±ã€è³‡æ–™å»¶é²ã€é©ç”¨æ¢ä»¶>"
A7. ç¯„ä¾‹å…¨é›†ï¼ˆæœ€å¤§å®Œå‚™ï½œå¯ä¾› STRATEGY_UNIVERSE ç›´æ¥å¼•ç”¨ï¼‰
ä¸‹åˆ—ç¯„ä¾‹ä»¥ã€Œå¯æ“´å……ã€æ–¹å¼æä¾›ï¼›ä¸æ˜¯é™åˆ¶æ¸…å–®ã€‚
ä½ å¯åœ¨æœªä¾† Only-Add æ–°å¢æ›´å¤š Featureï¼Œä¸å¾—è¦†å¯«æœ¬æ®µæ—¢æœ‰èªç¾©ã€‚

A7.1 GMMA ç¯„ä¾‹ï¼ˆTECH.TRENDï¼‰
FTR.TECH.TREND.GMMA_BAND_STRUCTURE.v1

zhï¼šGMMA ç¾¤çµ„çµæ§‹æœ‰åºåº¦

output_semanticsï¼šç¾¤çµ„æ’åˆ—èˆ‡åˆ†å±¤çš„æœ‰åºç¨‹åº¦ï¼ˆ0~1ï¼‰

FTR.TECH.TREND.GMMA_BAND_SPREAD_STATE.v1

zhï¼šGMMA ç¾¤çµ„æ“´å¼µ/æ”¶æ–‚ç‹€æ…‹

output_semanticsï¼š{CONTRACTING, NEUTRAL, EXPANDING}

FTR.TECH.TREND.GMMA_SLOPE_CONSISTENCY.v1

zhï¼šGMMA ç¾¤çµ„æ–œç‡ä¸€è‡´æ€§

output_semanticsï¼šçŸ­é•·ç¾¤æ–œç‡ä¸€è‡´ç¨‹åº¦ï¼ˆ0~1ï¼‰

FTR.TECH.STRUCT.GMMA_PHASE_LABEL.v1

zhï¼šGMMA éšæ®µæ¨™ç±¤ï¼ˆæè¿°æ€§ï¼‰

output_semanticsï¼š{ORDERLY_TREND, COMPRESSION_RANGE, DISTORTION_TRANSITION, UNKNOWN}

A7.2 é¡§æ¯”å€’æ•¸ç·š ç¯„ä¾‹ï¼ˆTECH.MOMï¼‰
FTR.TECH.MOM.GUPPY_COUNTDOWN_STATE.v1

zhï¼šé¡§æ¯”å€’æ•¸ç‹€æ…‹

output_semanticsï¼š{RUNNING, COMPLETED, RESET, INVALID}

FTR.TECH.MOM.GUPPY_COUNTDOWN_PROGRESS.v1

zhï¼šé¡§æ¯”å€’æ•¸é€²åº¦

output_semanticsï¼š0~1ï¼ˆé€²åº¦ï¼›ä¸ä»£è¡¨æ–¹å‘ï¼‰

FTR.TECH.MOM.GUPPY_COUNTDOWN_INTENSITY.v1

zhï¼šé¡§æ¯”å€’æ•¸å¼·åº¦

output_semanticsï¼š0~1ï¼ˆå¼·åº¦ï¼›ä¸ä»£è¡¨å»ºè­°ï¼‰

A7.3 å¨ç§‘å¤« ç¯„ä¾‹ï¼ˆSTRUCT.PHASE / STRUCT.EVENTï¼‰
FTR.STRUCT.PHASE.WYCKOFF_PHASE_LABEL.v1

zhï¼šå¨ç§‘å¤«éšæ®µæ¨™ç±¤

output_semanticsï¼š{A,B,C,D,E,UNKNOWN}

FTR.STRUCT.EVENT.WYCKOFF_EVENT_FLAGS.v1

zhï¼šå¨ç§‘å¤«äº‹ä»¶æ——æ¨™é›†åˆ

output_semanticsï¼šäº‹ä»¶é›†åˆï¼ˆPS/SC/AR/ST/SOS/LPSâ€¦ï¼‰çš„å­˜åœ¨æ¨™è¨˜ï¼ˆéæ–¹å‘ï¼‰

FTR.STRUCT.RANGE.WYCKOFF_RANGE_VALIDITY.v1

zhï¼šå¨ç§‘å¤«å€é–“æœ‰æ•ˆæ€§

output_semanticsï¼šå€é–“é‚Šç•Œç©©å®šåº¦/æœ‰æ•ˆæ€§ï¼ˆ0~1ï¼‰

FTR.STRUCT.BAL.WYCKOFF_SUPPLY_DEMAND_BALANCE.v1

zhï¼šä¾›éœ€å¹³è¡¡åº¦é‡

output_semanticsï¼šä¾›éœ€åç§»ç¨‹åº¦ï¼ˆæè¿°æ€§ï¼Œéœ€æ˜ç¤ºç¯„åœï¼‰

FTR.STRUCT.DIVERGE.WYCKOFF_EFFORT_RESULT_DIVERGENCE.v1

zhï¼šåŠªåŠ›/çµæœèƒŒé›¢ç¨‹åº¦

output_semanticsï¼šèƒŒé›¢ç¨‹åº¦ï¼ˆ0~1ï¼‰

A7.4 çºè«–ï½œé®‘è¿ªå…‹ç‰ˆæœ¬ ç¯„ä¾‹ï¼ˆSTRUCT.CENTER / STRUCT.DIVERGEï¼‰
FTR.STRUCT.CENTER.CHANLUN_ZS_CENTER_STATE.v1

zhï¼šçºè«–ä¸­æ¨ç‹€æ…‹

output_semanticsï¼š{FORMING, EXPANDING, BROKEN, REBUILT}

FTR.STRUCT.CENTER.CHANLUN_PIVOT_RELATION.v1

zhï¼šä¸­æ¨ç›¸å°é—œä¿‚

output_semanticsï¼š{UPSHIFT, DOWNSHIFT, OVERLAP, DISPERSE}

FTR.STRUCT.PATTERN.CHANLUN_BI_SEGMENT_STATE.v1

zhï¼šç­†æ®µè½ç‹€æ…‹

output_semanticsï¼š{FORMING, EXTENDING, COMPLETED}

FTR.STRUCT.DIVERGE.CHANLUN_DIVERGENCE_SCORE.v1

zhï¼šèƒŒé¦³ç¨‹åº¦

output_semanticsï¼š0~1ï¼ˆæè¿°ç¨‹åº¦ï¼‰

FTR.STRUCT.META.CHANLUN_STRUCTURE_COMPLETENESS.v1

zhï¼šçµæ§‹å®Œå‚™åº¦

output_semanticsï¼š0~1ï¼ˆæè¿°å®Œæ•´åº¦ï¼Œä¸æ˜¯å¯äº¤æ˜“æ€§ï¼‰

A7.5 æ³¢å‹•/æµå‹•æ€§ ç¯„ä¾‹ï¼ˆVOL / LIQï¼‰
FTR.VOL.VOL.ATR_LEVEL.v1

zhï¼šATR æ³¢å‹•æ°´å¹³

output_semanticsï¼šæ³¢å‹•æ°´å¹³ï¼ˆæ•¸å€¼ï¼‹æ¨™æº–åŒ–ç‰ˆæœ¬ï¼‰

FTR.VOL.VOL.VOLATILITY_COMPRESSION_STATE.v1

zhï¼šæ³¢å‹•æ”¶æ–‚ç‹€æ…‹

output_semanticsï¼š{COMPRESSING, NEUTRAL, EXPANDING}

FTR.LIQ.SPREAD.SPREAD_LEVEL.v1

zhï¼šé»å·®æ°´å¹³

output_semanticsï¼šé»å·®ï¼ˆticks / bpsï¼‰

FTR.LIQ.DEPTH.DEPTH_STRESS.v1

zhï¼šæ·±åº¦å£“åŠ›

output_semanticsï¼šæ·±åº¦ä¸è¶³ç¨‹åº¦ï¼ˆ0~1 æˆ–åˆ†ç´šï¼‰

FTR.LIQ.IMPACT.PRICE_IMPACT_ESTIMATE.v1

zhï¼šè¡æ“Šæˆæœ¬ä¼°è¨ˆ

output_semanticsï¼šä¼°è¨ˆè¡æ“Šæˆæœ¬ï¼ˆbpsï¼Œæè¿°ï¼‰

A7.6 åŸºæœ¬é¢ ç¯„ä¾‹ï¼ˆFUND.*ï¼‰
FTR.FUND.VAL.PE_PERCENTILE.v1

zhï¼šæœ¬ç›Šæ¯”åˆ†ä½æ•¸

output_semanticsï¼š0~1ï¼ˆåˆ†ä½ï¼›éœ€æ˜ç¤ºè³‡æ–™çª—å£ï¼‰

FTR.FUND.VAL.PB_PERCENTILE.v1

zhï¼šè‚¡åƒ¹æ·¨å€¼æ¯”åˆ†ä½æ•¸

output_semanticsï¼š0~1

FTR.FUND.QUAL.ROE_LEVEL.v1

zhï¼šROE æ°´å¹³

output_semanticsï¼šROEï¼ˆæ•¸å€¼ï¼‹æœŸé–“ï¼‰

FTR.FUND.GROW.REVENUE_YOY_RATE.v1

zhï¼šç‡Ÿæ”¶å¹´å¢ç‡

output_semanticsï¼šYoYï¼ˆæè¿°ï¼›éœ€å…¬å‘Šå¯å¾—æ™‚é–“ï¼‰

FTR.FUND.CASH.CFO_QUALITY_SCORE.v1

zhï¼šç¾é‡‘æµå“è³ªåˆ†æ•¸

output_semanticsï¼šå“è³ªåˆ†æ•¸ï¼ˆæè¿°æ€§ï¼‰

ğŸ“Œ FUND é¡ä¸€å¾‹å¿…å¡«ï¼š

data_latency=ANNOUNCEMENT_LAG

lookahead_policy=NO_LOOKAHEAD
ä¸¦è¦æ±‚ available_atï¼ˆä½•æ™‚å¯å¾—ï¼‰å¯«å…¥ provenance/auditï¼ˆä¸å¾—ç”¨äº‹å¾Œå€¼ï¼‰ã€‚

A7.7 äº‹ä»¶/æƒ…ç·’/å®è§€ ç¯„ä¾‹ï¼ˆEVENT/SENT/MACROï¼‰
FTR.EVENT.FLAG.EARNINGS_WINDOW_FLAG.v1

zhï¼šè²¡å ±çª—å£æ——æ¨™

output_semanticsï¼š{IN_WINDOW, OUT_WINDOW}

FTR.EVENT.DENS.NEWS_DENSITY_LEVEL.v1

zhï¼šæ–°èå¯†åº¦æ°´å¹³

output_semanticsï¼šå¯†åº¦ï¼ˆæè¿°æ€§ï¼‰

FTR.SENT.MOOD.SENTIMENT_POLARITY_SCORE.v1

zhï¼šæƒ…ç·’æ¥µæ€§åˆ†æ•¸

output_semanticsï¼š-1~1ï¼ˆæè¿°æ€§ï¼›ä¸å¾—å‘½åç‚ºå¤šç©ºï¼‰

FTR.MACRO.POL.RATE_DECISION_FLAG.v1

zhï¼šåˆ©ç‡æ±ºç­–æ™‚é»æ——æ¨™

output_semanticsï¼š{UPCOMING, RECENT, NONE}

A7.8 QA/GOV/EXEC ç¯„ä¾‹ï¼ˆæ²»ç†è§€æ¸¬ï¼‰
FTR.QA.MISS.MISSING_RATE.v1

zhï¼šç¼ºå€¼ç‡

output_semanticsï¼š0~1

FTR.QA.DELAY.DATA_LATENCY_MS.v1

zhï¼šè³‡æ–™å»¶é²æ¯«ç§’

output_semanticsï¼šå»¶é²ï¼ˆmsï¼‰

FTR.GOV.COVER.AUDIT_COVERAGE_SCORE.v1

zhï¼šå¯©è¨ˆè¦†è“‹åˆ†æ•¸

output_semanticsï¼š0~1ï¼ˆæè¿°æ€§ï¼‰

FTR.EXEC.HEALTH.CHANNEL_HEALTH_STATE.v1

zhï¼šé€šé“å¥åº·ç‹€æ…‹

output_semanticsï¼š{OK, DEGRADED, DOWN}

FTR.EXEC.CONSIS.RECONCILIATION_STATE.v1

zhï¼šå°å¸³ä¸€è‡´æ€§ç‹€æ…‹

output_semanticsï¼š{CONSISTENT, INCONSISTENT, UNKNOWN}

A8. å‘½åèˆ‡å¯©è¨ˆçš„é€£å‹•è¦å‰‡ï¼ˆå¿…é ˆè½åœ°ï¼‰
A8.1 å¯©è¨ˆå¿…é ˆè¨˜éŒ„ Feature IDï¼ˆå…¨å­—ä¸²ï¼‰
ä»»ä½• Feature çš„è¼¸å‡ºè‹¥è¢«ç´å…¥ Evidenceï¼Œå¯©è¨ˆç‰©å¿…é ˆåŒ…å«ï¼š

feature_idï¼ˆå« verï¼‰

è‹¥æœ‰æ“´å……æ®µï¼šå®Œæ•´ä¿ç•™ __impl__tf__src

A8.2 UI é¡¯ç¤ºè¦å‰‡ï¼ˆæœ€å°è¦æ±‚ï¼‰
UI ä¸å¿…é¡¯ç¤ºå®Œæ•´ feature_idï¼ˆå¯é¡¯ç¤ºä¸­æ–‡åï¼‰ï¼Œä½†å¿…é ˆèƒ½ã€Œå±•é–‹ã€çœ‹åˆ°ï¼š

feature_id

feature_version

inputsï¼ˆæœ€å°é›†åˆï¼‰

output_semantics

A8.3 å‘½åé•è¦çš„ Gateï¼ˆå»ºè­°è½åœ¨ GOV/QAï¼‰
è‹¥å‘½åé•è¦ï¼ˆå«æ–¹å‘è©ã€è¡Œç‚ºè©ã€ç¸¾æ•ˆè©ï¼‰ï¼š

å¿…é ˆé˜»æ­¢å…¶è¢«ç´å…¥ Evidenceï¼ˆRETURN æˆ– VETOï¼Œä¾æ”¿ç­–ï¼‰

å¿…é ˆç•™ä¸‹å¯©è¨ˆåŸå› ç¢¼ï¼š

GOV-FTR-NAME-DIRECTIONAL

GOV-FTR-NAME-ACTION

GOV-FTR-NAME-PERF

A9. Only-Add æ¼”é€²è¦å‰‡ï¼ˆé™„éŒ„ A å°ˆå±¬ï¼‰
å…è¨±æ–°å¢ï¼š

æ–° DOMAINï¼ˆä½†å¿…é ˆè£œé½Šèªç¾©èˆ‡é‚Šç•Œï¼‰

æ–° FAMILY

æ–°å‘½åç¯„ä¾‹

æ–° FeatureMeta æ¬„ä½ï¼ˆä¸å¾—åˆªèˆŠæ¬„ä½ï¼‰

ç¦æ­¢ï¼š

æ”¹å¯«æ—¢æœ‰ DOMAIN/FAMILY çš„èªç¾©

æŠŠæ–¹å‘/è¡Œç‚º/ç¸¾æ•ˆè©åˆæ³•åŒ–

ç”¨ã€Œç°¡åŒ–ã€åç¾©åˆªé™¤ç‰ˆæœ¬æ®µï¼ˆVERï¼‰

ï¼ˆSTRATEGY_FEATURE_INDEXï½œPart 2ï¼šé™„éŒ„A v2026-01-01 å®Œï¼‰

# TAITS_ç­–ç•¥ç‰¹å¾µèˆ‡å› å­ç´¢å¼•ï¼ˆSTRATEGY_FEATURE_INDEXï¼‰__251219
doc_keyï¼šSTRATEGY_FEATURE_INDEX
æ²»ç†ç­‰ç´šï¼šB+ï¼ˆFeature Governance & Semantic Boundary Charterï½œå…¨çŸ¥è­˜è‡ªæ´½æœ€å¤§å®Œå‚™ç‰ˆï¼‰
é©ç”¨ç¯„åœï¼šTAITS å…¨ç³»çµ±ï¼ˆResearch / Backtest / Simulation / Paper / Liveï¼‰
ç‰ˆæœ¬ç‹€æ…‹ï¼šACTIVEï¼ˆç‰¹å¾µå±¤æ²»ç†å°é ‚ï¼‹å¯å±•é–‹çŸ¥è­˜ç´¢å¼•ï¼ŒOnly-Add æ¼”é€²ï¼‰
ç‰ˆæœ¬æ—¥æœŸï¼š2026-01-01
å°é½Šæ¯æ³•ï¼šTAITS_AI_è¡Œç‚ºèˆ‡æ±ºç­–æ²»ç†æœ€çµ‚è¦å‰‡å…¨é›†__251217ï¼ˆA+ï¼‰
ä¸Šä½ç´„æŸï¼šMASTER_ARCH / MASTER_CANON / DOCUMENT_INDEX
å¹³è¡Œåƒç…§ï¼šSTRATEGY_UNIVERSE / ARCH_FLOW / RISK_COMPLIANCE / VERSION_AUDIT / UI_SPEC / DATA_SOURCES / TWSE_RULES
è®Šæ›´åŸå‰‡ï¼šOnly-Addï¼ˆåªå¯æ–°å¢ï¼Œä¸å¯åˆªæ¸›ã€ä¸å¯è¦†å¯«ã€ä¸å¯æ”¹å¯«æ—¢æœ‰èªç¾©ã€ä¸å¯å¼±åŒ–é‚Šç•Œï¼‰
æ ¸å¿ƒå®£å‘Šï¼šFeature â‰  Signal â‰  Strategy â‰  Orderï¼ˆç‰¹å¾µéè¨Šè™Ÿã€éç­–ç•¥ã€éä¸‹å–®ï¼‰

---

# Part 3ï½œé™„éŒ„Bï¼šç‰¹å¾µæ²»ç†æª¢æ ¸ï¼ˆFeature Governance Checklistï¼‰ï¼‹é•è¦åˆ¤å®šï¼ˆæœ€å¤§å®Œå‚™ï¼‰

> æœ¬ Part 3 ç‚º Part 1/Part 2 çš„ **Only-Add æ“´å……**ã€‚
> ç›®çš„ï¼šæŠŠã€Œç‰¹å¾µã€å¾ç ”ç©¶åˆ°å¯¦ç›¤çš„å…¨ç”Ÿå‘½é€±æœŸï¼Œè½æˆ **å¯æ©Ÿå™¨å¯©è¨ˆã€å¯äººé¡å¯©æŸ¥ã€å¯å›æ”¾** çš„æ²»ç†è¦æ ¼ã€‚
> æœ¬ç¯€ä¸æ–°å¢äº¤æ˜“å»ºè­°ã€ä¸æ–°å¢ç­–ç•¥ã€ä¸æ¶‰ä¸‹å–®ï¼›åƒ…è¦ç¯„ã€Œç‰¹å¾µã€å¦‚ä½•è¢«å…è¨±/ç¦æ­¢ä½¿ç”¨ã€‚

---

## B0. æœ¬é™„éŒ„çš„æ³•å¾‹åœ°ä½ï¼ˆæ²»ç†å®šä½ï¼‰

- æœ¬é™„éŒ„æ˜¯ STRATEGY_FEATURE_INDEX çš„æ²»ç†å­ç« ï¼Œå±¬æ–¼ **èªç¾©é‚Šç•Œèˆ‡å¯å¯©è¨ˆæ€§** çš„æœ€é«˜è¦æ ¼ä¹‹ä¸€ã€‚
- ä¸€åˆ‡ã€Œç‰¹å¾µå¯ä¸å¯ä»¥é€²å…¥ Evidenceã€çš„è£æ±ºï¼Œå¿…é ˆè‡³å°‘ç¶“éæœ¬é™„éŒ„çš„ Hard Gatesã€‚
- è‹¥èˆ‡ä¸Šä½ç´„æŸè¡çªï¼šä»¥ MASTER_ARCH / DOCUMENT_INDEX / AI_GOV æ¯æ³•è£æ±ºã€‚

---

## B1. Feature åˆ†ç´šåˆ¶åº¦ï¼ˆFeature Tieringï½œå¿…é ˆæ¨™è¨˜ï¼‰

> Feature ä¸åŒæˆç†Ÿåº¦ï¼Œèƒ½ç”¨åœ¨å“ªè£¡ä¸åŒã€‚
> åˆ†ç´šä¸æ˜¯å¥½å£è©•åˆ†ï¼Œè€Œæ˜¯ **å…è¨±ç”¨é€”ï¼ˆAllowed Usesï¼‰** çš„æ²»ç†æ¬„ä½ã€‚

### B1.1 Feature Tier å®šç¾©ï¼ˆæœ€å°é›†åˆï¼‰
- **T0ï½œDraftï¼ˆè‰ç¨¿ï¼‰**
 - å…è¨±ï¼šResearch å±€éƒ¨å¯¦é©—ï¼ˆä¸å¾—å…¥ Evidenceï¼‰
 - ç¦æ­¢ï¼šBacktest/Sim/Paper/Live çš„ Canonical Evidence
- **T1ï½œResearch-Validatedï¼ˆç ”ç©¶é©—è­‰ï¼‰**
 - å…è¨±ï¼šResearch / Backtestï¼ˆå¯å…¥ Evidence ä½†éœ€æ¨™è¨˜å¯¦é©—ï¼‰
 - ç¦æ­¢ï¼šPaper/Liveï¼ˆé™¤éå‡ç´šåˆ° T2ï¼‰
- **T2ï½œReplay-Safeï¼ˆå¯å›æ”¾å®‰å…¨ï¼‰**
 - å…è¨±ï¼šResearch / Backtest / Simulation / Paper
 - æ¢ä»¶ï¼šprovenance + version_ref + deterministic replay æˆç«‹
- **T3ï½œLive-Allowedï¼ˆå¯é€²å¯¦ç›¤ï¼‰**
 - å…è¨±ï¼šå…¨æ¨¡å¼ï¼ˆå« Liveï¼‰
 - æ¢ä»¶ï¼šè³‡æ–™å»¶é²/ç¼ºå€¼/ç•°å¸¸è™•ç†è¢«åˆ¶åº¦åŒ–ï¼›é¢¨æ§å¯ç†è§£å…¶èªç¾©
- **T4ï½œCriticalï¼ˆé—œéµç‰¹å¾µï¼‰**
 - å…è¨±ï¼šå…¨æ¨¡å¼
 - é¡å¤–è¦æ±‚ï¼šè®Šæ›´éœ€æ›´åš´æ ¼å¯©æ‰¹ï¼ˆVERSION_AUDIT åŠ å¼·ï¼‰

### B1.2 FeatureMeta å¿…å¡«æ¬„ä½ï¼ˆæ–°å¢ï¼štierï¼‰
ä»»ä½• FeatureMeta å¿…é ˆåŒ…å«ï¼š
- `tier: T0|T1|T2|T3|T4`

---

## B2. Feature Hard Gatesï¼ˆé€æ¢å¯«æ»¿ï½œä¸å¯çœç•¥ï¼‰

> ä¸‹åˆ—ä»»ä¸€ Gate å¤±æ•—ï¼š
> - è‡³å°‘ RETURNï¼ˆç¦æ­¢ç´å…¥ Evidenceï¼‰
> - åœ¨ Live é¢¨éšªéˆè·¯ä¸­å¯å‡ç´šç‚º VETOï¼ˆä¾æ”¿ç­–ï¼‰

### B2.1 Gate-1ï¼šèªç¾©é‚Šç•Œï¼ˆSemantic Boundaryï¼‰
æª¢æ ¸é»ï¼ˆå…¨éƒ¨é€šéï¼‰ï¼š
- Feature çš„ `output_semantics` åªæè¿°ç‹€æ…‹/é—œä¿‚/ç¨‹åº¦/æ¨™ç±¤
- Feature åç¨±ä¸å«æ–¹å‘/è¡Œç‚º/ç¸¾æ•ˆæ‰¿è«¾ï¼ˆè¦‹ Part 2 A4ï¼‰
- Feature ä¸åœ¨è¼¸å‡ºä¸­ç›´æ¥æä¾› `buy/sell/long/short/entry/exit` é¡å­—æ®µ

Fail â†’ åŸå› ç¢¼ï¼ˆæœ¬æ–‡ä»¶å…§éƒ¨ç”¨æ–¼å¯©è¨ˆæ¨™è¨˜ï¼‰ï¼š
- `GOV-FTR-SEM-DIRECTIONAL`
- `GOV-FTR-SEM-ACTION`
- `GOV-FTR-SEM-PERF`

### B2.2 Gate-2ï¼šå¯è¿½æº¯æ€§ï¼ˆProvenanceï¼‰
æª¢æ ¸é»ï¼ˆå…¨éƒ¨é€šéï¼‰ï¼š
- inputs å‡å¯è¿½æº¯åˆ° DATA_SOURCES çš„ä¾†æºé …ç›®
- å¿…æœ‰ `provenance_map_ref`
- å¿…æœ‰ `input_hash` / `output_hash`

Fail â†’ åŸå› ç¢¼ï¼š
- `GOV-FTR-PROV-MISSING`
- `GOV-FTR-PROV-BROKEN`
- `GOV-FTR-HASH-MISSING`
- `GOV-FTR-HASH-FAIL`

### B2.3 Gate-3ï¼šç„¡å‰è¦–ï¼ˆNo Lookaheadï¼‰
æª¢æ ¸é»ï¼ˆå…¨éƒ¨é€šéï¼‰ï¼š
- `lookahead_policy=NO_LOOKAHEAD`
- FUND/EVENT é¡å¿…è¨˜éŒ„ `available_at`ï¼ˆè³‡æ–™å¯å¾—æ™‚é–“ï¼‰
- å›æ¸¬/å›æ”¾æ™‚ä½¿ç”¨ã€Œç•¶æ™‚å¯å¾—ç‰ˆæœ¬ã€

Fail â†’ åŸå› ç¢¼ï¼š
- `GOV-FTR-LOOKAHEAD`
- `GOV-FTR-AVAILABLE_AT-MISSING`

### B2.4 Gate-4ï¼šå›æ”¾ä¸€è‡´æ€§ï¼ˆReplay Determinismï¼‰
æª¢æ ¸é»ï¼ˆå…¨éƒ¨é€šéï¼‰ï¼š
- ç›¸åŒ replay bundle + ç›¸åŒç‰ˆæœ¬ â†’ ç›¸åŒè¼¸å‡º
- è‹¥ä½¿ç”¨éš¨æ©Ÿæˆ–å¤–éƒ¨æœå‹™ï¼šå¿…æœ‰ deterministic è¨­å®šæˆ–å¿«ç…§å›ºåŒ–

Fail â†’ åŸå› ç¢¼ï¼š
- `GOV-FTR-REPLAY-NONDET`
- `GOV-FTR-REPLAY-NOSNAPSHOT`

### B2.5 Gate-5ï¼šç¼ºå€¼/ç•°å¸¸è™•ç†åˆ¶åº¦åŒ–ï¼ˆRobustnessï¼‰
æª¢æ ¸é»ï¼ˆå…¨éƒ¨é€šéï¼‰ï¼š
- `quality_checks` æ˜ç¢ºå®šç¾©ç¼ºå€¼è™•ç†èªç¾©
- åœç‰Œ/åˆ†ç›¤/æ’®åˆç•°å¸¸æ™‚çš„è™•ç†å®šç¾©å­˜åœ¨
- Outlierï¼ˆæ¥µç«¯å€¼ï¼‰è™•ç†èªç¾©å­˜åœ¨ï¼ˆè‹¥è©² domain éœ€è¦ï¼‰

Fail â†’ åŸå› ç¢¼ï¼š
- `GOV-FTR-QA-MISSING`
- `GOV-FTR-HALT-HANDLING-MISSING`
- `GOV-FTR-OUTLIER-HANDLING-MISSING`

### B2.6 Gate-6ï¼šç”¨é€”ç™½åå–®ï¼ˆAllowed Usesï¼‰
æª¢æ ¸é»ï¼ˆå…¨éƒ¨é€šéï¼‰ï¼š
- `allowed_uses` åƒ…åŒ…å«ï¼š
 - `EVIDENCE_INPUT`
 - `REGIME_INPUT`
 - `AUDIT_EXPLAIN`
 - `UI_EXPLAIN`
 - `RISK_CONTEXT_ONLY`ï¼ˆè‹¥è¦çµ¦é¢¨æ§åªèƒ½æ˜¯ä¸Šä¸‹æ–‡ï¼Œä¸æ˜¯æ±ºç­–ï¼‰
- `forbidden_uses` å¿…åŒ…å«ï¼š
 - `DIRECT_SIGNAL`
 - `DIRECT_STRATEGY`
 - `DIRECT_ORDER`

Fail â†’ åŸå› ç¢¼ï¼š
- `GOV-FTR-USE-ILLEGAL`
- `GOV-FTR-USE-WHITELIST-MISSING`

---

## B3. Feature â†’ Evidence çš„ç´å…¥è¦å‰‡ï¼ˆEvidence Ingestion Rulesï¼‰

> Feature é€² Evidence ä¸æ˜¯ã€ŒåŠ å°±å¥½ã€ï¼Œå¿…é ˆå¯è¢«å¯©è¨ˆèˆ‡å¯è¢«è§£é‡‹ã€‚

### B3.1 Evidence å…è¨±è¼‰å…¥çš„ Feature é¡å‹
å…è¨±ï¼ˆç¤ºä¾‹ï¼‰ï¼š
- æè¿°æ€§ï¼šçµæ§‹ç‹€æ…‹ã€å€é–“æœ‰æ•ˆæ€§ã€æ³¢å‹•æ°´å¹³ã€æµå‹•æ€§å£“åŠ›ã€ä¼°å€¼åˆ†ä½æ•¸ã€äº‹ä»¶æ——æ¨™
- ä¸å…è¨±ä»»ä½•å«ã€Œäº¤æ˜“è¡Œç‚ºæŒ‡ä»¤ã€çš„è¼¸å‡º

### B3.2 Evidence å¿…é ˆè¨˜éŒ„çš„ Feature æ¬„ä½ï¼ˆæœ€å°é›†åˆï¼‰
- `feature_id`
- `feature_version`
- `inputs_ref`ï¼ˆå¯æŒ‡å‘ snapshot/provenanceï¼‰
- `output_value_ref`ï¼ˆæˆ– hashï¼‰
- `computed_at`
- `available_at`ï¼ˆè‹¥è³‡æ–™ç‚ºå…¬å‘Šå‹/å»¶é²å‹ï¼‰
- `quality_flags`ï¼ˆç¼ºå€¼/ç•°å¸¸æ¨™è¨˜ï¼‰

### B3.3 Evidence çš„ã€Œç¦æ­¢å·æ›ã€
- ç¦æ­¢åœ¨ Evidence å±¤æŠŠå¤šå€‹ Feature åˆæˆã€Œæ–¹å‘ã€å­—æ®µ
- è‹¥è¦åˆæˆï¼Œåªèƒ½å½¢æˆã€Œæ›´é«˜éšæè¿°æ€§ Featureã€ï¼Œä¸”å¿…é ˆï¼š
 - æ–° feature_id
 - æ–° ver
 - å®Œæ•´ FeatureMeta
 - é€šéæœ¬é™„éŒ„ Hard Gates

é•è¦ç¢¼ï¼š
- `GOV-EVD-SIGNALIZATION`
- `GOV-EVD-UNREGISTERED-FEATURE`

---

## B4. Feature â†’ Regime çš„ä½¿ç”¨é‚Šç•Œï¼ˆRegime Input Boundaryï¼‰

> Regime æ˜¯ç‹€æ…‹åˆ¤å®šï¼Œä¸æ˜¯äº¤æ˜“æ–¹å‘ã€‚
> Feature åœ¨ Regime åªèƒ½è²¢ç»ã€Œç‹€æ…‹è­‰æ“šã€ï¼Œä¸å¾—å°å‡ºè²·è³£å»ºè­°ã€‚

### B4.1 Regime å¯ä½¿ç”¨çš„ Feature é¡å‹ï¼ˆç¤ºä¾‹ï¼‰
- æ³¢å‹•å£“ç¸®/æ“´å¼µç‹€æ…‹ï¼ˆVOLï¼‰
- æµå‹•æ€§å£“åŠ›ç‹€æ…‹ï¼ˆLIQï¼‰
- çµæ§‹éšæ®µï¼ˆSTRUCT.PHASEï¼‰
- è¶¨å‹¢æœ‰åºåº¦ï¼ˆTECH.TREND çš„æè¿°æ€§æŒ‡æ¨™ï¼‰

### B4.2 ç¦æ­¢çš„ Regime ä½¿ç”¨æ–¹å¼
- ä»¥å–®ä¸€ feature ç›´æ¥æ±ºå®š regimeï¼ˆé™¤éåˆ¶åº¦æ˜ç¢ºå®šç¾©ä¸”æœ‰å¤šè­‰æ“šä¸€è‡´æ€§ï¼‰
- ç”¨ã€Œç­–ç•¥ç¸¾æ•ˆæœ€å¥½ã€ä¾†èª¿ regime é–€æª»ï¼ˆç¸¾æ•ˆè¾¯è­·é•è¦ï¼‰

é•è¦ç¢¼ï¼š
- `GOV-REG-SINGLE-FTR-DECISION`
- `GOV-REG-PERF-DRIVEN`

---

## B5. Feature â†’ Risk çš„ä½¿ç”¨é‚Šç•Œï¼ˆRisk Context Onlyï¼‰

> é¢¨æ§æ–‡ä»¶å®šç¾© Gateï¼›Feature åªèƒ½æä¾›ä¸Šä¸‹æ–‡ï¼Œä¸èƒ½å–ä»£ Gateã€‚

### B5.1 Risk å¯å¼•ç”¨ Feature çš„åˆæ³•æ–¹å¼
- ä½œç‚ºé¢¨æ§è¨ˆç®—çš„ã€Œä¸Šä¸‹æ–‡è¼¸å…¥ã€ï¼š
 - æ³¢å‹•æ°´å¹³ã€é»å·®æ°´å¹³ã€æ·±åº¦å£“åŠ›ã€äº‹ä»¶çª—å£ã€è³‡æ–™å“è³ªç‹€æ…‹
- ä½†é¢¨æ§ PASS/VETO å¿…é ˆç”± RISK_COMPLIANCE çš„æ¢æ–‡è£æ±º

### B5.2 ç¦æ­¢äº‹é …
- ä»¥ Feature ç›´æ¥å®£å‘Š PASSï¼ˆSoft Passï¼‰
- ä»¥ Feature ç›´æ¥å®£å‘Š VETOï¼ˆé™¤éè©² feature æœ¬èº«æ˜¯é¢¨æ§æ¢æ–‡æ˜ å°„çš„ä¸€éƒ¨åˆ†ï¼Œä¸”å·²è¢«åˆ¶åº¦åŒ–ï¼‰
- ç”¨ AI æ¨¡å‹è¼¸å‡ºç•¶æˆé¢¨æ§è£æ±ºï¼ˆé™¤é RISK_COMPLIANCE æ˜ç¢ºå…è¨±ä¸”å¯å›æ”¾ï¼‰

é•è¦ç¢¼ï¼š
- `GOV-RISK-SOFTPASS-BY-FTR`
- `GOV-RISK-VETO-BY-FTR-UNAUTHORIZED`
- `GOV-RISK-AI-OVERRIDE`

---

## B6. Feature ç”Ÿå‘½é€±æœŸï¼ˆLifecycleï¼‰èˆ‡ç‰ˆæœ¬æ§ç®¡ï¼ˆVERSION_AUDIT å°ä½ï¼‰

### B6.1 Feature ç‹€æ…‹ï¼ˆStatusï¼‰
- `DRAFT`
- `ACTIVE`
- `DEPRECATED`ï¼ˆä¿ç•™å¯å›æ”¾ï¼Œä½†ä¸å¾—ç”¨æ–¼æ–°æ±ºç­–ï¼‰
- `RETIRED`ï¼ˆä»å¯å›æ”¾ï¼Œä½†éœ€æ›´åš´æ ¼æ¬Šé™ï¼‰

### B6.2 è®Šæ›´é¡å‹ï¼ˆChange Typesï¼‰
- `SEMANTIC_CHANGE` â†’ å¿…å‡ `VER`
- `IMPLEMENTATION_CHANGE` â†’ åªèƒ½æ”¹ `__impl`
- `DATA_SOURCE_CHANGE` â†’ å¯èƒ½å‡ `VER`ï¼ˆè‹¥å½±éŸ¿èªç¾©ï¼‰

### B6.3 å¿…å‚™å¯©è¨ˆè¼¸å‡ºï¼ˆèˆ‡ VERSION_AUDIT å°ä½ï¼‰
æ¯æ¬¡è®Šæ›´å¿…é ˆç”¢ç”Ÿï¼š
- `change_id`
- `feature_id_before` / `feature_id_after`
- `reason`
- `approver`
- `effective_time`
- `replay_compatibility_note`

---

## B7. è·¨æ–‡ä»¶ä¸€è‡´æ€§è¦æ±‚ï¼ˆDOCUMENT_INDEX / STRATEGY_UNIVERSEï¼‰

### B7.1 STRATEGY_UNIVERSE å¼•ç”¨ Feature çš„è¦å‰‡
- ç­–ç•¥æ¢ç›®ä¸­å¯ä»¥å¼•ç”¨ Feature ID ä½œç‚ºï¼š
 - Evidence æ§‹æˆè¦ä»¶
 - é©ç”¨æ¢ä»¶æè¿°
 - é¢¨æ§ä¸Šä¸‹æ–‡æç¤º
- ä½†ä¸å¾—å¼•ç”¨ã€Œæœªç™»è¨˜ Featureã€ï¼ˆæœªåœ¨æœ¬æ–‡ä»¶çš„ç´¢å¼•/æ¨¡æ¿ç®¡ç†ï¼‰

é•è¦ç¢¼ï¼š
- `GOV-STR-REF-UNKNOWN-FTR`
- `GOV-STR-REF-NONINDEX-DOC`ï¼ˆè‹¥å¼•ç”¨é Index æ–‡ä»¶ï¼‰

### B7.2 æ–°å°è©±å¯å±•é–‹çš„å¿…è¦æ€§ï¼ˆä½ é—œå¿ƒçš„é»ï¼‰
è¦è®“ã€Œæ–°å°è©±ã€èƒ½å±•é–‹ï¼Œæœ€ä½è¦åšåˆ°ï¼š
- Feature ID å‘½åè¦ç¯„å›ºå®š
- FeatureMeta template å›ºå®š
- èˆ‰ä¾‹ï¼ˆA7ï¼‰è¶³å¤ å…¨é¢ï¼Œèƒ½æŒ‡å‘ GMMA / é¡§æ¯”å€’æ•¸ / å¨ç§‘å¤« / çºè«–ï¼ˆé®‘è¿ªå…‹ï¼‰ç­‰æ–¹æ³•è«–

æœ¬ Part 3 çš„ä½œç”¨å°±æ˜¯æŠŠä¸Šè¿°ã€Œå±•é–‹ã€è®Šæˆå¯å¯©è¨ˆè¦å‰‡ï¼Œè€Œä¸æ˜¯é çŒœã€‚

---

## B8. Mermaidï½œFeature æ²»ç† Gate æµç¨‹åœ–ï¼ˆå®Œæ•´ï¼‰

```mermaid
```
flowchart TB
 F0[New/Updated Feature Proposal] --> G1{Gate-1 Semantic Boundary}
 G1 -->|FAIL| R1[RETURN: Fix Naming/Semantics<br/>Audit: GOV-FTR-SEM-*]
 G1 -->|PASS| G2{Gate-2 Provenance + Hash}
 G2 -->|FAIL| R2[RETURN: Fix Provenance/Hash<br/>Audit: GOV-FTR-PROV/HASH-*]
 G2 -->|PASS| G3{Gate-3 No Lookahead + Available_at}
 G3 -->|FAIL| R3[RETURN: Fix Lookahead/Available_at<br/>Audit: GOV-FTR-LOOKAHEAD]
 G3 -->|PASS| G4{Gate-4 Replay Determinism}
 G4 -->|FAIL| R4[RETURN: Snapshot/Determinism Required<br/>Audit: GOV-FTR-REPLAY-*]
 G4 -->|PASS| G5{Gate-5 Robust QA Handling}
 G5 -->|FAIL| R5[RETURN: Define QA/Halt/Outlier Handling<br/>Audit: GOV-FTR-QA-*]
 G5 -->|PASS| G6{Gate-6 Allowed/Forbidden Uses}
 G6 -->|FAIL| R6[RETURN: Fix Uses Whitelist/Blacklist<br/>Audit: GOV-FTR-USE-*]
 G6 -->|PASS| A1[APPROVE: Feature Eligible for Evidence/Regime Use<br/>Tier Controls Apply]
B9. Only-Add æ¼”é€²è¦å‰‡ï¼ˆPart 3 å°ˆå±¬ï¼‰
å…è¨±æ–°å¢ï¼š

æ–°çš„ Gate æª¢æ ¸é»ï¼ˆæ›´åš´æ ¼ï¼‰

æ–°çš„é•è¦åŸå› ç¢¼ï¼ˆreason_codeï¼‰

æ–°çš„ Feature Tierï¼ˆä½†ä¸å¾—æ”¾å¯¬æ—¢æœ‰ Tier çš„é™åˆ¶ï¼‰

æ–°çš„ç¯„ä¾‹èˆ‡æ¨¡æ¿æ¬„ä½ï¼ˆä¸å¾—ç§»é™¤æ—¢æœ‰æ¬„ä½ï¼‰

ç¦æ­¢ï¼š

åˆªé™¤ä»»ä½• Hard Gate

æŠŠæ–¹å‘åŒ–å‘½ååˆæ³•åŒ–

å…è¨± Feature ç›´æ¥æˆç‚ºç­–ç•¥æˆ–ä¸‹å–®æŒ‡ä»¤

ä»¥ã€Œç ”ç©¶æ–¹ä¾¿ã€ç‚ºç†ç”±è·³é provenance / replay / no-lookahead

ï¼ˆSTRATEGY_FEATURE_INDEXï½œPart 3ï¼šé™„éŒ„B v2026-01-01 å®Œï¼‰

# TAITS_ç­–ç•¥ç‰¹å¾µèˆ‡å› å­ç´¢å¼•ï¼ˆSTRATEGY_FEATURE_INDEXï¼‰__251219
doc_keyï¼šSTRATEGY_FEATURE_INDEX
æ²»ç†ç­‰ç´šï¼šB+ï¼ˆFeature Governance & Semantic Boundary Charterï½œå…¨çŸ¥è­˜è‡ªæ´½æœ€å¤§å®Œå‚™ç‰ˆï¼‰
é©ç”¨ç¯„åœï¼šTAITS å…¨ç³»çµ±ï¼ˆResearch / Backtest / Simulation / Paper / Liveï¼‰
ç‰ˆæœ¬ç‹€æ…‹ï¼šACTIVEï¼ˆç‰¹å¾µå±¤æ²»ç†å°é ‚ï¼‹å¯å±•é–‹çŸ¥è­˜ç´¢å¼•ï¼ŒOnly-Add æ¼”é€²ï¼‰
ç‰ˆæœ¬æ—¥æœŸï¼š2026-01-01
å°é½Šæ¯æ³•ï¼šTAITS_AI_è¡Œç‚ºèˆ‡æ±ºç­–æ²»ç†æœ€çµ‚è¦å‰‡å…¨é›†__251217ï¼ˆA+ï¼‰
ä¸Šä½ç´„æŸï¼šMASTER_ARCH / MASTER_CANON / DOCUMENT_INDEX
å¹³è¡Œåƒç…§ï¼šSTRATEGY_UNIVERSE / ARCH_FLOW / RISK_COMPLIANCE / VERSION_AUDIT / UI_SPEC / DATA_SOURCES / TWSE_RULES
è®Šæ›´åŸå‰‡ï¼šOnly-Addï¼ˆåªå¯æ–°å¢ï¼Œä¸å¯åˆªæ¸›ã€ä¸å¯è¦†å¯«ã€ä¸å¯æ”¹å¯«æ—¢æœ‰èªç¾©ã€ä¸å¯å¼±åŒ–é‚Šç•Œï¼‰
æ ¸å¿ƒå®£å‘Šï¼šFeature â‰  Signal â‰  Strategy â‰  Orderï¼ˆç‰¹å¾µéè¨Šè™Ÿã€éç­–ç•¥ã€éä¸‹å–®ï¼‰

---

# Part 4ï½œé™„éŒ„Cï¼šç‰¹å¾µè³‡æ–™çµæ§‹æ¨¡æ¿ï¼ˆSchemaï¼‰ï¼‹è½åœ°ç¯„ä¾‹ï¼ˆExamplesï¼‰ï¼‹UI/å¯©è¨ˆå°ä½ï¼ˆæœ€å¤§å®Œå‚™ï¼‰

> æœ¬ Part 4 ç‚º Part 1/Part 2/Part 3 çš„ **Only-Add æ“´å……**ã€‚
> ç›®çš„ï¼šæä¾›ã€Œå¯ç›´æ¥è²¼ç”¨ã€çš„ç‰¹å¾µè³‡æ–™çµæ§‹æ¨¡æ¿ï¼ˆFeatureMeta / FeatureValue / ProvenanceMap / QualityFlagsï¼‰ï¼Œ
> ä¸¦è£œé½Š GMMAã€é¡§æ¯”å€’æ•¸ç·šã€å¨ç§‘å¤«ã€çºè«–ï¼ˆé®‘è¿ªå…‹ï¼‰ç­‰æ–¹æ³•è«–åœ¨ TAITS ä¸­çš„ **ç‰¹å¾µåŒ–è½åœ°ç¯„ä¾‹**ï¼ˆæ³¨æ„ï¼šåªåšæè¿°æ€§ç‰¹å¾µï¼Œä¸è¼¸å‡ºäº¤æ˜“æ–¹å‘ï¼‰ã€‚

---

## C0. é™„éŒ„Cçš„ä½¿ç”¨é‚Šç•Œï¼ˆä¸å¯è¶Šæ¬Šï¼‰

- æœ¬é™„éŒ„æä¾›ã€Œçµæ§‹åŒ–æ¨¡æ¿ã€èˆ‡ã€Œæè¿°æ€§ç‰¹å¾µç¯„ä¾‹ã€ï¼š
 - âœ… å¯ç”¨æ–¼ L4 Feature Engine / L5 Evidence Builder / UI Explain / Audit Replay
 - âœ… å¯ç”¨æ–¼ STRATEGY_UNIVERSE çš„ç­–ç•¥æ¢ç›®å‚™è¨»å¼•ç”¨ï¼ˆä»¥ feature_id å¼•ç”¨ï¼‰
 - âŒ ä¸å¾—ç›´æ¥è®Šæˆç­–ç•¥è¦å‰‡ï¼ˆç­–ç•¥åœ¨ STRATEGY_UNIVERSE å®šç¾©ï¼‰
 - âŒ ä¸å¾—ç›´æ¥è®Šæˆä¸‹å–®ä¿¡è™Ÿï¼ˆä¸‹å–®åœ¨ EXECUTION_CONTROLï¼Œä¸”éœ€ Human + Risk Tokenï¼‰

---

## C1. FeatureMeta æ¨¡æ¿ï¼ˆCanonical Templateï½œæœ€å°å¿…å‚™æ¬„ä½ï¼‰

> FeatureMeta æ˜¯ã€Œç‰¹å¾µå®šç¾©æœ¬é«”ã€ï¼Œå±¬æ–¼æ²»ç†ç‰©ä»¶ï¼šå¿…é ˆç‰ˆæ§ã€å¯å¯©è¨ˆã€å¯å›æ”¾ã€‚
> ä»»ä½•ç‰¹å¾µé€²å…¥ Evidence/Regime/Risk Context/UI Explainï¼Œéƒ½å¿…é ˆå…ˆæœ‰ FeatureMetaã€‚

```yaml
feature_meta:
 feature_id: "TECH.TREND.GMMA_SPREAD_RATIO"
 feature_name_zh: "GMMAé•·çŸ­ç¾¤å‡ç·šæ“´æ•£æ¯”ï¼ˆæè¿°æ€§ï¼‰"
 feature_name_en: "GMMA Spread Ratio (Descriptive)"
 domain: "TECH" # TECH/FUND/NEWS/MACRO/MKT/STRUCT/LIQ/ORDERFLOW/RISK/SYS/EVENT
 family: "TREND" # æ—ç¾¤åˆ†é¡ï¼šTREND/MOMENTUM/VOL/LIQ/STRUCT/VALUATION/QUALITY/...
 subfamily: "GMMA" # å­æ—ç¾¤ï¼šGMMA/WYCKOFF/CHANLUN_BODICK/...
 description: >
 æè¿°é•·çŸ­æœŸå‡ç·šç¾¤ä¹‹é–“çš„æ“´æ•£ç¨‹åº¦ï¼Œç”¨æ–¼åˆ»ç•«è¶¨å‹¢æœ‰åºåº¦èˆ‡å‹•èƒ½ç‹€æ…‹ï¼Œ
 åƒ…è¼¸å‡ºé€£çºŒæ•¸å€¼ï¼Œä¸è¼¸å‡ºè²·è³£æ–¹å‘ã€‚
 output_semantics: "ratio_non_directional" # å¿…é ˆæ˜¯æè¿°æ€§èªç¾©
 unit: "ratio"
 value_type: "float" # float/int/bool/category/struct
 value_range: "[0, +inf)"
 default_timeframe: "D" # 1m/5m/15m/60m/D/W/M
 computation:
 formula_summary: "spread = mean(abs(short_group - long_group)/price"
 lookahead_policy: "NO_LOOKAHEAD"
 required_inputs:
 - "PRICE.CLOSE"
 - "TECH.MA(3,5,8,10,12,15,30,35,40,45,50,60)"
 dependencies:
 - "DATA_SOURCES:TWSE_OHLCV"
 - "FEATURES:TECH.MA_GROUPS"
 tier: "T3" # T0/T1/T2/T3/T4
 status: "ACTIVE" # DRAFT/ACTIVE/DEPRECATED/RETIRED
 allowed_uses:
 - "EVIDENCE_INPUT"
 - "REGIME_INPUT"
 - "AUDIT_EXPLAIN"
 - "UI_EXPLAIN"
 forbidden_uses:
 - "DIRECT_SIGNAL"
 - "DIRECT_STRATEGY"
 - "DIRECT_ORDER"
 quality_checks:
 missing_policy: "FLAG" # FLAG/IMPUTE/STOP (STOP å¿…é ˆå‡ç´šæ²»ç†)
 outlier_policy: "WINSORIZE" # NONE/WINSORIZE/FLAG/STOP
 halt_handling: "FREEZE_LAST" # FREEZE_LAST/FLAG/STOP/NA
 provenance_requirements:
 require_provenance_map: true
 require_input_hash: true
 require_output_hash: true
 require_available_at: false # FUND/EVENT/NEWS é¡é€šå¸¸ true
 audit_requirements:
 audit_layer: "L4"
 must_emit_artifacts:
 - "FeatureValueRecord"
 - "ProvenanceMapRef"
 - "QualityFlags"
 versioning:
 feature_version: "1.0.0"
 impl_version: "impl_2026-01-01_001"
 change_policy: "SEMANTIC_CHANGE=>bump_feature_version"
 ui_explain:
 explain_level: "L2" # L1/L2/L3ï¼ˆUI_SPEC å°ä½ï¼‰
 display_hint: "å¯è¦–åŒ–ç‚ºè¶¨å‹¢æœ‰åºåº¦/æ“´æ•£ç¨‹åº¦ï¼Œç¦æ­¢é¡¯ç¤ºè²·è³£ç®­é ­"
C2. FeatureValueRecord æ¨¡æ¿ï¼ˆå€¼ç´€éŒ„ï½œå¿…å‚™å¯å›æ”¾ï¼‰
FeatureValueRecord æ˜¯ã€ŒæŸä¸€æ¬¡è¨ˆç®—å‡ºçš„ç‰¹å¾µå€¼ã€ï¼šå¿…é ˆå¯å›æ”¾ã€å¯ç¨½æ ¸ã€‚

json
è¤‡è£½ç¨‹å¼ç¢¼
{
 "record_type": "FeatureValueRecord",
 "correlation_id": "CID-20251219-000001",
 "session_id": "SID-20251219-000009",
 "timestamp_utc": "2026-01-01T00:01:23Z",
 "market_time": "2026-01-01T13:31:00+08:00",
 "layer_id": "L4",
 "module_id": "FEATURE_ENGINE",
 "feature_id": "TECH.TREND.GMMA_SPREAD_RATIO",
 "feature_version": "1.0.0",
 "impl_version": "impl_2026-01-01_001",
 "instrument": "TWSE:2330",
 "timeframe": "D",
 "value_type": "float",
 "value": 0.0375,
 "value_ref": null,
 "quality_flags": {
 "missing": false,
 "halted": false,
 "outlier": false,
 "source_degraded": false
 },
 "available_at": null,
 "input_hash": "sha256:....",
 "output_hash": "sha256:....",
 "provenance_map_ref": "PROV-20251219-000001",
 "version_ref": {
 "doc_key": ["STRATEGY_FEATURE_INDEX@251219", "DATA_SOURCES@251219"],
 "policy": ["RISK_POLICY@..."],
 "rulebook": ["TWSE_RULES@251219"]
 },
 "status": "SUCCESS",
 "reason_codes": []
}
C3. ProvenanceMap æ¨¡æ¿ï¼ˆä¾†æºå¯è¿½æº¯åœ–ï½œå¿…å‚™ï¼‰
ProvenanceMap å°‡ã€Œç‰¹å¾µå€¼ã€è¿½æº¯åˆ°ã€Œè³‡æ–™ä¾†æºã€èˆ‡ã€ŒåŸå§‹è¼¸å…¥ç¯„åœã€ã€‚
æ²’æœ‰ provenance_map_ref â†’ Part 3 Gate-2 å¤±æ•—ã€‚

json
è¤‡è£½ç¨‹å¼ç¢¼
{
 "record_type": "ProvenanceMap",
 "provenance_id": "PROV-20251219-000001",
 "correlation_id": "CID-20251219-000001",
 "created_at_utc": "2026-01-01T00:01:23Z",
 "instrument": "TWSE:2330",
 "timeframe": "D",
 "inputs": [
 {
 "field": "PRICE.CLOSE",
 "source": "DATA_SOURCES:TWSE_OHLCV",
 "source_priority": "OFFICIAL_PRIMARY",
 "time_range": ["2025-10-01", "2026-01-01"],
 "raw_ref": "RAWSET-...-CLOSE",
 "transform_chain": ["canonicalize", "adjust_corporate_actions"]
 },
 {
 "field": "TECH.MA_GROUPS",
 "source": "FEATURES:TECH.MA_GROUPS",
 "source_priority": "INTERNAL_DERIVED",
 "time_range": ["2025-10-01", "2026-01-01"],
 "raw_ref": "FTRSET-...-MA",
 "transform_chain": ["ma_calc", "group_aggregate"]
 }
 ],
 "integrity": {
 "input_hashes": ["sha256:...","sha256:..."],
 "provenance_hash": "sha256:..."
 }
}
C4. QualityFlags / Degrade Policyï¼ˆå“è³ªæ——æ¨™èˆ‡é™ç´šèªç¾©ï¼‰
æ³¨æ„ï¼šé™ç´šåªå½±éŸ¿ã€Œå¯ç”¨æ€§ã€èˆ‡ã€Œæ¨™è¨˜ã€ï¼Œä¸å¾—å·å·ä¿®æ­£æˆæ–¹å‘æˆ–æ©è“‹ç¼ºå¤±ã€‚

C4.1 QualityFlagsï¼ˆæœ€å°é›†åˆï¼‰
missingï¼šç¼ºå€¼ï¼ˆå«ä»»ä¸€é—œéµè¼¸å…¥ç¼ºå¤±ï¼‰

haltedï¼šåœç‰Œ/ä¸å¯äº¤æ˜“ç‹€æ…‹

outlierï¼šæ¥µç«¯å€¼

source_degradedï¼šä¾†æºé™ç´šï¼ˆå®˜æ–¹â†’å‚™æ´ï¼‰

staleï¼šè³‡æ–™éèˆŠï¼ˆå»¶é²è¶…éé–€æª»ï¼‰

late_availableï¼šå…¬å‘Šå‹è³‡æ–™å°šæœªå¯å¾—ï¼ˆFUND/EVENTï¼‰

C4.2 é™ç´šèªç¾©ï¼ˆç¤ºä¾‹ï¼‰
FLAGï¼šä¿ç•™å€¼æˆ–è¨­ç‚º nullï¼Œä½†å¿…æ¨™è¨˜ä¸¦åœ¨ Evidence é¡¯ç¤ºä¸å®Œæ•´

STOPï¼šåœæ­¢è¼¸å‡ºï¼ŒEvidence ä¸å¾—ä½¿ç”¨ï¼ˆå¯ RETURNï¼‰

IMPUTEï¼šåƒ…é™ç ”ç©¶/å›æ¸¬ä¸”æ˜ç¤ºï¼ˆLive ä¸å»ºè­°ï¼Œé™¤éåˆ¶åº¦åŒ–ï¼‰

C5. æ–¹æ³•è«–è½åœ°ç¯„ä¾‹ï¼ˆDescriptive Feature Examplesï½œæœ€å¤§å®Œå‚™ï¼‰
æœ¬ç¯€æ˜¯ä½ æœ€åœ¨æ„çš„ã€Œå‚™è¨»å¯å±•é–‹ã€è½åœ°ï¼š
æŠŠ GMMA / é¡§æ¯”å€’æ•¸ç·š / å¨ç§‘å¤« / çºè«–ï¼ˆé®‘è¿ªå…‹ï¼‰å„è‡ªæ‹†æˆã€Œæè¿°æ€§ç‰¹å¾µã€å¯å¼•ç”¨ã€‚
é€™äº›ç‰¹å¾µä¸ç”¢ç”Ÿè²·è³£æ–¹å‘ï¼Œåªæä¾›å¯è§£é‡‹çš„ç‹€æ…‹åˆ»ç•«ï¼Œä¾› Evidence/Regime/ç­–ç•¥æ¢ç›®å‚™è¨»å¼•ç”¨ã€‚

C5.1 GMMAï¼ˆé¡§æ¯”å‡ç·šç¾¤ï¼‰ç‰¹å¾µæ—ï¼ˆTECH.TREND.GMMA_*ï¼‰
GMMA æœ¬è³ªï¼šçŸ­æœŸç¾¤èˆ‡é•·æœŸç¾¤çš„ç›¸å°ä½ç½®ã€æ“´æ•£ã€æ”¶æ–‚ã€æ–œç‡ç‹€æ…‹ï¼ˆå…¨éƒ¨æè¿°æ€§ï¼‰ã€‚

GMMA-Aï¼šç¾¤æ“´æ•£ç¨‹åº¦ï¼ˆå·²æ–¼ C1 ç¯„ä¾‹ï¼‰
TECH.TREND.GMMA_SPREAD_RATIO

èªç¾©ï¼šçŸ­ç¾¤ vs é•·ç¾¤çš„æ“´æ•£ç¨‹åº¦ï¼ˆè¶Šå¤§ä»£è¡¨è¶¨å‹¢æœ‰åºåº¦å¯èƒ½æ›´å¼·ï¼Œä½†ä¸ç­‰æ–¼åšå¤š/åšç©ºï¼‰

GMMA-Bï¼šç¾¤ç›¸å°ä½éšï¼ˆçŸ­ç¾¤åœ¨ä¸Š/ä¸‹ï¼‰
TECH.TREND.GMMA_STACKING_STATE

value_typeï¼šcategoryï¼ˆSHORT_ABOVE_LONG / MIXED / SHORT_BELOW_LONGï¼‰

ç¦æ­¢ï¼šæŠŠ SHORT_ABOVE_LONG ç›´æ¥ç•¶è²·é€²

GMMA-Cï¼šç¾¤æ”¶æ–‚ç‹€æ…‹ï¼ˆå£“ç¸®/æ“´å¼µï¼‰
TECH.TREND.GMMA_COMPRESSION_STATE

value_typeï¼šcategoryï¼ˆCOMPRESSING / EXPANDING / NEUTRALï¼‰

å¯ç”¨æ–¼ Regimeï¼šè¶¨å‹¢ç‹€æ…‹/ç›¤æ•´ç‹€æ…‹çš„è­‰æ“šä¹‹ä¸€

GMMA-Dï¼šé•·ç¾¤æ–œç‡ç©©å®šæ€§ï¼ˆè¶¨å‹¢ç©©å®šï¼‰
TECH.TREND.GMMA_LONG_SLOPE_STABILITY

value_typeï¼šfloatï¼ˆä¾‹å¦‚æ–œç‡è®Šç•°ä¿‚æ•¸ï¼‰

ç”¨é€”ï¼šæè¿°ã€Œè¶¨å‹¢æ˜¯å¦ç©©å®šã€ï¼Œéæ–¹å‘

C5.2 é¡§æ¯”å€’æ•¸ç·šï¼ˆGuppy Countdownï¼‰ç‰¹å¾µæ—ï¼ˆTECH.MOMENTUM.COUNTDOWN_*ï¼‰
å€’æ•¸ç·šå¸¸ç”¨æ–¼ã€Œç¯€å¥ã€èˆ‡ã€Œè€—ç«­ã€çš„æè¿°ï¼šç”¨å€’æ•¸é€²åº¦è€Œéè¨Šè™Ÿã€‚

CD-Aï¼šå€’æ•¸é€²åº¦ï¼ˆ0~Nï¼‰
TECH.MOMENTUM.COUNTDOWN_PROGRESS

value_typeï¼šint

èªç¾©ï¼šç•¶å‰è™•æ–¼å€’æ•¸åºåˆ—çš„é€²åº¦ï¼ˆä¾‹å¦‚ 0..13ï¼‰

ç¦æ­¢ï¼šé€²åº¦é”åˆ° N ç›´æ¥è¦–ç‚ºåè½‰è¨Šè™Ÿï¼ˆé‚£æ˜¯ç­–ç•¥å±¤ï¼‰

CD-Bï¼šå€’æ•¸æ¢ä»¶å®Œæ•´åº¦
TECH.MOMENTUM.COUNTDOWN_CONDITION_COVERAGE

value_typeï¼šfloatï¼ˆ0..1ï¼‰

èªç¾©ï¼šå€’æ•¸å¿…è¦æ¢ä»¶æ»¿è¶³æ¯”ä¾‹ï¼ˆæè¿°æ€§ï¼‰

CD-Cï¼šå€’æ•¸ä¸­æ–·åŸå› ï¼ˆè‹¥ä¸­æ–·ï¼‰
TECH.MOMENTUM.COUNTDOWN_INTERRUPT_REASON

value_typeï¼šcategory

èªç¾©ï¼šå€’æ•¸ç‚ºä½•ä¸­æ–·ï¼ˆç¼ºè³‡æ–™/ç‹€æ…‹ä¸ç¬¦/åœç‰Œç­‰ï¼‰

C5.3 å¨ç§‘å¤«ï¼ˆWyckoffï¼‰ç‰¹å¾µæ—ï¼ˆSTRUCT.WYCKOFF_*ï¼‰
å¨ç§‘å¤«å±¬ã€Œçµæ§‹/éšæ®µã€ï¼šä»¥éšæ®µã€äº‹ä»¶ã€ä¾›éœ€ç‰¹å¾µåˆ»ç•«ï¼Œä¸è¼¸å‡ºæ–¹å‘ã€‚

WY-Aï¼šéšæ®µæ¨™ç±¤ï¼ˆPhaseï¼‰
STRUCT.WYCKOFF_PHASE_LABEL

categoryï¼šACCUMULATION / MARKUP / DISTRIBUTION / MARKDOWN / UNKNOWN

æ³¨æ„ï¼šæ­¤ç‚ºã€Œçµæ§‹æ¨å®šç‹€æ…‹ã€ï¼Œå¿…é ˆå¤šè­‰æ“šä¸€è‡´æ€§ï¼ˆVolume/Range/Trend/Support/Resistance ç­‰ï¼‰

WY-Bï¼šä¾›éœ€ä¸å¹³è¡¡å¼·åº¦ï¼ˆSupply-Demand Imbalanceï¼‰
STRUCT.WYCKOFF_SDI_SCORE

floatï¼šä¾›éœ€ä¸å¹³è¡¡ç¨‹åº¦ï¼ˆæè¿°æ€§ scoreï¼‰

WY-Cï¼šäº‹ä»¶æ——æ¨™ï¼ˆäº‹ä»¶ä¸ç­‰æ–¼äº¤æ˜“ï¼‰
STRUCT.WYCKOFF_EVENT_FLAG

categoryï¼ˆå¯å¤šå€¼ï¼‰ï¼šSC/AR/ST/SPRING/UTAD/NONE

ç¦æ­¢ï¼šæŠŠ SPRING ç›´æ¥ç•¶è²·é€²ä¿¡è™Ÿï¼ˆç­–ç•¥å±¤æ‰èƒ½æ±ºå®šï¼‰

WY-Dï¼šæˆäº¤é‡-åƒ¹å·®é—œä¿‚ï¼ˆVSA é¢¨æ ¼çš„æè¿°ï¼‰
STRUCT.WYCKOFF_VOLUME_SPREAD_RELATION

categoryï¼šWIDE_SPREAD_HIGH_VOL / NARROW_SPREAD_HIGH_VOL / ...

ç”¨é€”ï¼šEvidence æˆ– UI Explain

C5.4 çºè«–ï¼ˆé®‘è¿ªå…‹çºè«–ï¼‰ç‰¹å¾µæ—ï¼ˆSTRUCT.CHANLUN_BODICK_*ï¼‰
çºè«–ï¼ˆä½œç‚ºçµæ§‹èˆ‡åˆ¤æ–·é«”ç³»ï¼‰åœ¨ TAITS ä¸­è½åœ°æ–¹å¼ï¼š
ä»¥ã€Œçµæ§‹æ®µè½ã€ç­†/ç·šæ®µ/ä¸­æ¨ã€èƒŒé›¢ç‹€æ…‹ã€ç´šåˆ¥ä¸€è‡´æ€§ã€ç­‰æè¿°æ€§ç‰¹å¾µè¼¸å‡ºã€‚

CLB-Aï¼šçµæ§‹ç´šåˆ¥ï¼ˆLevelï¼‰
STRUCT.CHANLUN_BODICK_LEVEL

categoryï¼šMINOR/MAJOR/MULTI_LEVELï¼ˆæˆ–ä½ åœ¨æ¯æ³•ä¸­å®šç¾©çš„ç´šåˆ¥é«”ç³»ï¼‰

ç”¨é€”ï¼šæ¨™è¨˜ç•¶å‰çµæ§‹è§£ææ‰€å±¬ç´šåˆ¥

CLB-Bï¼šä¸­æ¨å­˜åœ¨æ€§èˆ‡ç¯„åœ
STRUCT.CHANLUN_BODICK_ZS_EXISTS

boolï¼šæ˜¯å¦å­˜åœ¨æœ‰æ•ˆä¸­æ¨ï¼ˆæè¿°æ€§ï¼‰

STRUCT.CHANLUN_BODICK_ZS_RANGE

structï¼š{low, high, width_ratio}ï¼ˆæè¿°æ€§ï¼‰

CLB-Cï¼šç­†/ç·šæ®µæ–¹å‘ï¼ˆåƒ…çµæ§‹æ–¹å‘ï¼Œä¸æ˜¯äº¤æ˜“æ–¹å‘ï¼‰
STRUCT.CHANLUN_BODICK_SEGMENT_DIRECTION

categoryï¼šUP_SEGMENT / DOWN_SEGMENT / UNKNOWN

ç¦æ­¢ï¼šæŠŠ UP_SEGMENT ç›´æ¥è¦–ç‚ºè²·å…¥ï¼ˆç­–ç•¥å±¤å†ç”¨ï¼‰

CLB-Dï¼šèƒŒé›¢ç‹€æ…‹ï¼ˆDivergence Stateï¼‰
STRUCT.CHANLUN_BODICK_DIVERGENCE_STATE

categoryï¼šNONE/WEAK/STRONG/UNDETERMINED

å¿…é ˆè¨˜éŒ„ï¼šä½¿ç”¨çš„å‹•èƒ½/é‡èƒ½/åƒ¹æ ¼çµæ§‹ä¾æ“šï¼ˆprovenanceï¼‰

CLB-Eï¼šå¤šç´šåˆ¥ä¸€è‡´æ€§ï¼ˆAlignmentï¼‰
STRUCT.CHANLUN_BODICK_MULTI_LEVEL_ALIGNMENT

floatï¼š0..1ï¼ˆå„ç´šåˆ¥çµæ§‹ä¸€è‡´ç¨‹åº¦ï¼‰

ç”¨é€”ï¼šRegime / Evidenceï¼ˆæè¿°æ€§ï¼‰

C6. UI_EXPLAIN å°ä½ï¼ˆèˆ‡ UI_SPEC çš„æ¥å£æ¬„ä½ï¼‰
æœ¬ç¯€å®šç¾© Feature åœ¨ UI ä¸Šçš„æœ€å°å‘ˆç¾ç¾©å‹™ï¼ˆä¸å–ä»£ UI_SPECï¼Œåªæä¾›æ¥å£ä¸€è‡´æ€§ï¼‰ã€‚

C6.1 UI å¿…é ˆèƒ½é¡¯ç¤ºï¼ˆå¯å±•é–‹ï¼‰
feature_name_zh

feature_valueï¼ˆå« unitï¼‰

quality_flags

provenance_map_refï¼ˆå¯é»é–‹é¡¯ç¤ºä¾†æºï¼‰

computed_at / market_time

feature_version / impl_version

C6.2 UI ç¦æ­¢é¡¯ç¤ºæ–¹å¼
ç¦æ­¢ç›´æ¥ä»¥ç®­é ­/é¡è‰²æš—ç¤ºè²·è³£ï¼ˆé™¤é UI æ˜ç¢ºæ¨™ç¤ºã€Œé€™æ˜¯æè¿°æ€§ç‹€æ…‹ã€ä¸”ä¸ä½œäº¤æ˜“å¼•å°ï¼‰

ç¦æ­¢æŠŠ Feature ç•¶ä½œ PASS/VETOï¼ˆRisk ä»ç”± RISK_COMPLIANCE è£æ±ºï¼‰

C7. å¯©è¨ˆè¼¸å‡ºï¼ˆAudit Artifactsï¼‰æœ€å°æ¸…å–®ï¼ˆå°ä½ ARCH_FLOW / VERSION_AUDITï¼‰
Feature å±¤ï¼ˆL4ï¼‰è‡³å°‘å¿…é ˆè¼¸å‡ºï¼š

FeatureValueRecordï¼ˆæ¯å€‹ feature æ¯æ¬¡è¨ˆç®—ï¼‰

ProvenanceMapï¼ˆå¯èšåˆä½†ä¸å¯ç¼ºï¼‰

QualityFlags

VersionRefï¼ˆdoc_key/policy/rulebook/implï¼‰

Hashï¼ˆinput/output/provenanceï¼‰

è‹¥ç¼ºä»»ä¸€é …ï¼š

åœ¨ Live/Paper å¯å‡ç´šç‚ºé¢¨æ§å¦æ±ºï¼ˆSYS-AUDIT / SYS-PROVï¼‰

C8. Mermaidï½œFeature â†’ Evidence â†’ Regime çš„åˆæ³•æµï¼ˆå®Œæ•´ï¼‰
mermaid
è¤‡è£½ç¨‹å¼ç¢¼
flowchart TB
 L3[Snapshot Ready] --> L4[Feature Engine<br/>Compute FeatureValueRecords]
 L4 --> P[ProvenanceMap + Hash + QualityFlags]
 P --> G{Feature Governance Gates<br/>Part3 Gate-1..6}
 G -->|FAIL| R[RETURN: Fix Feature Meta/Provenance/Replay]
 G -->|PASS| L5[Evidence Builder<br/>Assemble Evidence Bundle]
 L5 --> L6[Regime Engine<br/>State Classification]
 L6 --> L7[Risk & Compliance Gate<br/>PASS/VETO]
C9. Only-Add æ¼”é€²è¦å‰‡ï¼ˆPart 4 å°ˆå±¬ï¼‰
å…è¨±æ–°å¢ï¼š

æ–°çš„ FeatureMeta æ¬„ä½ï¼ˆä¸å¾—åˆªèˆŠæ¬„ä½ï¼‰

æ–°çš„æ–¹æ³•è«–ç‰¹å¾µæ—ï¼ˆå¦‚æ–°å¢æ–°çš„ ChanLun å­ç³»ï¼‰

æ–°çš„ UI æç¤ºæ¬„ä½ï¼ˆä¸å¾—å¼±åŒ–é¢¨éšªæ­éœ²ï¼‰

æ–°çš„å“è³ªæ——æ¨™èˆ‡ä¾†æºæ˜ å°„

ç¦æ­¢ï¼š

ä»»ä½•æŠŠæè¿°æ€§ç‰¹å¾µå·æ›æˆæ–¹å‘/ä¿¡è™Ÿ/ç­–ç•¥/ä¸‹å–®æ„åœ–çš„æ”¹å‹•

åˆªé™¤ Provenance / Hash / Replay å¿…å‚™æ¬„ä½

ä»¥ã€Œç°¡åŒ–ã€ä¹‹åç§»é™¤æ–¹æ³•è«–ç‰¹å¾µæ‹†è§£ï¼ˆè‹¥è¦ç°¡åŒ–åªèƒ½åœ¨ UI å±¤æŠ˜ç–Šå‘ˆç¾ï¼‰

ï¼ˆSTRATEGY_FEATURE_INDEXï½œPart 4ï¼šé™„éŒ„C v2026-01-01 å®Œï¼‰

<!-- =========================================================
TAITSï½œSTRATEGY_FEATURE_INDEXï½œOnly-Add Canonical Alignment Addendum
GOVERNANCE_STATE = Freeze v1.0
è®Šæ›´åŸå‰‡ï¼šOnly-Addï¼ˆåªå¯æ–°å¢ï¼Œä¸å¯åˆªæ¸›ã€ä¸å¯è¦†å¯«ã€ä¸å¯å·æ›æ—¢æœ‰èªç¾©ï¼‰
é©ç”¨æ–‡ä»¶ï¼šSTRATEGY_FEATURE_INDEXï¼ˆæœ¬æª”ï¼‰ï¼‹ STRATEGY_UNIVERSEï¼ˆPart 8 æ–°å¢ç­–ç•¥æ¨¡æ¿ï¼‰
å°é½Šæ¯æ³•ï¼šMASTER_CANONï¼ˆCanonical Flow L1â€“L11ï¼‰
è£æ±ºåºä½ï¼šDOCUMENT_INDEX â†’ MASTER_ARCH â†’ MASTER_CANON
========================================================= -->

# Block Aï½œæ–‡ä»¶é–‹é ­è¿½åŠ ï¼šMASTER_CANON å°ä½æŒ‡å¼•ï¼ˆOnly-Add Â· Freeze v1.0ï¼‰

ï¼ˆOnly-Add Â· Canonical Alignment Guideline Â· Freeze v1.0ï¼‰

## A.0 æœ¬æ®µå®šä½èˆ‡æ•ˆåŠ›è²æ˜ï¼ˆä¸å¯çœç•¥ï¼‰

1. æœ¬æ®µç‚º **STRATEGY_FEATURE_INDEX å°ä½ MASTER_CANON çš„è£œå……æŒ‡å¼•**ï¼Œç”¨æ–¼ç¢ºä¿ã€Œç‰¹å¾µï¼ˆFeatureï¼‰å±¤ã€åœ¨ Canonical Flow ä¸­ä¹‹åˆæ³•é‚Šç•Œã€è²¬ä»»æ­¸å±¬èˆ‡ç¨½æ ¸å¯è¿½æº¯æ€§ï¼›**ä¸æ§‹æˆæ–° Layer**ï¼Œäº¦ **ä¸æ”¹å¯« MASTER_CANON çš„ L1â€“L11**ã€‚
2. æœ¬æ®µ **ä¸æ–°å¢ç­–ç•¥ã€ä¸æ”¹å¯«ç­–ç•¥æ¢ç›®ã€ä¸æˆæ¬Šä»»ä½•ä¸‹å–®èªç¾©**ï¼›STRATEGY_FEATURE_INDEX åƒ…è¦ç¯„ Feature çš„èªç¾©ã€å¯ç”¨æ€§ã€å“è³ªèˆ‡ç¨½æ ¸è¼¸å‡ºã€‚
3. è‹¥æœ¬æª”ä»»ä¸€æ®µè½èˆ‡ MASTER_CANON å­˜åœ¨æ­§ç¾©ï¼Œ**ä¸€å¾‹ä»¥ MASTER_CANON ç‚ºæœ€çµ‚è£æ±º**ï¼›æœ¬æ®µåƒ…æä¾›ã€Œæ­£ç¢ºè§£è®€èˆ‡å·¥ç¨‹è½åœ°ä¸€è‡´æ€§ã€ä¹‹å°ä½æ–¹å¼ã€‚

## A.1 STRATEGY_FEATURE_INDEX èˆ‡ MASTER_CANON çš„ã€Œå·®ç•°ã€èˆ‡ã€Œåˆ†å·¥ã€ç•Œç·šï¼ˆå°ä½ç¸½çµï¼‰

### A.1.1 MASTER_CANON æ˜¯ã€Œæ³•æºèˆ‡æµç¨‹ã€ï¼›STRATEGY_FEATURE_INDEX æ˜¯ã€Œç‰¹å¾µèªç¾©èˆ‡è¼¸å‡ºå¥‘ç´„ã€

- MASTER_CANONï¼šå®šç¾© L1â€“L11 çš„å”¯ä¸€ Canonical Flowï¼ˆæµç¨‹è£æ±ºæ¯æ³•ï¼‰ã€‚
- STRATEGY_FEATURE_INDEXï¼šå®šç¾© L4ï¼ˆFeatureï¼‰å±¤ä¹‹**èªç¾©é‚Šç•Œã€è¨ˆç®—è¼¸å‡ºã€å“è³ªæ——æ¨™ã€ä¾†æºæ˜ å°„ï¼ˆProvenanceï¼‰ã€ç‰ˆæœ¬/é›œæ¹Šï¼ˆHashï¼‰ã€å¯å›æ”¾ï¼ˆReplay Determinismï¼‰**ç­‰å·¥ç¨‹èˆ‡æ²»ç†å¿…å‚™ç¾©å‹™ï¼›ä¸¦æä¾› Feature â†’ Evidence â†’ Regime çš„åˆæ³•æµä¹‹è¦æ ¼åŒ–å±•é–‹ã€‚
- **ä¸å¯è·¨ç•Œ**ï¼šFeature ä¸å¾—ã€Œæ–¹å‘åŒ–ã€ï¼ˆä¸å¯è®Šæˆ Signalï¼‰ï¼Œä¸å¾—ã€Œç­–ç•¥åŒ–ã€ï¼ˆä¸å¯è®Šæˆ Strategyï¼‰ï¼Œæ›´ä¸å¾—ã€Œä¸‹å–®åŒ–ã€ï¼ˆä¸å¯è®Šæˆ Orderï¼‰ã€‚æ­¤ç•Œç·šå±¬ç¡¬æ€§æ²»ç†é‚Šç•Œï¼ˆHard Boundaryï¼‰ã€‚:contentReference[oaicite:0]{index=0}:contentReference[oaicite:1]{index=1}

### A.1.2 STRATEGY_FEATURE_INDEX çš„ä¸Š/ä¸‹æ¸¸è²¬ä»»é‚Šç•Œï¼ˆCanonical å°ä½ï¼‰

- ä¸Šæ¸¸ï¼ˆL3 Snapshot Readyï¼‰ï¼šæœ¬æª”ä¸å®šç¾© Snapshot è¦å‰‡æœ¬é«”ï¼Œä½†è¦æ±‚ Feature è¨ˆç®—å¿…é ˆèƒ½è¢« Snapshot å›æ”¾æ”¯æŒï¼ˆReproducible / Deterministicï¼‰ã€‚
- æœ¬å±¤ï¼ˆL4 Feature Engineï¼‰ï¼šæœ¬æª”å®šç¾© FeatureValueRecordã€Provenanceã€QualityFlagsã€VersionRefã€Hash ç­‰æœ€å°ç¨½æ ¸å·¥ä»¶ï¼›ç¼ºä»»ä¸€é …å¯åœ¨ Live/Paper å‡ç´šç‚ºé¢¨æ§å¦æ±ºï¼ˆSYS-AUDIT / SYS-PROVï¼‰ã€‚:contentReference[oaicite:2]{index=2}
- ä¸‹æ¸¸ï¼ˆL5 Evidence / L6 Regime / L7 Risk & Complianceï¼‰ï¼šæœ¬æª”å…è¨± Feature ä½œç‚º Evidence/Regime çš„è¼¸å…¥ï¼Œä½† **ä¸å¾—è®“ Feature ç›´æ¥æˆç‚º PASS/VETO æˆ–è£æ±ºä¾æ“š**ï¼›è£æ±ºæ¬Šä»å±¬ L7ï¼ˆRISK_COMPLIANCEï¼‰èˆ‡ L10ï¼ˆDecisionï¼‰ã€‚:contentReference[oaicite:3]{index=3}:contentReference[oaicite:4]{index=4}

## A.2 èˆ‡ STRATEGY_UNIVERSEï¼ˆPart 8 æ–°å¢ç­–ç•¥æ¨¡æ¿ï¼‰ä¹‹åŒæ­¥å°ä½ï¼šå”¯ä¸€æ­£ç¢ºå¼•ç”¨æ–¹å¼

### A.2.1 STRATEGY_UNIVERSE çš„ Required Evidence å¿…é ˆä»¥ Feature ID å¼•ç”¨ï¼ˆä¸å¾—ç”¨è‡ªç”±æ–‡å­—æ›¿ä»£ï¼‰

- STRATEGY_UNIVERSEï¼ˆPart 8ï¼‰åœ¨æ–°å¢ç­–ç•¥æ¢ç›®ï¼ˆ8.Xï¼‰ä¸­è¦æ±‚åˆ—å‡º Required Evidenceï¼Œä¸”éœ€åŒ…å«è³‡æ–™æºå¼•ç”¨èˆ‡ç‰¹å¾µä¾è³´å¼•ç”¨ï¼›æœ¬æª”å®šç¾©ã€Œç‰¹å¾µä¾è³´å¼•ç”¨ã€çš„å”¯ä¸€åˆæ³•æ ¼å¼ç‚ºï¼š**Feature IDï¼ˆfeature_idï¼‰æ¸…å–®ï¼‹ç‰ˆæœ¬/ä¾†æº/å“è³ªæ¢ä»¶**ã€‚:contentReference[oaicite:5]{index=5}
- ç¦æ­¢ï¼šç”¨ã€ŒæŸæŸæŒ‡æ¨™å¾ˆå¥½ã€ã€Œçœ‹èµ·ä¾†åå¤šã€ç­‰è‡ªç”±æ•˜è¿°ä»£æ›¿ Feature IDï¼›ç¦æ­¢æŠŠ Feature çš„ UI å‘ˆç¾ï¼ˆä¾‹å¦‚ç®­é ­/é¡è‰²ï¼‰ç•¶ä½œ Evidence æœ¬é«”ã€‚:contentReference[oaicite:6]{index=6}

### A.2.2 STRATEGY_UNIVERSE çš„ Output Contractï¼ˆAllowed/Forbidden/Void Handlingï¼‰ä¸å¾—è¢« Feature/Index å…§å®¹è¶Šæ¬Š

- STRATEGY_UNIVERSEï¼ˆPart 8ï¼‰å®šç¾©æ°¸ä¹…ç¦æ­¢è¼¸å‡ºï¼ˆForbidden Outputsï¼‰ï¼ŒåŒ…å«ä»»ä½•å¯ç›´æ¥ä¸‹å–®æ¬„ä½çµ„åˆã€ä»»ä½•ã€Œç«‹å³åŸ·è¡Œã€èªç¾©ã€ä»»ä½•åˆ¸å•†æŒ‡ä»¤/API payload/å§”è¨—åƒæ•¸åŒ…ï¼Œä¸¦è¦å®šé•è¦éœ€æ¨™è¨˜ INVALID_STRATEGY_OUTPUTã€Gate å¿…é ˆ BLOCKã€ä¸¦å¯«å…¥å¯©è¨ˆéˆã€‚:contentReference[oaicite:7]{index=7}
- æœ¬æª”ï¼ˆFeature Indexï¼‰ä¹‹ä»»ä½•æ–°å¢å…§å®¹ **ä¸å¾—** æ”¾å¯¬æˆ–æ”¹å¯«ä¸Šè¿°ç­–ç•¥è¼¸å‡ºç¦ä»¤ï¼›Feature åƒ…èƒ½æä¾›æè¿°æ€§è¼¸å‡ºèˆ‡ç¨½æ ¸å°ä½æ¬„ä½ã€‚

---

# Block Bï½œæ–‡ä»¶æœ€æœ«ç«¯è¿½åŠ ï¼šAppendix Yï¼ˆOnly-Add Â· Freeze v1.0ï¼‰

# Appendix Yï½œSTRATEGY_FEATURE_INDEX Ã— MASTER_CANON Ã— STRATEGY_UNIVERSEï¼ˆPart 8ï¼‰åŒæ­¥å°ä½é™„éŒ„
ï¼ˆOnly-Add Â· Canonical + Template Sync Addendum Â· Freeze v1.0ï¼‰

doc_keyï¼šSTRATEGY_FEATURE_INDEX
é™„éŒ„æ€§è³ªï¼šAddendum / Alignment Appendixï¼ˆåƒ…è£œå……ï¼Œä¸æ”¹å¯«ã€ä¸è¦†è“‹ï¼‰
ç”Ÿæ•ˆç‹€æ…‹ï¼šGOVERNANCE_STATE = Freeze v1.0
å°é½Šæ¯æ³•ï¼šMASTER_CANONï¼ˆCanonical Flow L1â€“L11ï¼‰
åŒæ­¥å°ä½ï¼šSTRATEGY_UNIVERSEï¼ˆPart 8ï½œæ–°å¢ç­–ç•¥æ¢ç›®æ²»ç†æ¨¡æ¿ï¼‰
è£æ±ºåºä½ï¼šDOCUMENT_INDEX â†’ MASTER_ARCH â†’ MASTER_CANON
è®Šæ›´åŸå‰‡ï¼šOnly-Addï¼ˆåªå¯æ–°å¢ï¼Œä¸å¯åˆªæ¸›ã€ä¸å¯å·æ›æ—¢æœ‰èªç¾©ï¼‰

---

## Y.0 é™„éŒ„ç›®çš„ï¼ˆä¸å¯çœç•¥ï¼‰

æœ¬é™„éŒ„æä¾›å…©ä»¶äº‹ï¼š

1) **Canonical å°ä½**ï¼šæŠŠ Feature å±¤ï¼ˆL4ï¼‰çš„è¼¸å‡ºã€å“è³ªã€ä¾†æºã€ç‰ˆæœ¬ã€ç¨½æ ¸å·¥ä»¶ï¼Œèˆ‡ MASTER_CANON çš„ä¸Šä¸‹æ¸¸è²¬ä»»é‚Šç•Œåšã€Œå¯é©—è­‰ã€å°ä½ã€‚
2) **æ¨¡æ¿åŒæ­¥**ï¼šæŠŠ STRATEGY_UNIVERSEï¼ˆPart 8ï¼‰æ–°å¢ç­–ç•¥æ™‚å¿…å¡«çš„ Required Evidence / Output Contract / Governance & Audit æ¬„ä½ï¼Œèˆ‡æœ¬æª” Feature è¦æ ¼åšã€Œç¡¬ä¸€è‡´ã€æ¥å£ï¼ˆinterfaceï¼‰å°ä½ï¼Œé¿å…æ–°ç­–ç•¥æ¢ç›®å› å¼•ç”¨ä¸ä¸€è‡´è€Œå¤±æ•ˆã€‚

---

## Y.1 Canonical Layer å°ä½è¡¨ï¼ˆL3â€“L7 æœ€å°é–‰ç’°ï¼‰

> æœ¬è¡¨ç‚ºã€Œå·¥ç¨‹è½åœ°æª¢æ ¸ã€ç”¨é€”ï¼›ä¸æ”¹å¯« MASTER_CANON å®šç¾©ã€‚

| Canonical Layer | è§’è‰²å®šä½ | STRATEGY_FEATURE_INDEX åœ¨æ­¤å±¤çš„ç¡¬ç¾©å‹™ | ç¼ºå¤±å¾Œæœï¼ˆæ²»ç†èªç¾©ï¼‰ |
|---|---|---|---|
| L3 Snapshot Ready | å¯å›æ”¾å¿«ç…§å°±ç·’ | Feature è¨ˆç®—é ˆå¯å›æ”¾ï¼›ä¸å¾—å­˜åœ¨ lookaheadï¼›éœ€èƒ½è¿½æº¯ available_atï¼ˆå°å»¶é²è³‡æ–™å°¤éœ€ï¼‰ | Gate RETURN æˆ–å‡ç´šé¢¨æ§ï¼ˆè¦–ç¼ºé™·é¡å‹ï¼‰ |
| L4 Feature | ç‰¹å¾µè¨ˆç®—èˆ‡èªç¾©å¥‘ç´„ | å¿…è¼¸å‡ºï¼šFeatureValueRecord / ProvenanceMapRef / QualityFlags / VersionRef / Hash | Live/Paper å¯å‡ç´šå¦æ±ºï¼ˆSYS-AUDIT / SYS-PROVï¼‰:contentReference[oaicite:8]{index=8} |
| L5 Evidence | è­‰æ“šçµ„è£ | Feature åƒ…ä½œç‚º Evidence Inputï¼›ä¸å¾—ç›´æ¥è¼¸å‡ºè²·è³£æ–¹å‘æˆ–ã€Œè£æ±ºã€ | èªç¾©é•è¦ï¼ˆGOV-FTR-SEM-*ï¼‰ |
| L6 Regime | ç‹€æ…‹åˆ†é¡ | Feature å…è¨±ä½œ Regime Inputï¼Œä½†ä¸å¾—è¶Šæ¬Šå®£å‘Šå¯äº¤æ˜“/ä¸å¯äº¤æ˜“ | è¶Šæ¬Šè¦–åŒæ²»ç†é•è¦ |
| L7 Risk & Compliance | æœ€é«˜å¦æ±ºæ¬Š | Feature ä¸å¾—æˆç‚º PASS/VETOï¼›ä¸å¾—ç¸®æ¸›é¢¨æ§æ­éœ²èˆ‡ç¨½æ ¸å·¥ä»¶ | è§¸ç™¼ VETO/BLOCK |

---

## Y.2 Feature å¼•ç”¨çš„ã€Œå”¯ä¸€åˆæ³•æ ¼å¼ã€ï¼šFeatureRefBlockï¼ˆä¾› STRATEGY_UNIVERSE Part 8 ä½¿ç”¨ï¼‰

> æœ¬æ®µå®šç¾©ï¼šç•¶ STRATEGY_UNIVERSEï¼ˆ8.Xï¼‰è¦æ±‚ã€ŒRequired Evidenceï¼ˆå«ç‰¹å¾µä¾è³´å¼•ç”¨ï¼‰ã€æ™‚ï¼Œå¿…é ˆä½¿ç”¨ä»¥ä¸‹æ ¼å¼ã€‚
> ç¦æ­¢ç”¨è‡ªç”±æ–‡å­—æ›¿ä»£ Feature IDï¼›ç¦æ­¢ç”¨ UI å‘ˆç¾ï¼ˆé¡è‰²/ç®­é ­ï¼‰æ›¿ä»£ Feature å€¼èˆ‡å“è³ªç‹€æ…‹ã€‚

### Y.2.1 FeatureRefBlockï¼ˆå¿…å¡«ï¼‰

```yaml
FeatureRefBlock:
 feature_id: "TECH.GMMA_SPREAD_RATIO" # å¿…é ˆå°æ‡‰æœ¬æª” feature_idï¼ˆå”¯ä¸€éµï¼‰
 feature_version_min: "1.0.0" # æœ€ä½å¯æ¥å—ç‰ˆæœ¬ï¼ˆèªç¾©ä¸ç ´å£ï¼‰
 allowed_uses_required:
 - "EVIDENCE_INPUT"
 forbidden_uses_assert:
 - "DIRECT_SIGNAL"
 - "DIRECT_STRATEGY"
 - "DIRECT_ORDER"
 quality_requirements:
 missing_policy: "FLAG|STOP" # åƒ…å…è¨±å¼•ç”¨æœ¬æª”å®šç¾©çš„æ”¿ç­–é›†åˆ
 outlier_policy: "FLAG|STOP|WINSORIZE"
 halt_handling: "FREEZE_LAST|FLAG|STOP"
 provenance_requirements:
 require_provenance_map: true
 require_input_hash: true
 require_output_hash: true
 audit_requirements:
 must_emit_artifacts:
 - "FeatureValueRecord"
 - "ProvenanceMapRef"
 - "QualityFlags"
 - "VersionRef"
 - "Hash"
 ui_explain_binding:
 explain_level: "L1|L2|L3" # å°ä½ UI_SPEC é¡¯ç¤ºéšå±¤ï¼ˆåƒ…æ¥å£ï¼Œä¸è¶Šæ¬Š UI è¦ç¯„ï¼‰
 display_prohibition:
 - "ç¦æ­¢è²·è³£ç®­é ­/é¡è‰²æš—ç¤ºï¼ˆé™¤éæ˜ç¢ºæ¨™ç¤ºæè¿°æ€§ä¸”ä¸ä½œäº¤æ˜“å¼•å°ï¼‰"
ä¸Šè¿°æ¬„ä½èªç¾©ä¾å¾ªæœ¬æª”æ—¢æœ‰ Feature ç¯„ä¾‹ï¼ˆå« allowed_uses / forbidden_usesã€provenanceã€hashã€versioningã€ui_explain ç­‰çµæ§‹ï¼‰ï¼Œä¸å¾—åˆªæ¸›ã€‚
TAITS_ç­–ç•¥ç‰¹å¾µèˆ‡å› å­ç´¢å¼•ï¼ˆSTRATEGY_FEATURâ€¦


Y.3 STRATEGY_UNIVERSEï¼ˆPart 8ï¼‰æ¬„ä½ â†” Feature Index å°ä½è¡¨ï¼ˆåŒæ­¥ç¡¬è¦å‰‡ï¼‰
ç›®çš„ï¼šç¢ºä¿æ–°ç­–ç•¥ï¼ˆ8.Xï¼‰åœ¨ã€ŒRequired Evidence / Governance & Audit / Output Contractã€ä¸‰å¡Šï¼Œèˆ‡ Feature å±¤è¼¸å‡ºå¥‘ç´„ä¸€è‡´ï¼Œä¸”ä¸è¶Šæ¬Šã€‚

STRATEGY_UNIVERSEï¼ˆ8.Xï¼‰æ¬„ä½	å¿…é ˆå¦‚ä½•å¼•ç”¨/å°ä½ STRATEGY_FEATURE_INDEX	ç¡¬æ€§ç¦æ­¢
Required Evidenceï¼ˆå«ç‰¹å¾µä¾è³´ï¼‰	å¿…é ˆåˆ—å‡º FeatureRefBlock æ¸…å–®ï¼ˆæ¯å€‹ evidence è¦èƒ½è¿½æº¯ feature_id + provenance + qualityï¼‰	ä»¥è‡ªç”±æ–‡å­—/æ„Ÿè¦ºæ•˜è¿°å–ä»£ feature_id
Governance & Auditï¼ˆæœ€å°å·¥ä»¶ï¼‰	å¿…é ˆæ‰¿è«¾ï¼šFeatureValueRecord / ProvenanceMapRef / QualityFlags / VersionRef / Hashï¼ˆç¼ºä¸€ä¸å¯ï¼‰
TAITS_ç­–ç•¥ç‰¹å¾µèˆ‡å› å­ç´¢å¼•ï¼ˆSTRATEGY_FEATURâ€¦

åˆªé™¤æˆ–å¼±åŒ–ç¨½æ ¸å·¥ä»¶ï¼›ä»¥ã€Œç°¡åŒ–ã€åç¾©ç§»é™¤ provenance/hash/replay
Output Contractï¼ˆAllowed/Forbidden/Violationï¼‰	å¿…é ˆæ²¿ç”¨ STRATEGY_UNIVERSE Part 8 çš„ Forbidden Outputs èˆ‡ Violation Handlingï¼ˆä¸å¯æ”¹ï¼‰
TAITS_ç­–ç•¥å®‡å®™å…¨é›†ï¼ˆSTRATEGY_UNIVERSEï¼‰â€¦

ä»»ä½•ä¸‹å–®åƒæ•¸ã€åˆ¸å•†æŒ‡ä»¤ã€API payloadã€ç«‹å³åŸ·è¡Œèªç¾©

Y.4 æ–°å¢/æ›´æ–° Feature çš„ Gate çµ±ä¸€è¦æ±‚ï¼ˆä¸å¾—æ”¾å¯¬ï¼‰
æœ¬æ®µç‚ºã€Œæœ¬æª”å…§éƒ¨ä¸€è‡´æ€§ã€è¦æ±‚ï¼Œä¸¦å°ä½æ²»ç† Gate æµç¨‹ï¼šSemantic Boundary â†’ Provenance/Hash â†’ No Lookahead/Available_at â†’ Replay Determinism â†’ QA Handling â†’ Allowed/Forbidden Usesã€‚
TAITS_ç­–ç•¥ç‰¹å¾µèˆ‡å› å­ç´¢å¼•ï¼ˆSTRATEGY_FEATURâ€¦


Y.4.1 Gate æœ€å°æª¢æ ¸æ¸…å–®ï¼ˆæäº¤å³ç”¨ï¼‰
èªç¾©é‚Šç•Œï¼šå‘½åèˆ‡è¼¸å‡ºå¿…ç‚ºæè¿°æ€§ï¼›ä¸å¾—æ–¹å‘åŒ–ï¼ˆä¸å¯æŠŠæè¿°æ€§ç‰¹å¾µå·æ›ç‚ºä¿¡è™Ÿï¼‰ã€‚
TAITS_ç­–ç•¥ç‰¹å¾µèˆ‡å› å­ç´¢å¼•ï¼ˆSTRATEGY_FEATURâ€¦


ä¾†æºèˆ‡é›œæ¹Šï¼šå¿…æœ‰ provenance_map èˆ‡ input/output hashï¼›ä¸å¯ç¼ºçœã€‚

åå‰è¦–ï¼ˆNo Lookaheadï¼‰ï¼šå¿…è²æ˜ lookahead_policyï¼›å»¶é²è³‡æ–™éœ€ available_atã€‚

å¯å›æ”¾æ€§ï¼šåŒä¸€ snapshot å¿…é ˆç”¢ç”Ÿä¸€è‡´è¼¸å‡ºï¼ˆdeterministicï¼‰ã€‚

å“è³ªè™•ç†ï¼šç¼ºå€¼/é›¢ç¾¤/åœç‰Œè™•ç†éœ€æ˜ç¢ºä¸”å¯ç¨½æ ¸ã€‚

ç”¨é€”ç™½åå–®/é»‘åå–®ï¼šallowed_uses / forbidden_uses å¿…é ˆå­˜åœ¨ï¼›ç¦æ­¢ DIRECT_SIGNAL / DIRECT_STRATEGY / DIRECT_ORDERã€‚
TAITS_ç­–ç•¥ç‰¹å¾µèˆ‡å› å­ç´¢å¼•ï¼ˆSTRATEGY_FEATURâ€¦


Y.5 Only-Add æ¼”é€²è¦å‰‡ï¼ˆæœ¬é™„éŒ„å°ˆå±¬ï¼‰
å…è¨±æ–°å¢ï¼ˆOnly-Addï¼‰ï¼š

æ–°çš„ FeatureMeta æ¬„ä½ï¼ˆä¸å¾—åˆªèˆŠæ¬„ä½ï¼‰

æ–°çš„æ–¹æ³•è«–ç‰¹å¾µæ—ï¼ˆä¾‹å¦‚æ–°å¢æ–°çš„çµæ§‹é«”ç³»å­æ—ï¼‰

æ–°çš„ UI æç¤ºæ¬„ä½ï¼ˆä¸å¾—å¼±åŒ–é¢¨éšªæ­éœ²ï¼‰

æ–°çš„å“è³ªæ——æ¨™èˆ‡ä¾†æºæ˜ å°„ï¼ˆprovenance mappingï¼‰

æ–°çš„ Gate æª¢æ ¸é»èˆ‡ reason_codeï¼ˆåƒ…å¯æ›´åš´ï¼Œä¸å¯æ”¾å¯¬ï¼‰
TAITS_ç­–ç•¥ç‰¹å¾µèˆ‡å› å­ç´¢å¼•ï¼ˆSTRATEGY_FEATURâ€¦


ç¦æ­¢ï¼ˆç¡¬ç¦ï¼‰ï¼š

ä»»ä½•æŠŠæè¿°æ€§ç‰¹å¾µå·æ›ç‚ºæ–¹å‘/ä¿¡è™Ÿ/ç­–ç•¥/ä¸‹å–®æ„åœ–çš„æ”¹å‹•
TAITS_ç­–ç•¥ç‰¹å¾µèˆ‡å› å­ç´¢å¼•ï¼ˆSTRATEGY_FEATURâ€¦


åˆªé™¤ Provenance / Hash / Replay ç›¸é—œå¿…å‚™æ¬„ä½
TAITS_ç­–ç•¥ç‰¹å¾µèˆ‡å› å­ç´¢å¼•ï¼ˆSTRATEGY_FEATURâ€¦


ä»¥ã€Œç°¡åŒ–ã€åç¾©ç§»é™¤æ–¹æ³•è«–ç‰¹å¾µæ‹†è§£ï¼ˆå¦‚éœ€ç°¡åŒ–åªèƒ½åœ¨ UI å±¤æŠ˜ç–Šå‘ˆç¾ï¼Œä¸å¾—åˆªé™¤è¦æ ¼æœ¬é«”ï¼‰
TAITS_ç­–ç•¥ç‰¹å¾µèˆ‡å› å­ç´¢å¼•ï¼ˆSTRATEGY_FEATURâ€¦


ï¼ˆAppendix Yï½œSTRATEGY_FEATURE_INDEX Ã— MASTER_CANON Ã— STRATEGY_UNIVERSE åŒæ­¥å°ä½è£œå……é™„éŒ„ Â· Freeze v1.0 Â· Only-Add å®Œï¼‰
---

## Appendix 2025-12-28ï½œOnly-Addï¼šæ²»ç†è­˜åˆ¥ï¼ˆdoc_keyï¼‰Ã— å¯¦é«”æª”åï¼ˆPhysical Filenameï¼‰å°é½Šå®£å‘Šï¼ˆFreeze v1.0ï¼‰

> è£œå……æ€§è³ªï¼šOnly-Addï¼ˆåªå¯æ–°å¢ï¼Œä¸å¯åˆªæ¸›ï¼è¦†å¯«ï¼å·æ›æ—¢æœ‰èªç¾©ï¼‰
> é©ç”¨æ–‡ä»¶ï¼šTAITS_ç­–ç•¥ç‰¹å¾µèˆ‡å› å­ç´¢å¼•ï¼ˆSTRATEGY_FEATURE_INDEXï¼‰__251219.mdï¼ˆdoc_keyï¼šSTRATEGY_FEATURE_INDEXï¼‰
> ç”Ÿæ•ˆç‹€æ…‹ï¼šGOVERNANCE_STATE = Freeze v1.0
> ä¸Šä½è£æ±ºï¼šDOCUMENT_INDEXï¼ˆA+ï½œAuthoritative Indexï¼‰â†’ MASTER_ARCHï¼ˆAï¼‰â†’ MASTER_CANONï¼ˆAï¼‰ï¼‹AI_GOVï¼ˆA+ï¼‰
> ç›®çš„ï¼šåœ¨ä¸æ”¹å¯«æœ¬æ–‡ä»¶æ—¢æœ‰ä»»ä½•ç« ç¯€å…§å®¹èˆ‡èªç¾©çš„å‰æä¸‹ï¼Œè£œé½Šã€Œå¼•ç”¨åˆæ³•æ€§ã€æ‰€éœ€çš„è­˜åˆ¥è³‡è¨Šèˆ‡æª”åæ˜ å°„è¦å‰‡ï¼›é¿å…å›  Addendum/ä¸‹è¼‰å‰¯æœ¬æª”åå·®ç•°å°è‡´ Gate / ç¨½æ ¸å¼•ç”¨å¤±é…ã€‚

### A1. æœ¬æ–‡ä»¶ä¹‹å”¯ä¸€æ²»ç†èº«ä»½ï¼ˆCanonical Identityï¼‰
- canonical_filenameï¼ˆIndex è£æ±ºæª”åï¼‰ï¼š`TAITS_ç­–ç•¥ç‰¹å¾µèˆ‡å› å­ç´¢å¼•ï¼ˆSTRATEGY_FEATURE_INDEXï¼‰__251219.md`
- canonical_doc_keyï¼ˆIndex è£æ±ºè­˜åˆ¥ç¢¼ï¼‰ï¼š`STRATEGY_FEATURE_INDEX`
- ç‰ˆæœ¬ç‹€æ…‹ï¼šACTIVEï¼ˆFreeze v1.0ï¼›Only-Addï¼‰

### A2. æœ¬å°ˆæ¡ˆç›®éŒ„ä¸­çš„å¯¦é«”æª”æ¡ˆï¼ˆPhysical Artifactï¼‰
- physical_filenameï¼ˆç›®å‰å°ˆæ¡ˆå…§å¯¦éš›æª”åï¼‰ï¼š`TAITS_ç­–ç•¥ç‰¹å¾µèˆ‡å› å­ç´¢å¼•ï¼ˆSTRATEGY_FEATURE_INDEXï¼‰__251219__ADDENDUM_20251227_FINAL.md`
- æ³•å¾‹å®šä½ï¼šå¯¦é«”æª”ååƒ…ç‚ºã€Œå­˜æ”¾/åˆ†ç™¼/ä¸‹è¼‰ã€ä¹‹è¼‰é«”ï¼›æ²»ç†è£æ±ºèˆ‡å¼•ç”¨èº«ä»½ä¸€å¾‹ä»¥ **A1** ç‚ºæº–ã€‚

### A3. å¼•ç”¨åˆæ³•æ€§æœ€å°è¦å‰‡ï¼ˆä¸æ–°å¢åˆ¶åº¦ï¼Œåªå›ºå®šå¯«æ³•ï¼‰
- ä»»ä½•è·¨æ–‡ä»¶å¼•ç”¨æœ¬æ–‡ä»¶æ™‚ï¼Œå¿…é ˆä½¿ç”¨ï¼š`doc_key=STRATEGY_FEATURE_INDEX` + `canonical_filename=TAITS_ç­–ç•¥ç‰¹å¾µèˆ‡å› å­ç´¢å¼•ï¼ˆSTRATEGY_FEATURE_INDEXï¼‰__251219.md`ã€‚
- è‹¥éœ€æŒ‡å‘æœ¬å°ˆæ¡ˆå…§å¯¦é«”æª”æ¡ˆï¼ˆphysical_filenameï¼‰ï¼Œå¿…é ˆåŒæ™‚ä¿ç•™ **A1** ä¹‹ canonical identityï¼Œä»¥é¿å…ã€Œå¼•ç”¨æ‰¾å¾—åˆ°æª”æ¡ˆä½†èº«ä»½ä¸åˆæ³•ã€çš„ Gate é¢¨éšªã€‚
- ACTIVE é›†åˆã€æ–‡ä»¶æ•¸é‡ã€æˆ–ä»»ä½•å¿«ç…§æ¸…å–®ï¼Œå‡ä¸å¾—è¦†è“‹ DOCUMENT_INDEX çš„ Authoritative Index è£æ±ºã€‚

---