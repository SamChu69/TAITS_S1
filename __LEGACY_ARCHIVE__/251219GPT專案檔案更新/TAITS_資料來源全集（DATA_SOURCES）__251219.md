# TAITS_è³‡æ–™ä¾†æºå…¨é›†ï¼ˆDATA_UNIVERSEï¼‰__251219
doc_keyï¼šDATA_UNIVERSE  
æ²»ç†ç­‰ç´šï¼šDï¼ˆDataSources Universeï½œå®˜æ–¹å„ªå…ˆ Ã— å¤šå±¤Fallback Ã— å¯è¿½æº¯Provenanceï¼‰  
é©ç”¨ç¯„åœï¼šTAITS å…¨ç³»çµ±ï¼ˆResearch / Backtest / Simulation / Paper / Liveï¼‰  
ç‰ˆæœ¬ç‹€æ…‹ï¼šACTIVEï¼ˆè³‡æ–™ä¾†æºå…¨é›†å¯ Only-Add æ“´å……ï¼›ä¸å¾—å¼±åŒ–å®˜æ–¹å„ªå…ˆèˆ‡å¯è¿½æº¯ï¼‰  
ç‰ˆæœ¬æ—¥æœŸï¼š2025-12-19  
å°é½Šæ¯æ³•ï¼šTAITS_AI_è¡Œç‚ºèˆ‡æ±ºç­–æ²»ç†æœ€çµ‚è¦å‰‡å…¨é›†__251217ï¼ˆA+ï¼‰  
ä¸Šä½ç´„æŸï¼šMASTER_ARCH / DOCUMENT_INDEX / MASTER_CANON / VERSION_AUDIT  
å¹³è¡Œåƒç…§ï¼šFULL_ARCH / ARCH_FLOW / RISK_COMPLIANCE / TWSE_RULES / EXECUTION_CONTROL / UI_SPEC / DEPLOY_OPS / LOCAL_ENV  
è®Šæ›´åŸå‰‡ï¼šOnly-Addï¼ˆåªå¯æ–°å¢ï¼Œä¸å¯åˆªæ¸›/è¦†å¯«/å·æ›è³‡æ–™èªç¾©ï¼›ä¸å¾—ç”¨ç¬¬ä¸‰æ–¹è£æ±ºåˆ¶åº¦ï¼‰  
æ ¸å¿ƒéµå¾‹ï¼šå®˜æ–¹è³‡æ–™å„ªå…ˆï¼›å¤šå±¤Fallbackï¼›Provenance å¯è¿½æº¯ï¼›Snapshot å¯å›æ”¾ï¼›è³‡æ–™å“è³ªå¯å¯©è¨ˆï¼›ç¼ºè­‰æ“šä¸å¾—è£æ±º

---

# Addendum 0ï½œOnly-Addï¼šMETADATA_FIXï¼ˆDATA_SOURCES Ã— DATA_UNIVERSE åè©å°é½Šèˆ‡å¼•ç”¨åˆæ³•æ€§é–å®šï½œFreeze v1.0ï¼‰

> è£œå……æ€§è³ªï¼šOnly-Addï¼ˆåªå¯æ–°å¢ï¼Œä¸å¯åˆªæ¸›ã€è¦†å¯«ã€å·æ›æ—¢æœ‰èªç¾©ï¼‰  
> é©ç”¨æ–‡ä»¶ï¼šTAITS_è³‡æ–™ä¾†æºå…¨é›†ï¼ˆDATA_SOURCESï¼‰__251219.md  
> ç”Ÿæ•ˆç‹€æ…‹ï¼šGOVERNANCE_STATE = Freeze v1.0  
> ä¸Šä½è£æ±ºï¼šDOCUMENT_INDEX â†’ MASTER_ARCH â†’ MASTER_CANON  
> ç›®çš„ï¼šä¿®è£œæœ¬æ–‡ä»¶å…§éƒ¨ã€Œä¸­ç¹¼è³‡æ–™ï¼ˆdoc header/é™„éŒ„æ¨™ç¤ºï¼‰ã€èˆ‡ DOCUMENT_INDEX è£æ±ºè¡¨ä¹‹ä¸ä¸€è‡´ï¼Œä¸¦é–å®šå¼•ç”¨è¦å‰‡ï¼Œé¿å… Gate å‘½ä¸­ã€Œå¼•ç”¨éæ³•ã€è€Œå°è‡´ BLOCKã€‚

---

## 0.1 è£æ±ºä¾†æºï¼ˆä¸å¯å¦èªï¼‰
ä¾ DOCUMENT_INDEXï¼ˆæ²»ç†æœ‰æ•ˆæ–‡ä»¶æ¸…å–®ï¼‰ä¹‹è£æ±ºï¼Œæœ¬æ–‡ä»¶ä¹‹å”¯ä¸€åˆæ³•èº«ä»½ç‚ºï¼š
- doc_keyï¼šDATA_SOURCES
- æ²»ç†ç­‰ç´šï¼šB
- ç‰ˆæœ¬ç‹€æ…‹ï¼šACTIVE

> ä»¥ä¸Šä¸‰é …ç‚º Index è¡¨æ ¼è£æ±ºæ•ˆåŠ›ç¯„åœï¼ˆdoc_key / æ²»ç†ç­‰ç´š / ç‰ˆæœ¬ç‹€æ…‹ï¼‰ï¼Œä¸å¾—ä»¥æ–‡ä»¶å…§æ–‡è‡ªæ”¹æˆ–è‡ªå°æ›´é«˜/ä¸åŒä½éšã€‚

---

## 0.2 æœ¬æ–‡ä»¶å…§ã€ŒDATA_UNIVERSEã€ä¹‹æ³•å¾‹å®šä½ï¼ˆåè© â‰  doc_keyï¼‰
æœ¬æ–‡ä»¶æ—¢æœ‰æ®µè½ä¸­å‡ºç¾ä¹‹ã€ŒDATA_UNIVERSEã€ï¼š
- ä¸€å¾‹è¦–ç‚ºã€Œè³‡æ–™ä¾†æºå®‡å®™ï¼ˆData Universeï¼‰ã€ä¹‹æ¦‚å¿µåè©ï¼é–±è®€ç”¨åˆ¥åï¼ˆaliasï¼‰
- **ä¸å¾—**è¢«è§£è®€ç‚ºæ–°çš„ doc_key
- **ä¸å¾—**è¢«ç”¨ä½œä»»ä½•ç³»çµ±å¼•ç”¨ã€Gate æª¢æ ¸å¼•ç”¨ã€ç¨½æ ¸å¼•ç”¨ä¹‹ doc_key

---

## 0.3 å¼•ç”¨åˆæ³•æ€§ç¡¬è¦å‰‡ï¼ˆGate å°é½Šï½œä¸å¯æ”¾å¯¬ï¼‰
åœ¨ FILE UPDATE MODE èˆ‡ Freeze v1.0 ä¸‹ï¼Œæ‰€æœ‰ç³»çµ±èˆ‡æ–‡ä»¶å¼•ç”¨ä¸€å¾‹éµå®ˆï¼š
- ä»»ä½•å¼•ç”¨æœ¬æ–‡ä»¶æ™‚ï¼Œå”¯ä¸€åˆæ³• doc_key = `DATA_SOURCES`
- ä»»ä½•å‡ºç¾ `doc_keyï¼šDATA_UNIVERSE` ä¹‹èˆŠæ¨™ç¤ºï¼Œå‡å±¬ã€ŒMetadata Discrepancyã€çš„æ­·å²æ®˜ç•™æ¨™è¨˜ï¼›å…¶æ³•å¾‹æ•ˆåŠ›è¢«æœ¬ Addendum 0 å¦èª
- åœ¨ DOCUMENT_INDEX æœªæ–°å¢ä¸”è£æ±º `DATA_UNIVERSE` ç‚º ACTIVE å‰ï¼š
  - ç¦æ­¢ä»»ä½•æµç¨‹ã€Gateã€Evidenceã€Auditã€UI Trace ä»¥ `DATA_UNIVERSE` ä½œç‚º doc_key å¼•ç”¨
  - è‹¥å‡ºç¾æ­¤é¡å¼•ç”¨ï¼šè¦–ç‚ºã€Œå¼•ç”¨éæ³•ã€ï¼Œä¾ Gate è¦å‰‡å¿…é ˆ BLOCKï¼ˆä¸å¯è£œæ•‘ï¼‰

---

## 0.4 ç‰ˆæœ¬èˆ‡ç¨½æ ¸è¦æ±‚ï¼ˆOnly-Addï¼‰
æœ¬ Addendum 0 å±¬æ–¼ã€ŒMETADATA_FIXï¼ˆä¸­ç¹¼è³‡æ–™ä¿®è£œï¼‰ã€å‹è®Šæ›´ï¼š
- åƒ…ä»¥æ–°å¢ä¿®æ­£èªªæ˜æ®µè½é”æˆä¸€è‡´æ€§ï¼ˆä¸åˆªæ”¹åŸæ–‡ï¼‰
- å¾ŒçºŒè‹¥éœ€å°‡ `DATA_UNIVERSE` å‡æ ¼ç‚ºç¨ç«‹æ²»ç†æ–‡ä»¶ï¼š
  - å¿…é ˆä»¥ã€Œæ–°å¢æ–°æ–‡ä»¶ï¼‹æ–°å¢ Index æ¢ç›®ã€æ–¹å¼è™•ç†
  - ä¸¦åœ¨ DOCUMENT_INDEX æ˜ç¢ºè£æ±º DATA_SOURCES èˆ‡ DATA_UNIVERSE ä¹‹é—œä¿‚ï¼ˆèˆŠæ–°ã€è¦†è“‹ã€é©ç”¨ç¯„åœï¼‰
  - Freeze v1.0 ä¸‹ä¸å¾—ä»¥æ–°å¢æ¢ç›®å½¢å¼è®Šç›¸æ”¹å¯«æ—¢æœ‰è£æ±ºåºä½æˆ– Canonical Flow

---


> ã€æ–‡ä»¶é–±è®€èˆ‡ Canonical å°ä½æŒ‡å¼•ï¼ˆOnly-Addï¼‰ã€‘
>
> æœ¬æ–‡ä»¶ä¸»é«”å…§å®¹å®šç¾© TAITS DATA_SOURCESï¼ˆDATA_UNIVERSEï¼‰ä¹‹è³‡æ–™ä¾†æºåˆ†é¡ã€
> ä¾†æºå„ªå…ˆåºèˆ‡åŸºæœ¬è³‡æ–™æ²»ç†è¦ç¯„ã€‚
> è‡ªæ–‡ä»¶æœ€æœ«ä¹‹ã€ŒAppendix Aï½œDATA_UNIVERSE å°ä½ MASTER_CANON è£œå……é™„éŒ„ã€èµ·ï¼Œ
> ç‚ºä¾æ“š MASTER_CANONï¼ˆCanonical Flow L1â€“L11ï¼‰
> æ‰€æ–°å¢ä¹‹è³‡æ–™å±¤è²¬ä»»é‚Šç•Œã€å¯å›æ”¾æ€§èˆ‡ç¨½æ ¸å°ä½èªªæ˜ã€‚
>
> æœ¬æŒ‡å¼•åƒ…ä½œé–±è®€èˆ‡æ²»ç†å®šä½ç”¨é€”ï¼Œ
> ä¸æ§‹æˆå°ä¸»æ–‡æ¢æ¬¾ä¹‹ä¿®æ”¹ï¼Œ
> æ‰€æœ‰è£æ±ºå„ªå…ˆåºä»ä¾ DOCUMENT_INDEX â†’ MASTER_ARCH â†’ MASTER_CANON ç‚ºæº–ã€‚

---

## 0. æ–‡ä»¶å®šä½ï¼ˆDataSources Universe Charterï¼‰

æœ¬æ–‡ä»¶å®šç¾© TAITS çš„ã€Œè³‡æ–™ä¾†æºå…¨é›†ï¼ˆData Universeï¼‰ã€èˆ‡å…¶æ²»ç†è¦ç¯„ï¼Œç”¨æ–¼ï¼š

- åˆ—å‡º TAITS å…è¨±ä½¿ç”¨çš„è³‡æ–™ä¾†æºï¼ˆSource Registryï¼‰ï¼Œä¸¦åˆ†ç´šï¼š
  - å®˜æ–¹ï¼ˆPrimaryï¼‰
  - æº–å®˜æ–¹/äº¤æ˜“æ‰€æˆæ¬Šï¼ˆSecondaryï¼‰
  - ç¬¬ä¸‰æ–¹ï¼ˆFallbackï¼›åƒ…è¼”åŠ©ï¼Œä¸å¾—è£æ±ºåˆ¶åº¦ï¼‰
- å®šç¾©æ¯å€‹è³‡æ–™æºçš„ï¼š
  - ä¾†æºç¶²å€ã€ç«¯é»ã€æ›´æ–°é »ç‡ã€å¯ç”¨æ€§èˆ‡é™åˆ¶
  - æ¬„ä½èªç¾©èˆ‡æ­£è¦åŒ–ç­–ç•¥ï¼ˆCanonical Schemaï¼‰
  - Provenanceï¼ˆä¾†æºè¿½æº¯ï¼‰è¦æ±‚èˆ‡ç¨½æ ¸è¼¸å‡º
  - å¤±æ•ˆæ¨¡å¼èˆ‡é™ç´šç­–ç•¥ï¼ˆRETURN / FAIL / BLOCKï¼‰
- ç¢ºä¿è³‡æ–™å±¤ï¼ˆL1â€“L2ï¼‰è¼¸å…¥å¯è¢«ï¼š
  - å›æ”¾ï¼ˆReplayableï¼‰
  - ç¨½æ ¸ï¼ˆAuditableï¼‰
  - è¿½è²¬ï¼ˆTraceableï¼‰
- æ”¯æ´ TAITS ä»¥å°ç£å¸‚å ´ï¼ˆTWSE/TPEX/TAIFEXï¼‰ç‚ºä¸»è»¸çš„é•·æœŸæ¼”é€²ï¼ˆOnly-Addï¼‰

ğŸ“Œ æœ¬æ–‡ä»¶ä¸åšçš„äº‹ï¼ˆé¿å…è¶Šæ¬Šï¼‰ï¼š
- ä¸æ›¿ä»£å®˜æ–¹åˆ¶åº¦è£æ±ºï¼ˆåˆ¶åº¦ä»¥ TWSE_RULES èˆ‡å®˜æ–¹ä¾†æºç‚ºæº–ï¼‰
- ä¸æŠŠç¬¬ä¸‰æ–¹è³‡æ–™ç•¶ä½œåˆ¶åº¦è£æ±ºä¾æ“š
- ä¸å®šç¾©ç­–ç•¥èˆ‡ä¸‹å–®ï¼ˆç­–ç•¥åœ¨ STRATEGY_UNIVERSEï¼›ä¸‹å–®åœ¨ EXECUTION_CONTROLï¼‰
- å°ˆæ³¨ï¼šè³‡æ–™ä¾†æºçš„ã€ŒåéŒ„ã€æ²»ç†ã€è¿½æº¯ã€æ­£è¦åŒ–ã€å“è³ªã€é™ç´šã€

---

## 1. å®˜æ–¹è³‡æ–™ä¾†æºå…¥å£ï¼ˆOfficial Sourcesï½œå¿…é ˆæä¾›å¯è¿½æº¯ç¶²å€ï¼‰

> æ³¨æ„ï¼šæ­¤è™•åˆ—çš„æ˜¯ã€Œå®˜æ–¹å…¥å£ã€ã€‚å¯¦éš›æŠ“å–ç«¯é»/æª”æ¡ˆæ ¼å¼å¯èƒ½éš¨æ™‚é–“èª¿æ•´ï¼›  
> TAITS å¿…é ˆé€é Rulebook Snapshot / Source Snapshot ä¿ç•™ç•¶ä¸‹ä½¿ç”¨çš„å¼•ç”¨è­‰æ“šï¼ˆVERSION_AUDITï¼‰ã€‚

### 1.1 TWSEï¼ˆè‡ºç£è­‰åˆ¸äº¤æ˜“æ‰€ï¼‰
- å®˜ç¶²é¦–é   
  https://www.twse.com.tw/
- è¦ç« /æ³•è¦æŸ¥è©¢ï¼ˆåˆ¶åº¦è£æ±ºå…¥å£ï¼‰  
  https://twse-regulation.twse.com.tw/

### 1.2 TPEXï¼ˆæ«ƒè²·ä¸­å¿ƒï¼‰
- å®˜ç¶²é¦–é   
  https://www.tpex.org.tw/

### 1.3 TAIFEXï¼ˆè‡ºç£æœŸè²¨äº¤æ˜“æ‰€ï¼‰
- å®˜ç¶²é¦–é   
  https://www.taifex.com.tw/

### 1.4 MOPSï¼ˆå…¬é–‹è³‡è¨Šè§€æ¸¬ç«™ï½œå…¬å¸å…¬å‘Š/è²¡å ±ï¼‰
- å®˜ç¶²å…¥å£  
  https://mops.twse.com.tw/

### 1.5 TDCCï¼ˆé›†ä¿çµç®—æ‰€ï½œè‚¡æ¬Šåˆ†æ•£/åº«å­˜ç­‰ï¼‰
- å®˜ç¶²å…¥å£  
  https://www.tdcc.com.tw/

### 1.6 CBCï¼ˆä¸­å¤®éŠ€è¡Œï½œåˆ©ç‡/åŒ¯ç‡/çµ±è¨ˆï¼‰
- å®˜ç¶²å…¥å£  
  https://www.cbc.gov.tw/

### 1.7 DGBASï¼ˆä¸»è¨ˆç¸½è™•ï½œç‰©åƒ¹/æ™¯æ°£/çµ±è¨ˆï¼‰
- å®˜ç¶²å…¥å£  
  https://www.dgbas.gov.tw/

### 1.8 FSCï¼ˆé‡‘ç®¡æœƒï½œæ³•è¦/å…¬å‘Šï¼‰
- å®˜ç¶²å…¥å£  
  https://www.fsc.gov.tw/

---

## 2. è³‡æ–™æ²»ç†ç¸½åŸå‰‡ï¼ˆData Governance Hard Principlesï¼‰

### 2.1 å®˜æ–¹å„ªå…ˆï¼ˆOfficial-Firstï¼‰
- åŒä¸€è³‡æ–™é¡åˆ¥è‹¥å­˜åœ¨å®˜æ–¹ä¾†æºï¼š
  - é è¨­æ¡å®˜æ–¹
  - ç¬¬ä¸‰æ–¹åƒ…èƒ½ä½œ fallback / è£œé½Š / äº¤å‰é©—è­‰
- ç¬¬ä¸‰æ–¹è³‡æ–™ä¸å¾—ç”¨æ–¼ï¼š
  - è£æ±ºåˆ¶åº¦ï¼ˆåˆè¦ï¼‰
  - å–ä»£å®˜æ–¹å…¬å‘Šçš„æ³•å¾‹åœ°ä½

### 2.2 å¤šå±¤ Fallbackï¼ˆMulti-tier Fallbackï¼‰
æ¯å€‹è³‡æ–™é¡åˆ¥å¿…é ˆå®šç¾©è‡³å°‘ï¼š
- Primaryï¼ˆå®˜æ–¹ï¼‰
- Secondaryï¼ˆæº–å®˜æ–¹/æˆæ¬Š/å¯é©—è­‰ï¼‰
- Fallbackï¼ˆç¬¬ä¸‰æ–¹ï¼›éœ€æ¨™è¨˜ provenance èˆ‡ä¿¡ä»»é™ç´šï¼‰

### 2.3 Provenanceï¼ˆä¾†æºè¿½æº¯ï¼‰ä¸å¯çœç•¥
ä»»ä½•è³‡æ–™é€²å…¥ L2ï¼ˆCanonical Dataï¼‰ä¹‹å‰ï¼Œå¿…é ˆå…·å‚™ï¼š
- `source_id`
- `source_urls[]` / `endpoint_ref`
- `captured_at`
- `raw_payload_ref`ï¼ˆæˆ–å¯é‡å»ºç­‰åƒ¹å¼•ç”¨ï¼‰
- `hash_manifest_ref`

ç¼ºä»»ä¸€é …ï¼šä¸å¾—é€²å…¥ Evidence è£æ±ºéˆï¼ˆRETURN/BLOCK ä¾æ”¿ç­–ï¼‰

### 2.4 èªç¾©ä¸å¯å·æ›ï¼ˆSemantic Integrityï¼‰
- æ¬„ä½åç¨±ç›¸åŒä¸ä»£è¡¨èªç¾©ç›¸åŒ
- æ­£è¦åŒ–ï¼ˆNormalizationï¼‰å¿…é ˆä¿ç•™ï¼š
  - æ¬„ä½æ˜ å°„ï¼ˆfield_map_refï¼‰
  - è½‰æ›è¦å‰‡ç‰ˆæœ¬ï¼ˆnormalization_ruleset_versionï¼‰

### 2.5 è³‡æ–™å“è³ªå¯å¯©è¨ˆï¼ˆData Quality Auditableï¼‰
- æ¯æ¬¡ ingest å¿…é ˆç”¢ç”Ÿ Quality Flagsï¼š
  - ç¼ºæ¼ã€å»¶é²ã€ç•°å¸¸ã€è·³è®Šã€ç–‘ä¼¼éŒ¯èª¤
- å“è³ªä¸è¶³ä¸å¾—éœé»˜ä¿®è£œï¼›å¿…é ˆé™ç´šï¼ˆRETURN/FAILï¼‰ä¸¦åœ¨ UI/ç¨½æ ¸å¯è¦‹

---

## 3. è³‡æ–™åˆ†é¡é«”ç³»ï¼ˆData Taxonomyï½œTAITS çµ±ä¸€åˆ†é¡ï¼‰

> ç›®çš„ï¼šå»ºç«‹ã€Œè³‡æ–™é¡åˆ¥ã€â†’ã€Œä¾†æºã€â†’ã€Œæ­£è¦åŒ–ã€â†’ã€Œç”¨é€”èˆ‡é™åˆ¶ã€çš„å¯æ²»ç†çµæ§‹ã€‚

### 3.1 Market Dataï¼ˆå¸‚å ´äº¤æ˜“è³‡æ–™ï¼‰
- ç¾è²¨ï¼šåƒ¹æ ¼ã€æˆäº¤é‡ã€æˆäº¤é¡ã€å§”è²·å§”è³£ã€é€ç­†ï¼ˆè‹¥å¯å–å¾—ï¼‰
- è¡ç”Ÿæ€§ï¼šæœŸè²¨/é¸æ“‡æ¬Šè¡Œæƒ…ã€æœªå¹³å€‰é‡ã€çµç®—åƒ¹ã€ä¿è­‰é‡‘è³‡è¨Šï¼ˆè‹¥å®˜æ–¹æä¾›ï¼‰

### 3.2 Reference Dataï¼ˆåƒè€ƒè³‡æ–™ï¼‰
- è‚¡ç¥¨åŸºæœ¬è³‡æ–™ã€ä»£ç¢¼ã€ç”¢æ¥­åˆ¥ã€ETF/æ¬Šè­‰è³‡è¨Š
- äº¤æ˜“æ—¥æ›†ã€äº¤æ˜“æ™‚æ®µ

### 3.3 Corporate Actionsï¼ˆå…¬å¸è¡Œç‚ºï¼‰
- é™¤æ¬Šæ¯ã€åˆ†å‰²ã€åˆä½µã€åœæ­¢éæˆ¶ã€æ¸›è³‡å¢è³‡ç­‰ï¼ˆä»¥å®˜æ–¹å…¬å‘Š/å…¬å¸å…¬å‘Šç‚ºæº–ï¼‰

### 3.4 Fundamentalsï¼ˆåŸºæœ¬é¢/è²¡å ±ï¼‰
- è²¡å‹™å ±è¡¨ã€é‡å¤§è¨Šæ¯ã€æ³•èªªæœƒã€è‘£äº‹æœƒæ±ºè­°ã€å…§éƒ¨äººæŒè‚¡ç­‰ï¼ˆMOPSï¼‰

### 3.5 Ownership / Flowï¼ˆç±Œç¢¼/è³‡é‡‘æµï¼‰
- ä¸‰å¤§æ³•äººã€èè³‡èåˆ¸ã€å€Ÿåˆ¸ã€é›†ä¿è‚¡æ¬Šåˆ†æ•£ï¼ˆå®˜æ–¹/æº–å®˜æ–¹ä¾†æºå„ªå…ˆï¼‰

### 3.6 Macroï¼ˆå®è§€ï¼‰
- åˆ©ç‡ã€åŒ¯ç‡ã€æ™¯æ°£ã€ç‰©åƒ¹ã€ç¶“æ¿ŸæŒ‡æ¨™ï¼ˆCBC/DGBAS ç­‰ï¼‰

### 3.7 News / Eventsï¼ˆæ–°è/äº‹ä»¶ï¼‰
- å®˜æ–¹å…¬å‘Šï¼ˆäº¤æ˜“æ‰€å…¬å‘Šã€å…¬å¸å…¬å‘Šï¼‰å„ªå…ˆ
- å…¶ä»–æ–°èä½œè¼”åŠ©ï¼ˆä¸å¾—æ›¿ä»£å®˜æ–¹è£æ±ºï¼‰

### 3.8 Alternative / Derivedï¼ˆæ›¿ä»£/è¡ç”Ÿï¼‰
- ç”±ä¸Šè¿°è³‡æ–™è¨ˆç®—ä¹‹è¡ç”Ÿæ¬„ä½ï¼ˆé ˆå¯å›æ”¾ï¼šä¾è³´è¼¸å…¥ refs + ç‰ˆæœ¬ï¼‰

---

## 4. Source Registryï¼ˆè³‡æ–™ä¾†æºè¨»å†Šè¡¨ï¼‰è³‡æ–™çµæ§‹ï¼ˆå¯è½åœ°ï¼‰

> TAITS å°‡æ¯å€‹è³‡æ–™ä¾†æºå®šç¾©ç‚ºä¸€ç­†ã€Œå¯ç‰ˆæœ¬åŒ–ã€çš„ Source Recordï¼ˆOnly-Addï¼‰ã€‚

### 4.1 Source Recordï¼ˆæœ€å°æ¬„ä½ï¼Œä¸å¯ç¸®æ¸›ï¼‰
- `source_id`ï¼ˆå…¨åŸŸå”¯ä¸€ï¼‰
- `source_name_zh` / `source_name_en`
- `scope`ï¼šTWSE/TPEX/TAIFEX/MOPS/TDCC/CBC/DGBAS/FSC/ThirdParty/â€¦  
- `tier`ï¼šPRIMARY / SECONDARY / FALLBACK
- `data_categories[]`ï¼ˆå°æ‡‰ 3.x taxonomyï¼‰
- `official_urls[]`ï¼ˆå®˜æ–¹å…¥å£æˆ–ä¾†æºé ï¼‰
- `access_method`ï¼šHTTP/FTP/ManualDownload/API/WebSocket/â€¦
- `update_frequency`ï¼šreal-time / minute / daily / monthly / event-driven
- `availability`ï¼šexpected uptime / schedule
- `rate_limits`ï¼šè‹¥æœ‰ï¼ˆæœªçŸ¥å‰‡æ¨™è¨» unknown + ç›£æ¸¬ï¼‰
- `licensing_notes`ï¼šæˆæ¬Š/ä½¿ç”¨é™åˆ¶ï¼ˆä¸ç¢ºå®šæ™‚å¿…é ˆæ¨™è¨»èˆ‡é™ç´šï¼‰
- `provenance_requirements`ï¼šå¿…é ˆä¿å­˜å“ªäº›è­‰æ“šï¼ˆhtml/pdf/headers/hashï¼‰
- `fallback_chain[]`ï¼šæ­¤ä¾†æºå¤±æ•ˆæ™‚å¯ç”¨çš„æ›¿ä»£ä¾†æº source_id
- `normalized_schema_id`ï¼šæ­£è¦åŒ–å¾Œ schema
- `normalization_ruleset_version`
- `quality_checks[]`ï¼šæ­¤ä¾†æºå¿…åšçš„å“è³ªæª¢æŸ¥
- `failure_modes[]`ï¼šFAIL/RETURN/BLOCK æ¢ä»¶èˆ‡ reason codes
- `owner_module`ï¼šDataSources Adapter / Collector / Validator
- `security_class`ï¼šPUBLIC / SENSITIVE / RESTRICTED

### 4.2 Source Snapshotï¼ˆä¾†æºå¿«ç…§ï¼‰
æ¯æ¬¡å¯¦éš›æŠ“å–/ä½¿ç”¨ä¸€å€‹ä¾†æºï¼Œå¿…é ˆç”¢ç”Ÿ Source Snapshotï¼š
- `source_snapshot_id`
- `source_id`
- `captured_at`
- `endpoint_ref`ï¼ˆå« URLã€åƒæ•¸ã€headersï¼ˆéœ€è„«æ•ï¼‰ï¼‰
- `raw_payload_ref`
- `hash_manifest_ref`
- `quality_report_ref`
- `active_version_map_ref`

---

## 5. TAITS Canonical Schemaï¼ˆè³‡æ–™æ­£è¦åŒ–æ¨™æº–ï½œéª¨æ¶ï¼‰

> æ³¨æ„ï¼šæ­¤è™•æ˜¯ã€Œæ¶æ§‹éª¨æ¶ã€ã€‚å…·é«”æ¬„ä½ç´°è¡¨å¯åœ¨å¾ŒçºŒ Only-Add æ“´å……æˆ `schemas/` æ–‡ä»¶ï¼›  
> ä½†æœ¬éª¨æ¶ä¸å¯åˆªæ¸›ï¼Œé¿å…å¾ŒçºŒå·æ›èªç¾©ã€‚

### 5.1 Canonical Entity Keysï¼ˆçµ±ä¸€éµï¼‰
- `instrument_id`ï¼šå…§éƒ¨çµ±ä¸€æ¨™çš„ä¸»éµ
- `symbol`ï¼šå¸‚å ´ä»£ç¢¼ï¼ˆä¾‹å¦‚ 2330ï¼‰
- `market`ï¼šTWSE / TPEX / TAIFEX
- `instrument_type`ï¼šEQUITY / ETF / FUTURES / OPTIONS / WARRANT â€¦
- `trading_date` / `timestamp`
- `currency`ï¼šTWDï¼ˆæˆ–å…¶ä»–ï¼‰

### 5.2 Market Barï¼ˆK ç·š/èšåˆè¡Œæƒ…ï¼‰
- `open/high/low/close`
- `volume`ï¼ˆæˆäº¤é‡ï¼‰
- `turnover`ï¼ˆæˆäº¤é¡ï¼‰
- `vwap`ï¼ˆè‹¥å¯ï¼‰
- `bar_interval`ï¼ˆ1m/5m/1dâ€¦ï¼‰
- `data_quality_flags[]`

### 5.3 Orderbook / Quoteï¼ˆå§”è²·å§”è³£ï¼‰
- `bid_prices[]/bid_sizes[]`
- `ask_prices[]/ask_sizes[]`
- `quote_timestamp`

### 5.4 Corporate Actionsï¼ˆå…¬å¸è¡Œç‚ºï¼‰
- `action_type`
- `effective_date`
- `adjustment_factor`
- `source_ref`ï¼ˆå…¬å‘Šå¼•ç”¨ï¼‰

### 5.5 Fundamentalsï¼ˆè²¡å‹™ï¼‰
- `period`
- `statement_type`ï¼ˆBS/IS/CFï¼‰
- `fields{}`ï¼ˆçµæ§‹åŒ–æ¬„ä½é›†åˆï¼‰
- `filing_ref`ï¼ˆå…¬å‘Šå¼•ç”¨ï¼‰

### 5.6 Ownership / Flowï¼ˆç±Œç¢¼ï¼‰
- `institution_type`ï¼ˆå¤–è³‡/æŠ•ä¿¡/è‡ªç‡Ÿâ€¦ï¼‰
- `net_buy_sell`
- `margin_balance` / `short_balance`ï¼ˆè‹¥æœ‰ï¼‰
- `tdcc_distribution_ref`ï¼ˆè‹¥æœ‰ï¼‰

### 5.7 Macroï¼ˆå®è§€ï¼‰
- `series_id`
- `value`
- `release_date`
- `revision`ï¼ˆè‹¥æœ‰ï¼‰

---

## 6. è³‡æ–™ä¾†æºå…¨é›†ï¼ˆSource Universeï½œæœ€å¤§å®Œå‚™æ¸…å–®éª¨æ¶ï¼‰

> ä½ è¦æ±‚ã€Œæœ€å¤§å®Œå‚™ã€ï¼šæ­¤è™•æä¾› TAITS å°ç£å¸‚å ´å¸¸ç”¨ä¾†æºå…¨é›†ã€Œéª¨æ¶æ¸…å–®ã€ã€‚  
> å¯¦éš›å¯ç”¨æ¬„ä½/ç«¯é»å·®ç•°ï¼Œç”± Source Record çš„ `access_method/endpoint_ref` èˆ‡ Snapshot ä¿è­‰å¯è¿½æº¯ã€‚  
> **Only-Add**ï¼šä½ ä¹‹å¾Œå¯ç›´æ¥æ–°å¢ä¾†æºï¼Œä¸éœ€è¦æ”¹èˆŠçš„ã€‚

### 6.1 PRIMARYï¼ˆå®˜æ–¹/æœ€é«˜å„ªå…ˆï¼‰

#### 6.1.1 TWSEï¼ˆä¸Šå¸‚ï¼‰
- `SRC_TWSE_MARKETDATA`ï¼šç¾è²¨è¡Œæƒ…/æ”¶ç›¤è³‡è¨Šï¼ˆå®˜æ–¹å…¥å£ï¼‰  
  å®˜æ–¹å…¥å£ï¼šhttps://www.twse.com.tw/
- `SRC_TWSE_ANNOUNCEMENTS`ï¼šäº¤æ˜“æ‰€å…¬å‘Šï¼ˆåœç‰Œã€è™•ç½®ã€åˆ¶åº¦ç•°å‹•ç­‰ï¼‰  
  å®˜æ–¹å…¥å£ï¼šhttps://www.twse.com.tw/  
- `SRC_TWSE_REGULATION`ï¼šè¦ç« æ³•è¦ï¼ˆåˆ¶åº¦è£æ±ºï¼‰  
  å®˜æ–¹å…¥å£ï¼šhttps://twse-regulation.twse.com.tw/

#### 6.1.2 TPEXï¼ˆä¸Šæ«ƒï¼‰
- `SRC_TPEX_MARKETDATA`ï¼šä¸Šæ«ƒè¡Œæƒ…/æ”¶ç›¤è³‡è¨Š  
  å®˜æ–¹å…¥å£ï¼šhttps://www.tpex.org.tw/
- `SRC_TPEX_ANNOUNCEMENTS`ï¼šæ«ƒè²·å…¬å‘Š/åˆ¶åº¦  
  å®˜æ–¹å…¥å£ï¼šhttps://www.tpex.org.tw/

#### 6.1.3 TAIFEXï¼ˆæœŸè²¨/é¸æ“‡æ¬Šï¼‰
- `SRC_TAIFEX_MARKETDATA`ï¼šæœŸè²¨/é¸æ“‡æ¬Šè¡Œæƒ…ã€çµç®—ç­‰  
  å®˜æ–¹å…¥å£ï¼šhttps://www.taifex.com.tw/
- `SRC_TAIFEX_RULES`ï¼šæœŸè²¨åˆ¶åº¦  
  å®˜æ–¹å…¥å£ï¼šhttps://www.taifex.com.tw/

#### 6.1.4 MOPSï¼ˆå…¬å¸å…¬å‘Š/è²¡å ±ï¼‰
- `SRC_MOPS_FILINGS`ï¼šé‡å¤§è¨Šæ¯ã€è²¡å ±ã€å…¬å‘Š  
  å®˜æ–¹å…¥å£ï¼šhttps://mops.twse.com.tw/

#### 6.1.5 TDCCï¼ˆé›†ä¿ï¼‰
- `SRC_TDCC_OWNERSHIP`ï¼šè‚¡æ¬Šåˆ†æ•£/è‚¡æ±çµæ§‹ï¼ˆä¾å¯å–å¾—ç¯„åœï¼‰  
  å®˜æ–¹å…¥å£ï¼šhttps://www.tdcc.com.tw/

#### 6.1.6 CBC / DGBAS / FSCï¼ˆå®è§€èˆ‡ç›£ç®¡ï¼‰
- `SRC_CBC_MACRO`ï¼šåˆ©ç‡ã€åŒ¯ç‡ã€çµ±è¨ˆ  
  å®˜æ–¹å…¥å£ï¼šhttps://www.cbc.gov.tw/
- `SRC_DGBAS_MACRO`ï¼šæ™¯æ°£ã€ç‰©åƒ¹ã€çµ±è¨ˆ  
  å®˜æ–¹å…¥å£ï¼šhttps://www.dgbas.gov.tw/
- `SRC_FSC_REGULATORY`ï¼šç›£ç†å…¬å‘Š/æ³•è¦  
  å®˜æ–¹å…¥å£ï¼šhttps://www.fsc.gov.tw/

---

### 6.2 SECONDARYï¼ˆæº–å®˜æ–¹/æˆæ¬Š/å¯é©—è­‰ï¼‰

> æ­¤å±¤éœ€èƒ½ã€Œå›æŒ‡å®˜æ–¹æˆ–å…·å¯é©—è­‰æ€§ã€ï¼Œä¸”å¿…é ˆæ¨™è¨»æˆæ¬Šèˆ‡é™åˆ¶ã€‚

- `SRC_BROKER_API_QUOTES`ï¼šåˆ¸å•†è¡Œæƒ…/å ±åƒ¹ï¼ˆä»¥åˆ¸å•†å®˜æ–¹ API æ–‡ä»¶ç‚ºæº–ï¼‰  
  é™åˆ¶ï¼šä¸å¾—å–ä»£å®˜æ–¹åˆ¶åº¦è£æ±ºï¼›åƒ…ä½œå³æ™‚é€šé“èˆ‡äº¤å‰é©—è­‰  
- `SRC_BROKER_API_ORDERS`ï¼šåˆ¸å•†å§”è¨—/å›å ±ï¼ˆåŸ·è¡Œå¿…éœ€ï¼‰  
  é™åˆ¶ï¼šæ•æ„Ÿç´šåˆ¥æœ€é«˜ï¼ˆRESTRICTEDï¼‰ï¼Œåš´ç¦é€² repo/log æ˜æ–‡  
- `SRC_BANK_RATES`ï¼šéŠ€è¡Œå…¬é–‹åŒ¯ç‡/åˆ©ç‡ï¼ˆè‹¥éœ€ï¼‰  
  é™åˆ¶ï¼šéœ€å¯è¿½æº¯ä¾†æºé é¢èˆ‡æ™‚é–“æˆ³  

---

### 6.3 FALLBACKï¼ˆç¬¬ä¸‰æ–¹ï½œåªä½œè£œé½Š/äº¤å‰é©—è­‰ï¼Œä¸å¾—è£æ±ºåˆ¶åº¦ï¼‰

> å¿…é ˆç‰¹åˆ¥å¼·èª¿ï¼šç¬¬ä¸‰æ–¹å¯ç”¨æ–¼ç ”ç©¶/ä¾¿åˆ©æ€§ï¼Œä½†ä¸å¾—è£æ±ºåˆ¶åº¦ï¼›  
> è‹¥å®˜æ–¹ç¼ºå¤±ï¼Œæ‡‰é™ç´šç‚ºä¸å¯è£æ±ºï¼ˆRETURN/BLOCKï¼‰ï¼Œè€Œä¸æ˜¯ç”¨ç¬¬ä¸‰æ–¹ã€Œç¡¬åˆ¤ã€ã€‚

- `SRC_YAHOO_FINANCE`ï¼šè¡Œæƒ…/æ–°èï¼ˆäº¤å‰é©—è­‰/ç ”ç©¶ç”¨ï¼‰  
- `SRC_CNYES`ï¼šæ–°è/å¸‚å ´è³‡è¨Šï¼ˆç ”ç©¶ç”¨ï¼‰  
- `SRC_FINMIND`ï¼šè³‡æ–™æ•´åˆï¼ˆç ”ç©¶/å›æ¸¬ä¾¿åˆ©ï¼›éœ€æ¨™è¨»ä¾†æºï¼‰  
- `SRC_OTHER_DATA_AGGREGATORS`ï¼šå…¶ä»–èšåˆå™¨ï¼ˆéœ€å¯©æ ¸æˆæ¬Š/å“è³ª/å¯è¿½æº¯ï¼‰

---

## 7. DataSources Adapterï¼ˆé©é…å™¨ï¼‰æ¨™æº–ï¼ˆL1 å¯¦ä½œç¡¬è¦æ ¼ï¼‰

> FULL_ARCH è¦æ±‚æ¨¡çµ„ä»‹é¢å¥‘ç´„ï¼›æ­¤è™•çµ¦ Data Adapter çš„ã€Œæœ€å¤§å®Œå‚™ã€è¦ç¯„ã€‚

### 7.1 Adapter å¿…é ˆè¼¸å‡º
- `DataIngested` contractï¼ˆå« provenance_ref / raw_payload_ref / hash_manifest_refï¼‰
- `quality_report_ref`ï¼ˆè‡³å°‘åŒ…å«ï¼šå»¶é²ã€ç¼ºæ¼ã€æ ¼å¼éŒ¯èª¤ã€å€¼åŸŸæª¢æŸ¥ï¼‰

### 7.2 Adapter ç¦æ­¢äº‹é …
- éœé»˜è£œå€¼æˆ–æ”¹å€¼
- æŠŠç¬¬ä¸‰æ–¹è³‡æ–™å‡å†’å®˜æ–¹
- çœç•¥ä¾†æºè­‰æ“šï¼ˆURL/headers/æŠ“å–æ™‚é–“/æ ¡é©—ï¼‰

### 7.3 Adapter å¤±æ•ˆæ¨¡å¼ï¼ˆæ¨™æº–åŒ–ï¼‰
- `FAIL`ï¼šä¾†æºä¸å¯é”ã€æ ¼å¼ä¸å¯è§£æã€é »ç‡è¶…é™ä¸”ä¸å¯æ¢å¾©
- `RETURN`ï¼šæš«æ™‚è³‡æ–™ä¸è¶³ï¼ˆå¯é‡è©¦/ç­‰å¾…ï¼‰
- `BLOCK`ï¼šprovenance ç¼ºå¤±ã€ç‰ˆæœ¬æ˜ å°„ç¼ºå¤±ã€ç¨½æ ¸ä¸å¯å¯«å…¥

---

## 8. Data Validatorï¼ˆé©—è­‰å™¨ï¼‰è¦ç¯„ï¼ˆL1-L2ï¼‰

### 8.1 é©—è­‰é¡å‹ï¼ˆæœ€å°é›†åˆï¼‰
- Schema Validationï¼ˆæ¬„ä½å­˜åœ¨ã€å‹åˆ¥ï¼‰
- Domain Validationï¼ˆå€¼åŸŸã€å–®ä½ã€åˆç†ç¯„åœï¼‰
- Temporal Validationï¼ˆæ™‚é–“æˆ³éå¢/äº¤æ˜“æ™‚æ®µä¸€è‡´ï¼‰
- Cross-Source Consistencyï¼ˆäº¤å‰ä¸€è‡´æ€§ï¼Œåƒ…æ¨™è¨˜ä¸è£æ±ºï¼‰
- Corporate Action Consistencyï¼ˆé™¤æ¬Šæ¯èª¿æ•´ä¸€è‡´æ€§ï¼‰

### 8.2 Quality Flagsï¼ˆå¿…é ˆè¼¸å‡ºï¼‰
- `MISSING_FIELDS`
- `DELAYED_SOURCE`
- `OUT_OF_RANGE`
- `SUSPECT_SPIKE`
- `INCONSISTENT_WITH_OFFICIAL`
- `UNKNOWN_SCHEMA_VERSION`

---

## 9. Normalizerï¼ˆæ­£è¦åŒ–å™¨ï¼‰è¦ç¯„ï¼ˆL2ï½œèªç¾©é–å®šï¼‰

### 9.1 å¿…é ˆä¿ç•™ï¼ˆä¸å¯ç¸®æ¸›ï¼‰
- `field_map_ref`ï¼šåŸæ¬„ä½ â†’ canonical æ¬„ä½
- `unit_transform_ref`ï¼šå–®ä½æ›ç®—ï¼ˆè‚¡â†’å¼µã€å…ƒâ†’åˆ†ç­‰ï¼‰
- `timezone_transform_ref`
- `corporate_action_adjustment_ref`ï¼ˆè‹¥æœ‰ï¼‰

### 9.2 ç¡¬ç¦
- ç”¨ã€Œæ–¹ä¾¿ã€ç‚ºç†ç”±æ”¹å¯«èªç¾©
- è®“åŒä¸€ canonical æ¬„ä½åœ¨ä¸åŒä¾†æºä»£è¡¨ä¸åŒå«ç¾©

---

## 10. Fallback ç­–ç•¥ï¼ˆFailover / Degradationï½œæœ€å¤§å®Œå‚™ï¼‰

> TAITS å¿…é ˆæŠŠã€Œè³‡æ–™å¤±æ•ˆã€åˆ¶åº¦åŒ–ï¼Œè€Œä¸æ˜¯è‡¨å ´åæ‡‰ã€‚

### 10.1 Fallback åŸå‰‡
- å„ªå…ˆåŒç´šå®˜æ–¹æ›¿ä»£ï¼ˆTWSE â†” TPEX åˆ†åŸŸï¼Œä¸å¯äº‚æ›¿ï¼‰
- æ¬¡å„ªå…ˆæº–å®˜æ–¹/æˆæ¬Šï¼ˆåˆ¸å•†ï¼‰
- æœ€å¾Œæ‰ç¬¬ä¸‰æ–¹ï¼ˆä¸”å¿…é ˆé™ç´šä¿¡ä»»ï¼‰

### 10.2 é™ç´šè¼¸å‡ºï¼ˆå¿…é ˆè®“ä¸‹æ¸¸çŸ¥é“ï¼‰
- `source_tier_used`ï¼šPRIMARY/SECONDARY/FALLBACK
- `trust_level`ï¼šHIGH/MEDIUM/LOW
- `compliance_eligible`ï¼štrue/falseï¼ˆç¬¬ä¸‰æ–¹é€šå¸¸ç‚º falseï¼‰
- `notes_ref`ï¼šé™ç´šåŸå› ï¼ˆreason codesï¼‰

---

## 11. ç¨½æ ¸èˆ‡å›æ”¾è¦æ±‚ï¼ˆAudit & Replay Requirementsï½œå¼·åˆ¶ï¼‰

æ¯æ¬¡è³‡æ–™ ingestï¼ˆL1-L2ï¼‰å¿…é ˆç”¢ç”Ÿï¼š
- `source_snapshot_ref`
- `raw_payload_ref`
- `hash_manifest_ref`
- `quality_report_ref`
- ç´å…¥ `active_version_map_ref`

ä¸¦ä¸”åœ¨å›æ”¾ï¼ˆReplayï¼‰æ™‚å¯é‡å»ºï¼š
- åŒä¸€ä»½ canonical dataï¼ˆæˆ–å¯è§£é‡‹å·®ç•°ï¼‰
- åŒä¸€ä»½è­‰æ“šéˆï¼ˆEvidence Bundle çš„ provenance map ä¸æ–·è£‚ï¼‰

---

## 12. Mermaidï½œè³‡æ–™ä¾†æºæ²»ç†æµç¨‹ï¼ˆL1-L2ï¼‰

```mermaid
flowchart TB
  A[Select Source_id<br/>from DATA_UNIVERSE] --> B[Ingest Raw Payload]
  B --> C[Create Source Snapshot<br/>+ provenance + hash]
  C --> D[Validate Schema/Domain/Time]
  D -->|FAIL| X[FAIL + Audit]
  D -->|RETURN| R[RETURN + Missing/Delay Flags]
  D -->|PASS| E[Normalize to Canonical Schema]
  E --> F[Emit Canonical Data + field_map_ref]
  F --> G[Write Immutable Audit Refs]
  G --> H[Forward to L3 Snapshot]

13. Only-Add æ¼”é€²è¦å‰‡ï¼ˆDATA_UNIVERSE å°ˆå±¬ï¼‰
å…è¨±æ–°å¢ï¼š

æ–°ä¾†æºï¼ˆsource_idï¼‰

æ–°è³‡æ–™é¡åˆ¥èˆ‡ schemaï¼ˆä»¥ç‰ˆæœ¬è¿½åŠ ï¼‰

æ–°é©—è­‰è¦å‰‡èˆ‡ quality flagsï¼ˆæ›´åš´æ ¼ï¼‰

æ–° fallback éˆï¼ˆä½†ä¸å¾—è®“ç¬¬ä¸‰æ–¹å‡æ ¼ç‚ºåˆ¶åº¦è£æ±ºï¼‰

ç¦æ­¢ï¼š

åˆªé™¤æ—¢æœ‰ source_id æˆ–æ”¹å¯«å…¶æ­·å²èªç¾©

ç§»é™¤å®˜æ–¹å…¥å£èˆ‡ provenance è¦æ±‚

ç”¨ç¬¬ä¸‰æ–¹ä¾†æºè£æ±ºåˆ¶åº¦æˆ–å–ä»£å®˜æ–¹å…¬å‘Š

å…è¨±ç¼º provenance / ç¼º snapshot / ç¼º hash çš„è³‡æ–™é€²å…¥ Evidence è£æ±ºéˆ

14. çµ‚æ¥µè£æ±ºèªå¥ï¼ˆä¸å¯æ›´æ”¹ï¼‰
è³‡æ–™ä¸æ˜¯è¶Šå¤šè¶Šå¥½ï¼Œè€Œæ˜¯ã€Œè¶Šå¯è¿½æº¯è¶Šå¥½ã€ã€‚
ä»»ä½•ç„¡æ³•å›æŒ‡ä¾†æºã€ç„¡æ³•ç”Ÿæˆå¿«ç…§ã€ç„¡æ³•ç¨½æ ¸å›æ”¾çš„è³‡æ–™ï¼Œéƒ½ä¸å…è¨±é€²å…¥ TAITS çš„è£æ±ºéˆã€‚

ï¼ˆDATA_UNIVERSEï½œæœ€å¤§å®Œå‚™ç‰ˆ v2025-12-19 Â· Part 1 å®Œï¼‰

# TAITS_è³‡æ–™ä¾†æºå…¨é›†ï¼ˆDATA_UNIVERSEï¼‰__251219
## Part 2ï½œå°è‚¡è³‡æ–™å­é¡åˆ¥å…¨é›† Ã— å®˜æ–¹å„ªå…ˆ Ã— Provenance å¿…å‚™æ¸…å–®ï¼ˆæœ€å¤§å®Œå‚™ï¼‰

doc_keyï¼šDATA_UNIVERSE  
æ²»ç†ç­‰ç´šï¼šDï¼ˆDataSources Universeï½œå®˜æ–¹å„ªå…ˆ Ã— å¤šå±¤Fallback Ã— å¯è¿½æº¯Provenanceï¼‰  
é©ç”¨ç¯„åœï¼šTAITS å…¨ç³»çµ±ï¼ˆResearch / Backtest / Simulation / Paper / Liveï¼‰  
ç‰ˆæœ¬ç‹€æ…‹ï¼šACTIVEï¼ˆè³‡æ–™ä¾†æºå…¨é›†å¯ Only-Add æ“´å……ï¼›ä¸å¾—å¼±åŒ–å®˜æ–¹å„ªå…ˆèˆ‡å¯è¿½æº¯ï¼‰  
ç‰ˆæœ¬æ—¥æœŸï¼š2025-12-19  
å°é½Šæ¯æ³•ï¼šTAITS_AI_è¡Œç‚ºèˆ‡æ±ºç­–æ²»ç†æœ€çµ‚è¦å‰‡å…¨é›†__251217ï¼ˆA+ï¼‰  
ä¸Šä½ç´„æŸï¼šMASTER_ARCH / DOCUMENT_INDEX / MASTER_CANON / VERSION_AUDIT  
å¹³è¡Œåƒç…§ï¼šFULL_ARCH / ARCH_FLOW / RISK_COMPLIANCE / TWSE_RULES / EXECUTION_CONTROL / UI_SPEC / DEPLOY_OPS / LOCAL_ENV  
è®Šæ›´åŸå‰‡ï¼šOnly-Addï¼ˆåªå¯æ–°å¢ï¼Œä¸å¯åˆªæ¸›/è¦†å¯«/å·æ›è³‡æ–™èªç¾©ï¼›ä¸å¾—ç”¨ç¬¬ä¸‰æ–¹è£æ±ºåˆ¶åº¦ï¼‰  
æ ¸å¿ƒéµå¾‹ï¼šå®˜æ–¹è³‡æ–™å„ªå…ˆï¼›å¤šå±¤Fallbackï¼›Provenance å¯è¿½æº¯ï¼›Snapshot å¯å›æ”¾ï¼›è³‡æ–™å“è³ªå¯å¯©è¨ˆï¼›ç¼ºè­‰æ“šä¸å¾—è£æ±º

---

## 15. å­é¡åˆ¥ç¸½è¦½ï¼ˆData Subcategory Catalogï½œå°ç£å¸‚å ´æœ€å¤§å®Œå‚™éª¨æ¶ï¼‰

> æœ¬ç¯€æŠŠã€Œå°ç£å¸‚å ´å¸¸ç”¨è³‡æ–™ã€æ‹†æˆå¯æ²»ç†çš„å­é¡åˆ¥ï¼ˆSubcategoryï¼‰ï¼Œæ¯ä¸€é …éƒ½å®šç¾©ï¼š
> - Primaryï¼ˆå®˜æ–¹å„ªå…ˆï¼‰å…¥å£
> - Secondaryï¼ˆæº–å®˜æ–¹/æˆæ¬Šï¼‰
> - Fallbackï¼ˆç¬¬ä¸‰æ–¹ï¼›åƒ…è£œé½Š/äº¤å‰é©—è­‰ï¼Œä¸å¾—è£æ±ºåˆ¶åº¦ï¼‰
> - å¿…å‚™ Provenanceï¼ˆæŠ“å–è­‰æ“šï¼‰èˆ‡ä¸å¯ç¸®æ¸›æ¬„ä½
> - å…¸å‹å“è³ªæª¢æŸ¥èˆ‡å¤±æ•ˆæ¨¡å¼ï¼ˆFAIL/RETURN/BLOCKï¼‰

---

## 16. å¸‚å ´äº¤æ˜“è³‡æ–™ï¼ˆMarket Dataï¼‰

### 16.1 ç¾è²¨ï¼šæ—¥è¡Œæƒ…ï¼ˆEOD Daily Barsï¼‰
- subcategory_idï¼š`MD_EQUITY_EOD_DAILY`
- Primaryï¼š
  - TWSEï¼šhttps://www.twse.com.tw/
  - TPEXï¼šhttps://www.tpex.org.tw/
- Secondaryï¼š
  - åˆ¸å•†è¡Œæƒ… APIï¼ˆæˆæ¬Š/å¯é©—è­‰ï¼‰ï¼š`SRC_BROKER_API_QUOTES`
- Fallbackï¼š
  - Yahoo / èšåˆå™¨ï¼ˆç ”ç©¶ç”¨ï¼‰ï¼š`SRC_YAHOO_FINANCE`, `SRC_FINMIND`, `SRC_CNYES`
- å¿…å‚™ Provenanceï¼ˆä¸å¯ç¸®æ¸›ï¼‰ï¼š
  - `source_urls[]`ï¼ˆå«æŸ¥è©¢é /ä¸‹è¼‰é /å…¬å‘Šé ï¼‰
  - `captured_at`
  - `raw_payload_ref`ï¼ˆCSV/JSON/HTML/PDF ä»»ä¸€å½¢å¼ï¼‰
  - `hash_manifest_ref`
  - `field_map_ref`ï¼ˆåŸæ¬„ä½â†’canonicalï¼‰
- Canonical æœ€å°æ¬„ä½ï¼š
  - `symbol, market, trading_date, open, high, low, close, volume, turnover`
- å“è³ªæª¢æŸ¥ï¼ˆæœ€å°é›†åˆï¼‰ï¼š
  - äº¤æ˜“æ—¥æ›†ä¸€è‡´æ€§ã€ç¼ºæ¼ã€ç•°å¸¸è·³è®Šã€å€¼åŸŸæª¢æŸ¥
- å¤±æ•ˆæ¨¡å¼ï¼š
  - Primary FAIL â†’ Secondaryï¼›Secondary FAIL â†’ Fallbackï¼ˆéœ€æ¨™è¨˜ trust_level=LOWï¼‰
  - è‹¥ç”¨æ–¼åˆè¦/è£æ±ºéˆä¸”éå®˜æ–¹ â†’ `compliance_eligible=false`

### 16.2 ç¾è²¨ï¼šç›¤ä¸­å³æ™‚å ±åƒ¹ï¼ˆIntraday Quotesï¼‰
- subcategory_idï¼š`MD_EQUITY_INTRADAY_QUOTES`
- Primaryï¼š
  - ï¼ˆä»¥äº¤æ˜“æ‰€å¯ç”¨ä¹‹å³æ™‚è³‡è¨Šå…¥å£ç‚ºæº–ï¼Œè‹¥ç„¡å¯ç”¨/æˆæ¬Šé™åˆ¶ â†’ ä¸è¦–ç‚º Primary å¯æŠ“å–ï¼‰
  - TWSEï¼šhttps://www.twse.com.tw/
  - TPEXï¼šhttps://www.tpex.org.tw/
- Secondaryï¼ˆå¸¸è¦‹å¯¦å‹™ï¼‰ï¼š
  - åˆ¸å•†å³æ™‚è¡Œæƒ… APIï¼š`SRC_BROKER_API_QUOTES`
- Fallbackï¼š
  - ç¬¬ä¸‰æ–¹å³æ™‚ç›¤ï¼ˆç ”ç©¶/è¦–è¦ºåŒ–ï¼‰ï¼š`SRC_CNYES`, `SRC_YAHOO_FINANCE`
- Provenanceï¼š
  - å¿…é ˆä¿å­˜ `endpoint_ref`ï¼ˆåƒæ•¸ã€headers è„«æ•ï¼‰+ `captured_at` + `hash_manifest_ref`
- Canonical æœ€å°æ¬„ä½ï¼š
  - `symbol, timestamp, last, volume, turnover, bid/ask (è‹¥æœ‰), session_state`
- é‡è¦é™åˆ¶ï¼š
  - å³æ™‚è¡Œæƒ…å¸¸å—æˆæ¬Šé™åˆ¶ï¼›å¿…é ˆåœ¨ `licensing_notes` æ¨™è¨»ï¼Œæœªæ˜ç¢ºæˆæ¬Šæ™‚ä¸å¾—å®£ç¨±å¯å•†ç”¨/å¯é•·æœŸç©©å®š

### 16.3 ç¾è²¨ï¼šé€ç­†ï¼ˆTick / Tradesï¼‰èˆ‡å§”è²·å§”è³£ï¼ˆOrderbookï¼‰
- subcategory_idï¼š`MD_EQUITY_TICKS`, `MD_EQUITY_ORDERBOOK`
- Primaryï¼šä¾å®˜æ–¹/æˆæ¬Šå¯å¾—æ€§åˆ¤å®šï¼ˆä¸ç¢ºå®š â†’ ä»¥ Secondary/RESTRICTED ç®¡ç†ï¼‰
- Secondaryï¼š
  - åˆ¸å•†/æˆæ¬Šä¾›æ‡‰å•†ï¼ˆè‹¥æœ‰ï¼‰ï¼š`SRC_BROKER_API_QUOTES`
- Fallbackï¼šç¬¬ä¸‰æ–¹ï¼ˆåƒ…ç ”ç©¶ï¼‰
- Provenanceï¼ˆåŠ åš´ï¼‰ï¼š
  - å¿…é ˆä¿å­˜åŸå§‹äº‹ä»¶æµï¼ˆæˆ–å¯é‡å»ºç­‰åƒ¹å¼•ç”¨ï¼‰ï¼Œç¦æ­¢åªå­˜èšåˆæ‘˜è¦
- Canonicalï¼ˆç¤ºä¾‹æœ€å°æ¬„ä½ï¼‰ï¼š
  - Tradesï¼š`timestamp, price, size, aggressor_flag(optional)`
  - Orderbookï¼š`bid_prices/sizes[], ask_prices/sizes[]`
- å¤±æ•ˆæ¨¡å¼ï¼š
  - ç„¡æ³•ä¿å­˜åŸå§‹äº‹ä»¶æµ â†’ `RETURN`ï¼ˆä¸å¯é€²å…¥å›æ”¾è£æ±ºéˆï¼‰

### 16.4 æœŸè²¨/é¸æ“‡æ¬Šï¼šæ—¥è¡Œæƒ…/ç›¤ä¸­ï¼ˆTAIFEXï¼‰
- subcategory_idï¼š`MD_DERIV_EOD`, `MD_DERIV_INTRADAY`
- Primaryï¼š
  - TAIFEXï¼šhttps://www.taifex.com.tw/
- Secondaryï¼š
  - åˆ¸å•†è¡ç”Ÿå“è¡Œæƒ… APIï¼ˆæˆæ¬Šï¼‰ï¼š`SRC_BROKER_API_QUOTES`
- Provenanceï¼š
  - `source_urls[]` + `captured_at` + `raw_payload_ref` + `hash_manifest_ref`
- Canonical æœ€å°æ¬„ä½ï¼š
  - `product_id, contract_month, trading_date/timestamp, ohlc, volume, open_interest, settlement(optional)`
- å“è³ªæª¢æŸ¥ï¼š
  - åˆç´„æœˆåˆ‡æ›ä¸€è‡´æ€§ã€OI è·³è®Šã€çµç®—åƒ¹ä¸€è‡´æ€§ï¼ˆè‹¥å¯å–å¾—ï¼‰

---

## 17. åƒè€ƒè³‡æ–™ï¼ˆReference Dataï¼‰

### 17.1 å•†å“/æ¨™çš„åŸºæœ¬è³‡æ–™ï¼ˆSymbol Masterï¼‰
- subcategory_idï¼š`REF_SYMBOL_MASTER`
- Primaryï¼š
  - TWSEï¼šhttps://www.twse.com.tw/
  - TPEXï¼šhttps://www.tpex.org.tw/
  - TAIFEXï¼šhttps://www.taifex.com.tw/
- Secondaryï¼š
  - åˆ¸å•†å•†å“ä¸»æª”ï¼ˆåƒ…ä½œè£œé½Šï¼‰
- Provenanceï¼š
  - å¿…é ˆä¿å­˜ã€Œä»£ç¢¼è®Šæ›´ã€èˆ‡ã€Œåœç”¨/æ–°å¢ã€çš„ä¾†æºè­‰æ“šï¼ˆå…¬å‘Š/æ¸…å–®ï¼‰
- Canonical æœ€å°æ¬„ä½ï¼š
  - `instrument_id, symbol, market, instrument_type, name_zh, list_date, status`
- å¤±æ•ˆæ¨¡å¼ï¼š
  - ä¸»æª”ä¸ä¸€è‡´ â†’ æ¨™è¨˜ `INCONSISTENT_WITH_OFFICIAL`ï¼Œä¸å¾—éœé»˜åˆä½µ

### 17.2 äº¤æ˜“æ—¥æ›†/äº¤æ˜“æ™‚æ®µï¼ˆCalendar & Sessionï¼‰
- subcategory_idï¼š`REF_TRADING_CALENDAR`, `REF_SESSION_SCHEDULE`
- Primaryï¼š
  - TWSEï¼šhttps://www.twse.com.tw/
  - TPEXï¼šhttps://www.tpex.org.tw/
  - TAIFEXï¼šhttps://www.taifex.com.tw/
- Provenanceï¼š
  - å¿…é ˆä¿å­˜äº¤æ˜“æ—¥æ›†æ“·å–æ™‚é–“èˆ‡ä¾†æºé 
- ç”¨é€”é™åˆ¶ï¼ˆå¼·åˆ¶ï¼‰ï¼š
  - ä»»ä½•é€å–®/åˆè¦åˆ¤å®šå¿…é ˆä¾æ­¤è³‡æ–™ï¼›ç¼ºå¤± â†’ `RETURN/BLOCK`ï¼ˆä¾ TWSE_RULES/RISK_COMPLIANCEï¼‰

### 17.3 ç”¢æ¥­åˆ†é¡/ETF æˆåˆ†/å•†å“è¦æ ¼
- subcategory_idï¼š`REF_INDUSTRY_CLASS`, `REF_ETF_CONSTITUENTS`, `REF_DERIV_CONTRACT_SPECS`
- Primaryï¼š
  - TWSE/TPEXï¼ˆåˆ†é¡ï¼‰
  - TAIFEXï¼ˆåˆç´„è¦æ ¼ï¼‰
- Provenanceï¼š
  - æˆåˆ†è‚¡/è¦æ ¼å…·æœ‰ç‰ˆæœ¬æ€§ï¼ˆå¿…é ˆä¿å­˜æ—¥æœŸèˆ‡å¿«ç…§ï¼‰
- å¤±æ•ˆæ¨¡å¼ï¼š
  - æˆåˆ†è‚¡ç¼ºå¿«ç…§ â†’ ä¸å¯å›æ”¾ â†’ `RETURN`

---

## 18. å…¬å¸è¡Œç‚ºï¼ˆCorporate Actionsï¼‰

### 18.1 é™¤æ¬Šæ¯/åˆ†å‰²/åˆä½µ/æ¸›è³‡å¢è³‡ï¼ˆCA Masterï¼‰
- subcategory_idï¼š`CA_MASTER`
- Primaryï¼š
  - MOPSï¼šhttps://mops.twse.com.tw/
  - äº¤æ˜“æ‰€å…¬å‘Šï¼ˆTWSE/TPEXï¼‰ï¼šhttps://www.twse.com.tw/ / https://www.tpex.org.tw/
- Secondaryï¼š
  - åˆ¸å•†å…¬å¸è¡Œç‚ºè³‡æ–™ï¼ˆåƒ…è£œé½Šï¼‰
- Provenanceï¼ˆåŠ åš´ï¼‰ï¼š
  - å¿…é ˆä¿å­˜å…¬å‘ŠåŸæ–‡å¼•ç”¨ï¼ˆå…¬å‘Šé æˆ– PDFï¼‰
  - å¿…é ˆä¿å­˜ç”Ÿæ•ˆæ—¥èˆ‡èª¿æ•´ä¿‚æ•¸è¨ˆç®—ä¾æ“š
- Canonical æœ€å°æ¬„ä½ï¼š
  - `symbol, action_type, effective_date, factor, announcement_ref`
- é‡è¦é™åˆ¶ï¼š
  - ä»»ä½•åƒ¹æ ¼èª¿æ•´è‹¥ç„¡å…¬å‘Šå¼•ç”¨ â†’ `BLOCK`ï¼ˆèªç¾©ä¸å¯è¢«ã€ŒçŒœæ¸¬ã€ï¼‰

### 18.2 åœæ­¢éæˆ¶/æ¬Šåˆ©è®Šæ›´æœŸé–“
- subcategory_idï¼š`CA_BOOKCLOSURE`
- Primaryï¼š
  - MOPS / äº¤æ˜“æ‰€å…¬å‘Š
- Provenanceï¼š
  - `announcement_ref` å¿…å¡«ï¼ˆåŸæ–‡è­‰æ“šï¼‰
- ç”¨é€”ï¼š
  - å½±éŸ¿å¯äº¤æ˜“æ€§/å›æ¸¬èª¿æ•´çª—å£

---

## 19. åŸºæœ¬é¢èˆ‡æ­éœ²ï¼ˆFundamentals / Disclosuresï¼‰

### 19.1 è²¡å‹™å ±è¡¨ï¼ˆBS/IS/CFï¼‰
- subcategory_idï¼š`FD_FIN_STATEMENTS`
- Primaryï¼š
  - MOPSï¼šhttps://mops.twse.com.tw/
- Provenanceï¼ˆåŠ åš´ï¼‰ï¼š
  - å¿…é ˆä¿å­˜ç”³å ±ç‰ˆæœ¬ã€ç”³å ±æ—¥æœŸã€åŸæ–‡å¼•ç”¨
- Canonical æœ€å°æ¬„ä½ï¼š
  - `symbol, period, statement_type, fields{}, filing_ref`
- å“è³ªæª¢æŸ¥ï¼š
  - æœŸåˆ¥ä¸€è‡´æ€§ã€æ¬„ä½ç¼ºæ¼ã€ä¿®æ­£ç”³å ±ï¼ˆrevisionï¼‰è™•ç†

### 19.2 é‡å¤§è¨Šæ¯/å…¬å‘Šï¼ˆMaterial Informationï¼‰
- subcategory_idï¼š`FD_MATERIAL_EVENTS`
- Primaryï¼š
  - MOPSï¼šhttps://mops.twse.com.tw/
- Provenanceï¼š
  - å…¬å‘Šç·¨è™Ÿ/æ™‚é–“/åŸæ–‡å¼•ç”¨
- ç”¨é€”é™åˆ¶ï¼š
  - å¯ä½œäº‹ä»¶ç‰¹å¾µèˆ‡è­‰æ“šï¼›ä¸å¾—ä½œã€Œåˆ¶åº¦è£æ±ºã€æ›¿ä»£

### 19.3 è‘£ç›£äº‹/å…§éƒ¨äººæŒè‚¡ã€è‚¡æ¬Šç•°å‹•ï¼ˆè‹¥å¯å–ï¼‰
- subcategory_idï¼š`FD_INSIDER_OWNERSHIP`
- Primaryï¼š
  - MOPS / å®˜æ–¹æ­éœ²å…¥å£
- Provenanceï¼š
  - å¿…é ˆä¿å­˜æ­éœ²åŸæ–‡å¼•ç”¨èˆ‡æ™‚é–“æˆ³

---

## 20. ç±Œç¢¼/è³‡é‡‘æµï¼ˆOwnership / Flowï¼‰

### 20.1 ä¸‰å¤§æ³•äººè²·è³£è¶…ï¼ˆInstitutional Flowsï¼‰
- subcategory_idï¼š`OF_INSTITUTIONAL_NET`
- Primaryï¼š
  - TWSEï¼šhttps://www.twse.com.tw/
  - TPEXï¼šhttps://www.tpex.org.tw/
- Secondaryï¼š
  - åˆ¸å•†å½™æ•´ï¼ˆåƒ…è£œé½Š/äº¤å‰é©—è­‰ï¼‰
- Provenanceï¼š
  - å¿…é ˆä¿å­˜å®˜æ–¹æŸ¥è©¢é /ä¸‹è¼‰é å¼•ç”¨èˆ‡æ“·å–æ™‚é–“
- Canonical æœ€å°æ¬„ä½ï¼š
  - `symbol, trading_date, inst_type, net_buy_sell, volume/amount(optional)`

### 20.2 èè³‡èåˆ¸ï¼ˆMargin/Shortï¼‰
- subcategory_idï¼š`OF_MARGIN_SHORT`
- Primaryï¼š
  - TWSE/TPEX å®˜æ–¹å…¥å£
- Provenanceï¼š
  - å¿…é ˆä¿å­˜å®˜æ–¹å¼•ç”¨ï¼›æ­¤è³‡æ–™å¯èƒ½å½±éŸ¿åˆè¦ï¼ˆè‹¥ç­–ç•¥æ¶‰åŠä¿¡ç”¨äº¤æ˜“ï¼‰ï¼Œä½†åˆ¶åº¦è£æ±ºä»èµ° TWSE_RULES + rulebook_snapshot
- Canonical æœ€å°æ¬„ä½ï¼š
  - `symbol, trading_date, margin_balance, short_balance, changes`

### 20.3 å€Ÿåˆ¸ï¼ˆSBLï¼‰èˆ‡å€Ÿåˆ¸é¤˜é¡ï¼ˆè‹¥å¯å–å¾—ï¼‰
- subcategory_idï¼š`OF_SECURITIES_LENDING`
- Primaryï¼š
  - ä¾å®˜æ–¹/æº–å®˜æ–¹å¯å¾—å…¥å£ï¼ˆä¸ç¢ºå®š â†’ SECONDARY/RESTRICTEDï¼‰
- Provenanceï¼š
  - å¿…é ˆä¿å­˜ä¾†æºè­‰æ“šèˆ‡æˆæ¬Šé™åˆ¶

### 20.4 é›†ä¿è‚¡æ¬Šåˆ†æ•£ï¼ˆTDCCï¼‰
- subcategory_idï¼š`OF_TDCC_DISTRIBUTION`
- Primaryï¼š
  - TDCCï¼šhttps://www.tdcc.com.tw/
- Provenanceï¼š
  - å¿…é ˆä¿å­˜æŸ¥è©¢é å¼•ç”¨ã€æ“·å–æ™‚é–“ã€æ¬„ä½ç‰ˆæœ¬
- Canonical æœ€å°æ¬„ä½ï¼š
  - `symbol, week/date, holder_bucket, shares, percent`

---

## 21. å¸‚å ´ç‹€æ…‹/åˆ¶åº¦ç›¸é—œæ¸…å–®ï¼ˆMarket Status & Regulatory Listsï¼‰

### 21.1 åœç‰Œ/æš«åœäº¤æ˜“æ¸…å–®
- subcategory_idï¼š`RS_HALT_LIST`
- Primaryï¼š
  - TWSE/TPEX å®˜æ–¹å…¬å‘Š
- Provenanceï¼š
  - å…¬å‘ŠåŸæ–‡å¼•ç”¨å¿…å¡«
- ç”¨é€”ï¼š
  - åˆè¦è§¸ç™¼ï¼ˆCMP-INSTRUMENT-HALTEDï¼‰

### 21.2 è™•ç½®è‚¡ç¥¨/æ³¨æ„/è­¦ç¤ºç­‰ç‹€æ…‹æ¸…å–®
- subcategory_idï¼š`RS_RESTRICTED_LIST`
- Primaryï¼š
  - TWSE/TPEX å®˜æ–¹å…¬å‘Š/æ¸…å–®
- Provenanceï¼š
  - å…¬å‘Šå¼•ç”¨å¿…å¡«
- ç”¨é€”ï¼š
  - åˆè¦è§¸ç™¼èˆ‡é¢¨æ§å‡ç´šï¼ˆä¸å¾—éš±è—ï¼‰

### 21.3 äº¤æ˜“åˆ¶åº¦æ–‡æœ¬/è¦ç« ï¼ˆRulebookï¼‰
- subcategory_idï¼š`RS_RULEBOOK_TEXT`
- Primaryï¼š
  - TWSEï¼šhttps://twse-regulation.twse.com.tw/
  - TAIFEXï¼šhttps://www.taifex.com.tw/
  - FSCï¼šhttps://www.fsc.gov.tw/
- è¼¸å‡ºï¼ˆå¼·åˆ¶ï¼‰ï¼š
  - é€²å…¥ `rulebook_snapshot_ref`ï¼ˆTWSE_RULES å®šç¾©ï¼‰
- ç¦æ­¢ï¼š
  - ä»¥ç¬¬ä¸‰æ–¹æ•´ç†è£æ±ºåˆ¶åº¦

---

## 22. å®è§€è³‡æ–™ï¼ˆMacroï¼‰

### 22.1 åˆ©ç‡/åŒ¯ç‡/é‡‘èçµ±è¨ˆ
- subcategory_idï¼š`MC_CBC_RATES`, `MC_CBC_STATS`
- Primaryï¼š
  - CBCï¼šhttps://www.cbc.gov.tw/
- Provenanceï¼š
  - å¿…é ˆä¿å­˜ç™¼å¸ƒæ—¥æœŸèˆ‡ä¿®æ­£ç‰ˆæœ¬ï¼ˆè‹¥æœ‰ï¼‰

### 22.2 ç‰©åƒ¹/æ™¯æ°£/çµ±è¨ˆ
- subcategory_idï¼š`MC_DGBAS_SERIES`
- Primaryï¼š
  - DGBASï¼šhttps://www.dgbas.gov.tw/
- Provenanceï¼š
  - å¿…é ˆä¿å­˜ series_id èˆ‡ç™¼å¸ƒ/ä¿®æ­£è³‡è¨Š

---

## 23. æ–°è/äº‹ä»¶ï¼ˆNews / Eventsï¼‰

### 23.1 å®˜æ–¹å…¬å‘Šäº‹ä»¶ï¼ˆå„ªå…ˆï¼‰
- subcategory_idï¼š`NE_OFFICIAL_ANNOUNCEMENTS`
- Primaryï¼š
  - TWSE/TPEX/TAIFEX/MOPS å®˜æ–¹å…¬å‘Šå…¥å£ï¼ˆè¦‹ 1.xï¼‰
- Provenanceï¼ˆåŠ åš´ï¼‰ï¼š
  - å…¬å‘ŠåŸæ–‡å¼•ç”¨èˆ‡æ™‚é–“æˆ³å¿…å¡«
- ç”¨é€”ï¼š
  - å¯ä½œäº‹ä»¶ç‰¹å¾µ/Evidenceï¼›äº¦å¯è§¸ç™¼åˆè¦æ¸…å–®æ›´æ–°ï¼ˆä½†åˆ¶åº¦è£æ±ºä»èµ° Rulebook Snapshotï¼‰

### 23.2 ä¸€èˆ¬æ–°èï¼ˆè¼”åŠ©ï¼‰
- subcategory_idï¼š`NE_PUBLIC_NEWS`
- Fallbackï¼š
  - å„æ–°èç¶²ç«™/èšåˆå™¨ï¼ˆéœ€æˆæ¬Šèˆ‡å¯è¿½æº¯ï¼‰
- é™åˆ¶ï¼ˆç¡¬è¦å‰‡ï¼‰ï¼š
  - ä¸å¾—ä½œåˆ¶åº¦è£æ±º
  - ä¸å¾—ä½œå”¯ä¸€è­‰æ“šï¼ˆéœ€èˆ‡å®˜æ–¹/å¯é©—è­‰è­‰æ“šäº¤å‰ï¼‰

---

## 24. ç¬¬ä¸‰æ–¹è³‡æ–™ä½¿ç”¨å®ˆå‰‡ï¼ˆFallback Usage Rulesï½œç¡¬è¦å‰‡ï¼‰

### 24.1 å…è¨±ç”¨é€”
- è£œé½Šç¼ºæ¼ï¼ˆä¾‹å¦‚å®˜æ–¹æš«æ™‚ä¸å¯ç”¨çš„æ­·å²å€æ®µï¼‰
- äº¤å‰é©—è­‰ï¼ˆConsistency Checkï¼‰
- UI ä¾¿åˆ©å‘ˆç¾ï¼ˆéè£æ±ºï¼‰

### 24.2 ç¦æ­¢ç”¨é€”
- è£æ±ºåˆ¶åº¦ï¼ˆåˆè¦ PASS/VETOï¼‰
- å–ä»£å…¬å‘ŠåŸæ–‡ï¼ˆå…¬å¸è¡Œç‚º/é‡å¤§è¨Šæ¯ï¼‰
- å–ä»£äº¤æ˜“æ—¥æ›†/äº¤æ˜“æ™‚æ®µè£æ±º

### 24.3 é™ç´šæ¨™è¨˜ï¼ˆå¿…é ˆï¼‰
ä»»ä½•ä½¿ç”¨ FALLBACK ä¾†æºçš„è³‡æ–™ï¼Œéƒ½å¿…é ˆå¸¶ï¼š
- `source_tier_used=FALLBACK`
- `trust_level=LOW`
- `compliance_eligible=false`ï¼ˆé è¨­ï¼‰
- `notes_ref`ï¼ˆé™ç´šåŸå› èˆ‡æ›¿ä»£ä¾†æºéˆï¼‰

---

## 25. å­é¡åˆ¥ Ã— L1â€“L2 è¼¸å‡ºå¥‘ç´„ï¼ˆå°é½Š FULL_ARCHï¼‰

> æœ¬ç¯€æŠŠæ¯å€‹å­é¡åˆ¥éƒ½é–åˆ° DataIngested / DataNormalized å¥‘ç´„ï¼Œé¿å…è³‡æ–™è‡ªç”±æ•£è½ã€‚

### 25.1 L1ï¼šDataIngestedï¼ˆæ¯å€‹å­é¡åˆ¥éƒ½å¿…é ˆï¼‰
- `source_id`
- `subcategory_id`
- `raw_payload_ref`
- `provenance_ref`
- `captured_at`
- `hash_manifest_ref`
- `quality_report_ref`

### 25.2 L2ï¼šDataNormalizedï¼ˆæ¯å€‹å­é¡åˆ¥éƒ½å¿…é ˆï¼‰
- `canonical_schema_id`
- `subcategory_id`
- `field_map_ref`
- `normalization_ruleset_version`
- `data_quality_flags[]`

---

## 26. å¤±æ•ˆæ¨¡å¼èˆ‡é™ç´šç­–ç•¥ï¼ˆSubcategory Failure Playbookï¼‰

> ä»»ä½•è³‡æ–™å­é¡åˆ¥éƒ½å¿…é ˆåœ¨ Source Record ä¸­å¡«å¯« failure_modesï¼›ä»¥ä¸‹ç‚ºçµ±ä¸€éª¨æ¶ã€‚

### 26.1 RETURNï¼ˆè³‡æ–™ä¸è¶³ä½†å¯è£œï¼‰
- å®˜æ–¹ç«¯é»æš«æ™‚ä¸å¯ç”¨ã€å¯é‡è©¦
- æ¬„ä½ç¼ºæ¼ä½†å¯ç”±åŒç´šå®˜æ–¹è£œé½Š
- äº¤æ˜“æ—¥æ›†è³‡æ–™å»¶é²ï¼ˆç­‰å¾…å®˜æ–¹æ›´æ–°ï¼‰

### 26.2 FAILï¼ˆä¾†æºä¸å¯ç”¨ä¸”ä¸å¯æ¢å¾©ï¼‰
- é•·æ™‚é–“ä¸å¯é”ï¼ˆè¶…éæ”¿ç­–é–¾å€¼ï¼‰
- æ ¼å¼æ°¸ä¹…è®Šæ›´ä¸”æœªæ›´æ–°è§£æå™¨
- æˆæ¬Š/æ¬Šé™å¤±æ•ˆ

### 26.3 BLOCKï¼ˆç³»çµ±å®Œæ•´æ€§ä¸è¶³ï¼Œç¦æ­¢å¾€ä¸‹ï¼‰
- provenance ç¼ºå¤±
- snapshot ç„¡æ³•è½ç›¤/ä¸å¯è®Šæ›´å„²å­˜ä¸å¯ç”¨ï¼ˆä¾ç’°å¢ƒç­‰ç´šï¼‰
- active_version_map_ref ç¼ºå¤±
- hash_manifest_ref ç¼ºå¤±

---

## 27. Mermaidï½œã€Œå­é¡åˆ¥ã€åˆ°ã€Œè­‰æ“šéˆã€çš„æ²»ç†é€šè·¯

```mermaid
flowchart TB
  S[Select subcategory_id<br/>from DATA_UNIVERSE] --> P[Pick Primary Source_id]
  P --> I[L1 DataIngested<br/>raw+prov+hash]
  I --> V[Validator<br/>schema/domain/time]
  V -->|RETURN| R[RETURN + quality_flags]
  V -->|FAIL| F[FAIL + audit]
  V -->|PASS| N[L2 DataNormalized<br/>canonical+field_map]
  N --> L3[L3 SnapshotCreated]
  L3 --> L5[L5 EvidenceAssembled]
28. Only-Add æ¼”é€²è¦å‰‡ï¼ˆPart 2 å°ˆå±¬è£œå¼·ï¼‰
å…è¨±æ–°å¢ï¼š

æ–°çš„å­é¡åˆ¥ï¼ˆsubcategory_idï¼‰

æ¯å­é¡åˆ¥æ›´å¤šå®˜æ–¹å…¥å£èˆ‡ mirrorï¼ˆä»å±¬ Primary/Secondaryï¼‰

æ›´åš´æ ¼çš„ provenance è¦æ±‚èˆ‡ quality checks

æ›´å®Œæ•´çš„ fallback_chain

ç¦æ­¢ï¼š

åˆªé™¤æ—¢æœ‰å­é¡åˆ¥æˆ–æ”¹å¯«å…¶èªç¾©

é™ä½å®˜æ–¹å„ªå…ˆèˆ‡å¯è¿½æº¯è¦æ±‚

è®“ç¬¬ä¸‰æ–¹è³‡æ–™å‡æ ¼ç‚ºåˆ¶åº¦è£æ±ºä¾æ“š

å…è¨±ç¼º provenance/snapshot/hash çš„è³‡æ–™é€²å…¥è£æ±ºéˆ

ï¼ˆDATA_UNIVERSEï½œæœ€å¤§å®Œå‚™ç‰ˆ v2025-12-19 Â· Part 2 å®Œï¼‰

# TAITS_è³‡æ–™ä¾†æºå…¨é›†ï¼ˆDATA_UNIVERSEï¼‰__251219
## Part 3ï½œè³‡æ–™å“è³ªåˆ†ç´šï¼ˆQuality Gradesï¼‰Ã— Evidence Completeness é–€æª»æ˜ å°„ Ã— é™ç´šè£æ±ºè¦å‰‡ï¼ˆæœ€å¤§å®Œå‚™ï¼‰

doc_keyï¼šDATA_UNIVERSE  
æ²»ç†ç­‰ç´šï¼šDï¼ˆDataSources Universeï½œå®˜æ–¹å„ªå…ˆ Ã— å¤šå±¤Fallback Ã— å¯è¿½æº¯Provenanceï¼‰  
é©ç”¨ç¯„åœï¼šTAITS å…¨ç³»çµ±ï¼ˆResearch / Backtest / Simulation / Paper / Liveï¼‰  
ç‰ˆæœ¬ç‹€æ…‹ï¼šACTIVEï¼ˆè³‡æ–™ä¾†æºå…¨é›†å¯ Only-Add æ“´å……ï¼›ä¸å¾—å¼±åŒ–å®˜æ–¹å„ªå…ˆèˆ‡å¯è¿½æº¯ï¼‰  
ç‰ˆæœ¬æ—¥æœŸï¼š2025-12-19  
å°é½Šæ¯æ³•ï¼šTAITS_AI_è¡Œç‚ºèˆ‡æ±ºç­–æ²»ç†æœ€çµ‚è¦å‰‡å…¨é›†__251217ï¼ˆA+ï¼‰  
ä¸Šä½ç´„æŸï¼šMASTER_ARCH / DOCUMENT_INDEX / MASTER_CANON / VERSION_AUDIT  
å¹³è¡Œåƒç…§ï¼šFULL_ARCH / ARCH_FLOW / RISK_COMPLIANCE / TWSE_RULES / EXECUTION_CONTROL / UI_SPEC / DEPLOY_OPS / LOCAL_ENV  
è®Šæ›´åŸå‰‡ï¼šOnly-Addï¼ˆåªå¯æ–°å¢ï¼Œä¸å¯åˆªæ¸›/è¦†å¯«/å·æ›èªç¾©ï¼›ä¸å¾—ç”¨ç¬¬ä¸‰æ–¹è£æ±ºåˆ¶åº¦ï¼‰  
æ ¸å¿ƒéµå¾‹ï¼šå“è³ªä¸è¶³ä¸å¾—éœé»˜ï¼›ç¼ºè­‰æ“šä¸å¾—è£æ±ºï¼›é™ç´šå¿…å¯è¦‹ï¼ˆUI/Log/Evidenceï¼‰ï¼›åˆè¦èˆ‡é¢¨æ§å¯ç›´æ¥å¦æ±ºï¼ˆæœ€é«˜å¦æ±ºæ¬Šï¼‰

---

## 29. æ–‡ä»¶ç›®çš„ï¼ˆWhy Part 3 Existsï¼‰

Part 1/2 è§£æ±ºã€Œä¾†æºå…¨é›†èˆ‡å­é¡åˆ¥ã€ï¼›Part 3 è§£æ±ºã€Œè³‡æ–™èƒ½ä¸èƒ½è¢«ç”¨ä¾†è£æ±ºã€ï¼š

- æŠŠè³‡æ–™å“è³ªé‡åŒ–æˆ **Quality Gradeï¼ˆQGï¼‰**
- æŠŠè­‰æ“šå®Œæ•´åº¦é‡åŒ–æˆ **Evidence Completenessï¼ˆECï¼‰**
- æŠŠä¸åŒ EC/QG çµ„åˆæ˜ å°„åˆ°ï¼š
  - L5 Evidence Bundle Completeness
  - L6 Regime å¯ä¿¡åº¦è¦æ±‚
  - L7 Risk/Compliance çš„ PASS/VETO/RETURN/BLOCK è¡Œç‚º
- è®“ç³»çµ±åœ¨è³‡æ–™ä¸è¶³æ™‚ã€Œåˆ¶åº¦åŒ–é™ç´šã€ï¼Œé¿å…ï¼š
  - AI å¹»æƒ³å¡«ç©º
  - ç­–ç•¥è¶Šæ¬Šç”¨ä¸å¯é è³‡æ–™ç›´æ¥æ¨å°æ–¹å‘
  - åˆè¦åœ¨ç¼ºå®˜æ–¹å¿«ç…§/ç¼ºä¾†æºæ™‚ä»æ”¾è¡Œ

---

## 30. Quality Gradeï¼ˆQGï¼‰è³‡æ–™å“è³ªåˆ†ç´šï¼ˆä¸å¯ç¸®æ¸›ï¼‰

> QG æ˜¯ã€Œè³‡æ–™æœ¬èº«ã€çš„å“è³ªåˆ†ç´šï¼ˆèˆ‡ç­–ç•¥/åˆ¤æ–·ç„¡é—œï¼‰ã€‚  
> æ¯æ¬¡ L1/L2 ingest/normalize å¿…é ˆç”¢å‡º `quality_grade` èˆ‡ `quality_flags[]`ã€‚

### 30.1 QG ç­‰ç´šå®šç¾©ï¼ˆOnly-Add å¯æ–°å¢æ›´åš´æ ¼ï¼Œä¸å¯æ”¾å¯¬ï¼‰

- **QG-Aï¼ˆå®˜æ–¹å¯è¿½æº¯ã€å¯å›æ”¾ã€å¯ç¨½æ ¸ï¼‰**
  - ä¾†æºï¼šPRIMARYï¼ˆå®˜æ–¹/æ³•å®šæ­éœ²ï¼‰
  - Provenanceï¼šå®Œæ•´ï¼ˆsource_urls + captured_at + raw_payload_ref + hashï¼‰
  - Schemaï¼šå·²çŸ¥ä¸”é€šéæ ¡é©—
  - æ™‚æ•ˆï¼šåœ¨å…è¨±å»¶é²çª—å…§
  - å…è¨±ç”¨é€”ï¼šEvidence / Regime / Risk&Compliance / UI / Replay

- **QG-Bï¼ˆæº–å®˜æ–¹/æˆæ¬Šå¯é©—è­‰ï¼‰**
  - ä¾†æºï¼šSECONDARYï¼ˆåˆ¸å•†/æˆæ¬Šä¾›æ‡‰å•†ï¼‰
  - Provenanceï¼šå®Œæ•´ï¼ˆå«æˆæ¬Š/é™åˆ¶è¨»è¨˜ï¼‰
  - Schemaï¼šå·²çŸ¥ä¸”é€šéæ ¡é©—
  - å…è¨±ç”¨é€”ï¼šEvidence/Regimeï¼ˆéœ€æ¨™è¨»ï¼‰ã€Riskï¼ˆéœ€äº¤å‰/é–€æª»æ›´åš´ï¼‰ã€UI
  - åˆè¦è£æ±ºï¼šåƒ…å¯ä½œè¼”åŠ©è­‰æ“šï¼Œåˆ¶åº¦è£æ±ºä»éœ€å®˜æ–¹å¿«ç…§ï¼ˆRulebook Snapshotï¼‰

- **QG-Cï¼ˆç¬¬ä¸‰æ–¹å¯è¿½æº¯ï¼Œä½†ä¿¡ä»»é™ç´šï¼‰**
  - ä¾†æºï¼šFALLBACKï¼ˆèšåˆå™¨/ç¬¬ä¸‰æ–¹ï¼‰
  - Provenanceï¼šè‡³å°‘æœ‰ä¾†æºé  + æ“·å–æ™‚é–“ + åŸå§‹å›æ‡‰ä¿å­˜ï¼ˆä½†å¯èƒ½ä¸å¯å®Œå…¨é©—è­‰ï¼‰
  - Schemaï¼šå¯èƒ½è®Šå‹•æˆ–éƒ¨åˆ†æ¬„ä½ç¼ºæ¼
  - å…è¨±ç”¨é€”ï¼šç ”ç©¶ã€äº¤å‰é©—è­‰ã€UI è¼”åŠ©
  - ç¦æ­¢ç”¨é€”ï¼šåˆè¦è£æ±ºä¾æ“šã€å”¯ä¸€ Evidence

- **QG-Dï¼ˆä¸å¯è¿½æº¯æˆ–ä¸å¯å›æ”¾ï¼‰**
  - ä¾†æºä¸æ˜ã€ç¼º rawã€ç¼º hashã€ç¼ºæ™‚é–“æˆ³
  - å…è¨±ç”¨é€”ï¼šç„¡ï¼ˆåªèƒ½ RETURN/FAILï¼‰
  - å¿…é ˆè¡Œç‚ºï¼šé˜»æ–·é€²å…¥ L5ï¼ˆEvidenceï¼‰

- **QG-Xï¼ˆæ•æ„Ÿæˆ–éæ³•/æœªæˆæ¬Šé¢¨éšªï¼‰**
  - æˆæ¬ŠæœªçŸ¥/æ˜ç¢ºç¦æ­¢/è³‡æ–™å–å¾—æ–¹å¼ä¸åˆæ³•æˆ–é•åæ”¿ç­–
  - å¿…é ˆè¡Œç‚ºï¼šBLOCKï¼ˆSEC/DATA-LICENSE é¡ reason codesï¼‰

### 30.2 QG å¿…å‚™æ¬„ä½ï¼ˆä¸å¯ç¸®æ¸›ï¼‰
æ¯å€‹å­é¡åˆ¥æ¯æ¬¡è¼¸å‡ºéƒ½è¦åŒ…å«ï¼š
- `subcategory_id`
- `source_id`
- `source_tier_used`ï¼šPRIMARY/SECONDARY/FALLBACK
- `quality_grade`ï¼šQG-A/B/C/D/X
- `quality_flags[]`
- `licensing_notes_ref`ï¼ˆè‹¥é PRIMARY å¿…å¡«ï¼‰
- `provenance_ref`
- `hash_manifest_ref`
- `active_version_map_ref`

---

## 31. Quality Flagsï¼ˆå“è³ªæ——æ¨™ï¼‰çµ±ä¸€æ¸…å–®ï¼ˆéª¨æ¶ï¼‹å¯æ“´å……ï¼‰

> Flags æ˜¯ã€Œå®¢è§€æª¢æ¸¬çµæœã€ï¼Œä¸å¾—å¸¶æ–¹å‘æ€§èªå¥ã€‚Only-Add å¯æ–°å¢ï¼Œä¸å¯åˆªé™¤æ—¢æœ‰ã€‚

### 31.1 Provenance/Version é¡ï¼ˆç³»çµ±å®Œæ•´æ€§ï¼‰
- `QF_PROV_MISSING`ï¼ˆç¼º provenanceï¼‰
- `QF_HASH_MISSING`ï¼ˆç¼º hashï¼‰
- `QF_VERSION_MAP_MISSING`ï¼ˆç¼º active_version_map_refï¼‰
- `QF_SCHEMA_UNKNOWN`ï¼ˆschema ä¸æ˜ï¼‰
- `QF_LICENSE_UNKNOWN`ï¼ˆæˆæ¬Šä¸æ˜ï¼‰

### 31.2 æ™‚æ•ˆ/å»¶é²é¡ï¼ˆTimelinessï¼‰
- `QF_DELAYED_SOURCE`
- `QF_STALE_DATA`
- `QF_OUT_OF_SESSION`ï¼ˆè³‡æ–™æ™‚é–“ä¸åœ¨äº¤æ˜“æ™‚æ®µ/ä¸åˆäº¤æ˜“æ—¥æ›†ï¼‰

### 31.3 å®Œæ•´æ€§/ç¼ºæ¼é¡ï¼ˆCompletenessï¼‰
- `QF_MISSING_FIELDS`
- `QF_MISSING_ROWS`
- `QF_PARTIAL_RESPONSE`

### 31.4 ç•°å¸¸/å€¼åŸŸé¡ï¼ˆValidityï¼‰
- `QF_OUT_OF_RANGE`
- `QF_SUSPECT_SPIKE`
- `QF_NEGATIVE_VOLUME`
- `QF_INCONSISTENT_OHLC`ï¼ˆå¦‚ high < lowï¼‰

### 31.5 äº¤å‰ä¸€è‡´æ€§é¡ï¼ˆConsistencyï¼‰
- `QF_INCONSISTENT_WITH_OFFICIAL`
- `QF_CROSS_SOURCE_DIVERGENCE`

---

## 32. Evidence Completenessï¼ˆECï¼‰è­‰æ“šå®Œæ•´åº¦ï¼ˆå°é½Š L5ï¼‰

> EC æ˜¯ã€Œæœ¬æ¬¡è£æ±ºéˆã€çš„è­‰æ“šå®Œæ•´åº¦ï¼Œèˆ‡ QG ä¸åŒï¼š  
> QG æ˜¯è³‡æ–™å“è³ªï¼›EC æ˜¯è­‰æ“šåŒ…æ˜¯å¦ã€Œè¶³ä»¥è£æ±ºã€ã€‚

### 32.1 EC ç­‰ç´šï¼ˆä¸å¯ç¸®æ¸›ï¼‰
- **EC-4ï¼ˆå¯è£æ±ºï¼šå®Œæ•´ï¼‰**
  - å¿…å‚™å­é¡åˆ¥é½Šå…¨
  - ä¸»è¦è­‰æ“š QG-A ç‚ºä¸»
  - provenance å®Œæ•´ï¼Œhash å®Œæ•´
  - å¯ç›´æ¥é€²å…¥ L6/L7

- **EC-3ï¼ˆå¯è£æ±ºï¼šä¸è¶³ä½†å¯æ¥å—ï¼‰**
  - æ¬¡è¦è­‰æ“šå¯ç¼ºï¼Œä½†é—œéµè­‰æ“šå­˜åœ¨
  - å…è¨±éƒ¨åˆ† QG-B/QG-C ä½œè¼”åŠ©
  - å¿…é ˆåœ¨ Evidence ä¸­æ¨™è¨˜ç¼ºå£èˆ‡ä¸ç¢ºå®šæ€§
  - é€²å…¥ L6/L7 æ™‚éœ€æé«˜é¢¨æ§é–€æª»ï¼ˆpolicy å¯è¦å®šï¼‰

- **EC-2ï¼ˆä¸å¯è£æ±ºï¼šéœ€è£œé½Šï¼‰**
  - ç¼ºé—œéµè­‰æ“šæˆ– provenance ä¸å®Œæ•´
  - å¿…é ˆ RETURNï¼ˆå›è£œ L4/L3/L2ï¼‰
  - ä¸å¾—é€²å…¥é¢¨æ§ PASS

- **EC-1ï¼ˆä¸å¯è£æ±ºï¼šåš´é‡ç¼ºå¤±ï¼‰**
  - ç¼º official/primary ä¹‹é—œéµä¾†æºä¸”ç„¡å¯ç”¨æ›¿ä»£
  - RETURN æˆ– FAILï¼ˆä¾æƒ…å¢ƒï¼‰

- **EC-0ï¼ˆç³»çµ±é˜»æ–·ï¼‰**
  - ç¼º active_version_map/hash/immutable audit ç­‰ç³»çµ±ç´šç¡¬ç‰©
  - å¿…é ˆ BLOCK

### 32.2 EC çš„æœ€å°è¼¸å‡ºï¼ˆEvidence Bundle å¿…å¸¶ï¼‰
- `evidence_bundle_id`
- `completeness_level`ï¼šEC-0~EC-4
- `completeness_score`ï¼š0~100ï¼ˆåƒ…è¼”åŠ©ï¼Œè£æ±ºä»¥ levelï¼‰
- `missing_required_items[]`
- `quality_grade_summary`ï¼šå„å­é¡åˆ¥ QG åˆ†å¸ƒ
- `provenance_map_ref`
- `hash_manifest_ref`

---

## 33. EC Ã— å­é¡åˆ¥ã€Œå¿…å‚™æ¸…å–®ã€ï¼ˆRequired Evidence Setsï¼‰

> é€™æ˜¯æœ€å¤§å®Œå‚™çš„æ ¸å¿ƒä¹‹ä¸€ï¼š  
> ä¸åŒè£æ±ºç”¨é€”ï¼Œéœ€è¦ä¸åŒã€Œå¿…å‚™è­‰æ“šé›†åˆã€ã€‚ç¼ºä»»ä¸€é …å°±å¿…é ˆ RETURN/BLOCKã€‚

### 33.1 ç”¨é€”é¡å‹ï¼ˆDecision Context Typesï¼‰
- `CTX_ORDER_SUBMISSION`ï¼šä»»ä½•é€å–®å‰è£æ±ºï¼ˆL7/L10/L11ï¼‰
- `CTX_COMPLIANCE_CHECK`ï¼šåˆ¶åº¦åˆè¦åˆ¤å®šï¼ˆL7ï¼‰
- `CTX_REGIME_DETERMINE`ï¼šå¸‚å ´ç‹€æ…‹åˆ¤å®šï¼ˆL6ï¼‰
- `CTX_STRATEGY_PROPOSAL`ï¼šç­–ç•¥å»ºè­°ï¼ˆL8ï¼‰
- `CTX_BACKTEST_REPLAY`ï¼šå›æ¸¬/å›æ”¾ï¼ˆResearch/Backtestï¼‰

### 33.2 CTX_ORDER_SUBMISSIONï¼ˆé€å–®è£æ±ºï¼‰å¿…å‚™é›†åˆ
**Required Setï¼ˆæœ€ä½ï¼‰**
- `REF_TRADING_CALENDAR`ï¼ˆQG-Aï¼‰
- `REF_SYMBOL_MASTER`ï¼ˆQG-A æˆ– QG-B+äº¤å‰ï¼‰
- `RS_HALT_LIST`ï¼ˆQG-Aï¼Œè‹¥æ¶‰åŠæ¨™çš„å¯äº¤æ˜“æ€§ï¼‰
- `RS_RESTRICTED_LIST`ï¼ˆQG-Aï¼Œè‹¥æ¶‰åŠè™•ç½®/é™åˆ¶ï¼‰
- `MD_EQUITY_INTRADAY_QUOTES` æˆ– `MD_EQUITY_EOD_DAILY`ï¼ˆè¦–é€å–®æ™‚é–“ï¼‰
- `RS_RULEBOOK_TEXT` â†’ `rulebook_snapshot_ref`ï¼ˆåˆè¦å¿…éœ€ï¼ŒQG-Aï¼‰

**ç¼ºå£è¡Œç‚º**
- ç¼º `rulebook_snapshot_ref`ï¼šEC-0/EC-2ï¼ˆä¾æ˜¯å¦ç³»çµ±ç¼ºå¤±ï¼‰â†’ BLOCK/RETURN
- ç¼ºäº¤æ˜“æ—¥æ›†ï¼šEC-2 â†’ RETURN
- ç¼ºæ¨™çš„ç‹€æ…‹ï¼ˆåœç‰Œ/è™•ç½®ï¼‰ï¼šEC-2 â†’ RETURNï¼ˆä¸å¾—çŒœï¼‰

### 33.3 CTX_COMPLIANCE_CHECKï¼ˆåˆè¦ï¼‰å¿…å‚™é›†åˆ
- `RS_RULEBOOK_TEXT`ï¼ˆå¿…é ˆå¿«ç…§ï¼‰
- `REF_TRADING_CALENDAR`
- `REF_SESSION_SCHEDULE`
- `RS_HALT_LIST` / `RS_RESTRICTED_LIST`ï¼ˆè‹¥æƒ…å¢ƒæ¶‰åŠï¼‰
- äº¤æ˜“è¡Œç‚ºï¼ˆorder intentï¼‰èˆ‡å¸³æˆ¶æ¬Šé™å¿«ç…§ï¼ˆå±¬å…§éƒ¨/åˆ¸å•†å›å ±ï¼›RESTRICTEDï¼‰

ç¼ºå£è¡Œç‚ºï¼š
- ç¼ºå®˜æ–¹è¦å‰‡å¿«ç…§ï¼šå¿…é ˆ `CMP-RULEBOOK-MISSING` â†’ VETO/BLOCKï¼ˆä¾ RISK_COMPLIANCEï¼‰

### 33.4 CTX_REGIME_DETERMINEï¼ˆRegimeï¼‰å¿…å‚™é›†åˆï¼ˆéª¨æ¶ï¼‰
- `MD_EQUITY_EOD_DAILY`ï¼ˆè‡³å°‘ä¸€å€‹ä¸»è¡Œæƒ…ä¾†æºï¼›QG-A/Bï¼‰
- `MD_EQUITY_INTRADAY_QUOTES`ï¼ˆè‹¥åšç›¤ä¸­ regimeï¼›QG-B å¯æ¥å—ä½†éœ€æ¨™è¨˜ï¼‰
- `MC_CBC_RATES` / `MC_DGBAS_SERIES`ï¼ˆè‹¥ regime ä½¿ç”¨å®è§€å› å­ï¼›QG-Aï¼‰
- `NE_OFFICIAL_ANNOUNCEMENTS`ï¼ˆè‹¥ regime ä½¿ç”¨åˆ¶åº¦/å…¬å‘Šäº‹ä»¶ï¼›QG-Aï¼‰

ç¼ºå£è¡Œç‚ºï¼š
- å…è¨±é™ç´š regime ä¿¡å¿ƒï¼ˆregime_confidenceï¼‰ï¼Œä½†ä¸å¾—å¼·è¡Œåˆ¤å®šé«˜ä¿¡å¿ƒ

### 33.5 CTX_STRATEGY_PROPOSALï¼ˆç­–ç•¥å»ºè­°ï¼‰å¿…å‚™é›†åˆ
- `MD_EQUITY_EOD_DAILY`ï¼ˆQG-A/Bï¼‰
- `OF_INSTITUTIONAL_NET`ï¼ˆè‹¥ç­–ç•¥å«ç±Œç¢¼ï¼›QG-Aï¼‰
- `CA_MASTER`ï¼ˆè‹¥éœ€å¾©æ¬Š/å…¬å¸è¡Œç‚ºï¼›QG-Aï¼‰
- ï¼ˆå¯é¸ï¼‰`FD_FIN_STATEMENTS`ï¼ˆåŸºæœ¬é¢å› å­ï¼‰

ç¼ºå£è¡Œç‚ºï¼š
- å¯ RETURNï¼ˆè£œé½Šï¼‰æˆ–ç”¢å‡ºã€Œé™ç´šææ¡ˆã€ï¼ˆå¿…é ˆæ¨™è¨˜ evidence ç¼ºå£ï¼Œä¸”ä¸å¯è¶Šæ¬Šè®Šæˆä¸‹å–®ï¼‰

### 33.6 CTX_BACKTEST_REPLAYï¼ˆå›æ¸¬/å›æ”¾ï¼‰å¿…å‚™é›†åˆ
- `MD_EQUITY_EOD_DAILY`ï¼ˆå¯ QG-A/Bï¼›ä½†å¿…é ˆå¯å›æ”¾ï¼‰
- `CA_MASTER`ï¼ˆè‹¥åšå¾©æ¬Šï¼›QG-Aï¼‰
- `REF_SYMBOL_MASTER`ï¼ˆå›æ¸¬æœŸå…¨æ®µå¿«ç…§ï¼‰
- `REF_TRADING_CALENDAR`ï¼ˆå›æ¸¬æœŸå…¨æ®µå¿«ç…§ï¼‰
- `active_version_map_ref` + `hash_manifest_ref`ï¼ˆç³»çµ±ç´šå¿…å‚™ï¼‰

ç¼ºå£è¡Œç‚ºï¼š
- ç„¡æ³•å›æ”¾ â†’ BLOCKï¼ˆä¸å¾—ç”¢å‡ºä¸å¯é‡ç¾çš„ç¸¾æ•ˆï¼‰

---

## 34. QG Ã— EC â†’ ç³»çµ±å‹•ä½œæ˜ å°„ï¼ˆHard Decision Matrixï¼‰

> é€™å¼µçŸ©é™£ç”¨æ–¼æŠŠã€Œå“è³ª/å®Œæ•´åº¦ã€è½‰æˆã€Œç¡¬å‹•ä½œã€ã€‚ä¸å¯ç¸®æ¸›ï¼Œåªå¯æ–°å¢æ›´åš´æ ¼æ¢ä»¶ã€‚

### 34.1 ç¡¬è¦å‰‡ï¼ˆå„ªå…ˆé †åºï¼‰
1) **ä»»ä½• QF_VERSION_MAP_MISSING / QF_HASH_MISSING / QF_PROV_MISSING** â†’ EC-0 â†’ **BLOCK**
2) **åˆè¦ç”¨é€”ï¼ˆCTX_COMPLIANCE_CHECKï¼‰**ï¼šè‹¥ rulebook_snapshot ç¼ºå¤± â†’ **VETO/BLOCK**
3) **é€å–®ç”¨é€”ï¼ˆCTX_ORDER_SUBMISSIONï¼‰**ï¼šç¼ºäº¤æ˜“æ—¥æ›†/æ¨™çš„ç‹€æ…‹ â†’ **RETURN**
4) **ä½¿ç”¨ FALLBACKï¼ˆQG-Cï¼‰**ï¼šé è¨­ `compliance_eligible=false`ï¼Œä¸å¾—ç”¨æ–¼åˆè¦è£æ±º

### 34.2 å‹•ä½œæ˜ å°„è¡¨ï¼ˆæœ€å°ï¼‰
- EC-4ï¼š
  - Strategyï¼šå¯æå‡ºï¼ˆä»ä¸å¾—ä¸‹å–®ï¼‰
  - Riskï¼šå¯åˆ¤å®š PASS/VETO
  - Executionï¼šéœ€ token æ‰èƒ½é€² L11
- EC-3ï¼š
  - Strategyï¼šå¯æå‡ºä½†å¿…é ˆé¡¯ç¤ºç¼ºå£èˆ‡é™ç´š
  - Riskï¼šå¯åˆ¤å®šä½†æ”¿ç­–é–€æª»æ›´åš´ï¼ˆä¾‹å¦‚æé«˜é¢¨æ§ç·©è¡ï¼‰
- EC-2/EC-1ï¼š
  - ä¸€å¾‹ RETURNï¼ˆé™„ missing_required_itemsï¼‰
  - ä¸å¾—ç”¢ç”Ÿ PASS token
- EC-0ï¼š
  - ä¸€å¾‹ BLOCKï¼ˆç³»çµ±ç´šå•é¡Œï¼‰
  - è§¸ç™¼ DEPLOY_OPS / LOCAL_ENV çš„ã€Œåœç·šã€è¦å‰‡ï¼ˆè‹¥ Paper/Liveï¼‰

---

## 35. UI å¯è¦–åŒ–è¦æ±‚ï¼ˆå°é½Š UI_SPECï½œç¡¬è¦æ±‚ï¼‰

> è³‡æ–™é™ç´šä¸èƒ½åªåœ¨ log è£¡ã€‚å¿…é ˆåœ¨ UI æ˜ç¢ºå¯è¦‹ï¼Œç¬¦åˆã€Œäººé¡ä¸»æ¬Šã€ã€‚

UI å¿…é ˆé¡¯ç¤ºï¼ˆè‡³å°‘ï¼‰ï¼š
- æœ¬æ¬¡ evidence `completeness_level`ï¼ˆEC-0~EC-4ï¼‰
- ä¸»è¦å­é¡åˆ¥çš„ `quality_grade` åˆ†å¸ƒ
- `missing_required_items[]`ï¼ˆRETURN æ™‚å¿…é¡¯ç¤ºï¼‰
- `source_tier_used`ï¼ˆæ˜¯å¦ä½¿ç”¨ FALLBACKï¼‰
- è‹¥ç‚ºåˆè¦ï¼šé¡¯ç¤º `rulebook_snapshot_ref` èˆ‡å®˜æ–¹ä¾†æºé€£çµï¼ˆTWSE_RULES éœ€æ±‚ï¼‰

---

## 36. ç¨½æ ¸è¼¸å‡ºï¼ˆAudit Outputsï½œå¿…é ˆè½åœ°åˆ° Log / Evidence / Replayï¼‰

æ¯ä¸€æ¬¡ EC è¨ˆç®—å¿…é ˆç”¢å‡ºï¼š
- `evidence_completeness_report_id`
- `context_type`ï¼ˆCTX_*ï¼‰
- `required_set_version`ï¼ˆå¿…å‚™é›†åˆçš„ç‰ˆæœ¬ï¼‰
- `missing_required_items[]`
- `quality_grade_summary`
- `decision_effect`ï¼ˆä¾‹å¦‚ï¼šRETURN/BLOCK/VETO é–€æª»ï¼‰
- `hash_manifest_ref`
- ç´å…¥ `active_version_map_ref`

---

## 37. Mermaidï½œå“è³ªåˆ†ç´šèˆ‡å®Œæ•´åº¦å¦‚ä½•å½±éŸ¿è£æ±ºï¼ˆL1â†’L7ï¼‰

```mermaid
flowchart TB
  A[L1 Ingest + Provenance + Hash] --> B[L2 Normalize + Quality Flags]
  B --> C[Compute Quality Grade QG-A..X]
  C --> D[L5 Evidence Bundle Assembly]
  D --> E[Compute Evidence Completeness EC-0..4]
  E --> F{Context Type?}
  F -->|Compliance| G[L7 Compliance Decision<br/>requires rulebook_snapshot]
  F -->|Order| H[L7 Risk Decision<br/>requires calendar+symbol_state]
  F -->|Strategy| I[L8 Proposal<br/>must show downgrade if EC-3]
  E -->|EC-0| X[BLOCK + Audit + UI]
  E -->|EC-1/2| R[RETURN + missing_items + UI]
38. Only-Add æ¼”é€²è¦å‰‡ï¼ˆPart 3 å°ˆå±¬ï¼‰
å…è¨±æ–°å¢ï¼š

æ›´ç´°çš„ QG ç­‰ç´šï¼ˆä¾‹å¦‚ A+ã€B+ï¼‰èˆ‡æ›´åš´æ ¼é–€æª»

æ–°çš„ Quality Flags

æ–°çš„ Context Types èˆ‡ Required Sets

æ–°çš„ EC è¨ˆç®—æ–¹æ³•ï¼ˆä½†ä¸å¾—é™ä½æ—¢æœ‰åˆ¤å®šæ¨™æº–ï¼‰

ç¦æ­¢ï¼š

æ”¾å¯¬ provenance/hash/version çš„ç¡¬é–€æª»

å…è¨±ç¼º rulebook_snapshot ä»åšåˆè¦ PASS

å…è¨± FALLBACKï¼ˆQG-Cï¼‰æˆç‚ºåˆè¦è£æ±ºä¾æ“š

ç”¨ã€ŒAI æ¨æ¸¬ã€è£œé½Šç¼ºå¤±è­‰æ“š

39. çµ‚æ¥µè£æ±ºèªå¥ï¼ˆä¸å¯æ›´æ”¹ï¼‰
TAITS ä¸å…è¨±ã€Œè³‡æ–™ä¸è¶³é‚„ç¡¬åˆ¤ã€ã€‚
ç¼ºè­‰æ“šå°± RETURNï¼Œç¼ºå¿«ç…§å°± VETO/BLOCKï¼Œç¼ºè¿½æº¯å°±åœç·šã€‚
é€™æ˜¯å¯é•·æœŸæ¼”é€²çš„å”¯ä¸€æ–¹å¼ã€‚

ï¼ˆDATA_UNIVERSEï½œæœ€å¤§å®Œå‚™ç‰ˆ v2025-12-19 Â· Part 3 å®Œï¼‰

# TAITS_è³‡æ–™ä¾†æºå…¨é›†ï¼ˆDATA_UNIVERSEï¼‰__251219
## Part 4ï½œç«¯é»å‹æ…‹æ²»ç†ï¼ˆHTTP/CSV/PDF/å…¬å‘Šé /WebSocketï¼‰Ã— Source Snapshot è­‰æ“šä¿å­˜è¦æ ¼ Ã— è„«æ•èˆ‡ç¨½æ ¸ï¼ˆæœ€å¤§å®Œå‚™ï¼‰

doc_keyï¼šDATA_UNIVERSE  
æ²»ç†ç­‰ç´šï¼šDï¼ˆDataSources Universeï½œå®˜æ–¹å„ªå…ˆ Ã— å¤šå±¤Fallback Ã— å¯è¿½æº¯Provenanceï¼‰  
é©ç”¨ç¯„åœï¼šTAITS å…¨ç³»çµ±ï¼ˆResearch / Backtest / Simulation / Paper / Liveï¼‰  
ç‰ˆæœ¬ç‹€æ…‹ï¼šACTIVEï¼ˆè³‡æ–™ä¾†æºå…¨é›†å¯ Only-Add æ“´å……ï¼›ä¸å¾—å¼±åŒ–å®˜æ–¹å„ªå…ˆèˆ‡å¯è¿½æº¯ï¼‰  
ç‰ˆæœ¬æ—¥æœŸï¼š2025-12-19  
å°é½Šæ¯æ³•ï¼šTAITS_AI_è¡Œç‚ºèˆ‡æ±ºç­–æ²»ç†æœ€çµ‚è¦å‰‡å…¨é›†__251217ï¼ˆA+ï¼‰  
ä¸Šä½ç´„æŸï¼šMASTER_ARCH / DOCUMENT_INDEX / MASTER_CANON / VERSION_AUDIT  
å¹³è¡Œåƒç…§ï¼šFULL_ARCH / ARCH_FLOW / RISK_COMPLIANCE / TWSE_RULES / EXECUTION_CONTROL / UI_SPEC / DEPLOY_OPS / LOCAL_ENV  
è®Šæ›´åŸå‰‡ï¼šOnly-Addï¼ˆåªå¯æ–°å¢ï¼Œä¸å¯åˆªæ¸›/è¦†å¯«/å·æ›èªç¾©ï¼›ä¸å¾—ä»¥ç¬¬ä¸‰æ–¹è£æ±ºåˆ¶åº¦ï¼‰  
æ ¸å¿ƒéµå¾‹ï¼šä»»ä½•è³‡æ–™éƒ½å¿…é ˆèƒ½ã€Œè­‰æ˜å¾å“ªä¾†ã€ï¼›ä»»ä½•æ•æ„Ÿéƒ½å¿…é ˆè„«æ•ï¼›ä»»ä½•å›æ”¾éƒ½å¿…é ˆå¯é‡å»ºï¼›ä»»ä½•åˆ¶åº¦è£æ±ºéƒ½å¿…é ˆèƒ½å›æŒ‡å®˜æ–¹å¿«ç…§

---

## 40. æ–‡ä»¶ç›®çš„ï¼ˆWhy Part 4 Existsï¼‰

Part 1/2 è§£æ±ºã€Œæœ‰å“ªäº›ä¾†æºèˆ‡å­é¡åˆ¥ã€ï¼ŒPart 3 è§£æ±ºã€Œèƒ½å¦è£æ±ºã€ï¼ŒPart 4 è§£æ±ºã€Œå·¥ç¨‹è½åœ°å¦‚ä½•ä¸ç ´å£æ²»ç†ã€ï¼š

- ä¸åŒè³‡æ–™ä¾†æºæœ‰ä¸åŒç«¯é»å‹æ…‹ï¼šHTTP JSONã€CSV ä¸‹è¼‰ã€PDF å…¬å‘Šã€HTML é é¢ã€WebSocket ä¸²æµã€æ‰‹å‹•ä¸‹è¼‰â€¦
- è‹¥æ²’æœ‰ç«¯é»å‹æ…‹æ²»ç†ï¼Œæœƒç™¼ç”Ÿï¼š
  - æŠ“åˆ°çš„æ±è¥¿ä¸å¯å›æ”¾ï¼ˆåªå­˜è™•ç†å¾Œçµæœï¼‰
  - æ²’ä¿ç•™åŸå§‹è­‰æ“šï¼ˆraw payload/headers/hashï¼‰
  - æŠŠæ•æ„Ÿè³‡æ–™å¯«é€² log/UI
  - å°åˆ¶åº¦/å…¬å‘Šå¼•ç”¨ä¸å®Œæ•´ï¼ˆå°¤å…¶ PDF/HTMLï¼‰
- å› æ­¤æœ¬ Part å®šç¾©ï¼š
  - Endpoint Type Taxonomyï¼ˆç«¯é»å‹æ…‹åˆ†é¡ï¼‰
  - æ¯ä¸€å‹æ…‹çš„ Source Snapshot å¿…å‚™è­‰æ“š
  - è„«æ•è¦ç¯„ï¼ˆheaders/query/bodyï¼‰
  - è§£æå™¨ï¼ˆParserï¼‰ç‰ˆæœ¬åŒ–èˆ‡ Only-Add æ¼”é€²

---

## 41. ç«¯é»å‹æ…‹åˆ†é¡ï¼ˆEndpoint Type Taxonomyï½œä¸å¯ç¸®æ¸›ï¼‰

æ¯å€‹ `source_id` å¿…é ˆæ¨™è¨» `endpoint_type`ï¼ˆå¯å¤šå€¼ï¼‰ï¼š

- `HTTP_JSON`ï¼šHTTP API å› JSON
- `HTTP_CSV`ï¼šHTTP ä¸‹è¼‰ CSV / TXT
- `HTTP_HTML`ï¼šHTML é é¢ï¼ˆéœ€è§£æ DOMï¼‰
- `HTTP_PDF`ï¼šPDF å…¬å‘Š/è¦ç« /é™„ä»¶
- `FTP_FILE`ï¼šFTP æª”æ¡ˆï¼ˆCSV/ZIPâ€¦ï¼‰
- `WEBSOCKET_STREAM`ï¼šå³æ™‚ä¸²æµ
- `MANUAL_DOWNLOAD`ï¼šäººå·¥ä¸‹è¼‰ï¼ˆä»éœ€è­‰æ“šä¿å­˜ï¼‰
- `BROKER_API`ï¼šåˆ¸å•† APIï¼ˆå«è¡Œæƒ…èˆ‡ä¸‹å–®å›å ±ï¼›æ•æ„Ÿç´šæœ€é«˜ï¼‰
- `DB_SNAPSHOT`ï¼šå…§éƒ¨è³‡æ–™åº«å¿«ç…§ï¼ˆå›æ”¾ç”¨ï¼›éœ€ç‰ˆæœ¬èˆ‡ hashï¼‰
- `OTHER`ï¼šå…¶ä»–ï¼ˆå¿…é ˆè£œå……è¦æ ¼èˆ‡é¢¨éšªï¼‰

---

## 42. Source Snapshotï¼ˆä¾†æºå¿«ç…§ï¼‰é€šç”¨è¦æ ¼ï¼ˆå…¨ç«¯é»å‹æ…‹é€šç”¨ï¼‰

> Source Snapshot æ˜¯ã€Œæ¯ä¸€æ¬¡æŠ“å–/ä½¿ç”¨è³‡æ–™ã€çš„ä¸å¯ç¼ºç‰©ä»¶ã€‚  
> æ²’æœ‰ snapshotï¼Œç­‰åŒè³‡æ–™ä¸å­˜åœ¨æ–¼ TAITS çš„è£æ±ºéˆï¼ˆä¸å¾—é€² L5 Evidenceï¼‰ã€‚

### 42.1 Source Snapshot é€šç”¨å¿…å‚™æ¬„ä½ï¼ˆä¸å¯ç¸®æ¸›ï¼‰
- `source_snapshot_id`
- `source_id`
- `subcategory_id`
- `captured_at`
- `endpoint_type`
- `endpoint_ref`ï¼ˆçµæ§‹åŒ–ï¼›å« URL/è·¯å¾‘/åƒæ•¸/æ–¹æ³•ï¼‰
- `request_fingerprint_ref`ï¼ˆè„«æ•å¾Œè«‹æ±‚æŒ‡ç´‹ï¼‰
- `response_fingerprint_ref`ï¼ˆå›æ‡‰æŒ‡ç´‹ï¼šç‹€æ…‹ç¢¼/headers æ‘˜è¦/å¤§å°ï¼‰
- `raw_payload_ref`ï¼ˆåŸå§‹å…§å®¹å¼•ç”¨ï¼šbytes/fileï¼‰
- `raw_payload_mime`ï¼ˆjson/csv/html/pdf/zipâ€¦ï¼‰
- `raw_payload_size`
- `hash_manifest_ref`ï¼ˆè‡³å°‘å« sha256ï¼‰
- `parser_version_ref`ï¼ˆè§£æå™¨ç‰ˆæœ¬ï¼‰
- `schema_version_ref`ï¼ˆcanonical schema ç‰ˆæœ¬ï¼‰
- `quality_report_ref`
- `licensing_notes_ref`ï¼ˆé PRIMARY å¿…å¡«ï¼‰
- `active_version_map_ref`
- `redaction_report_ref`ï¼ˆè„«æ•å ±å‘Šï¼šé®ç½©äº†å“ªäº›æ¬„ä½ï¼‰

### 42.2 endpoint_ref çµæ§‹ï¼ˆæœ€å°ï¼‰
- `method`ï¼ˆGET/POST/â€¦ï¼‰
- `url`ï¼ˆå¯å« pathï¼Œä¸å«æ•æ„Ÿ query å€¼ï¼‰
- `query_params`ï¼ˆè„«æ•å¾Œï¼‰
- `headers`ï¼ˆè„«æ•å¾Œï¼‰
- `body_ref`ï¼ˆè‹¥æœ‰ï¼›å¿…é ˆè„«æ•ä¸¦ä»¥ ref ä¿å­˜ï¼Œä¸å¯ç›´æ¥å…¥ logï¼‰

---

## 43. è„«æ•ï¼ˆRedactionï¼‰ç¡¬è¦å‰‡ï¼ˆå°é½Š LOCAL_ENV / AI_GOVï¼‰

### 43.1 å¿…é ˆè„«æ•çš„è³‡æ–™é¡å‹ï¼ˆç¡¬ç¦æ˜æ–‡å¤–æ´©ï¼‰
- token / api_key / secret / password / session
- åˆ¸å•†å¸³è™Ÿè­˜åˆ¥ã€å¸³æˆ¶è™Ÿç¢¼ã€èº«åˆ†è­‰å­—è™Ÿã€é›»è©±ã€email
- æˆæ¬Šæ†‘è­‰ã€cookieï¼ˆé€šå¸¸è¦–ç‚ºæ•æ„Ÿï¼‰

### 43.2 è„«æ•æ–¹å¼ï¼ˆæœ€å°è¦æ±‚ï¼‰
- ä»¥ `****` é®ç½©ä¸­æ®µï¼Œåƒ…ä¿ç•™å‰å¾Œ 2~4 ç¢¼ï¼ˆè‹¥éœ€é™¤éŒ¯ï¼‰
- åŸå§‹æ•æ„Ÿå€¼ä¸å¾—å¯«å…¥ï¼š
  - logs
  - UI
  - commit
  - docs
- è‹¥å› é™¤éŒ¯éœ€è¦ä¿å­˜åŸå€¼ï¼šåªèƒ½å­˜åœ¨å—æ§ secrets storageï¼Œä¸å¾—é€² repoï¼ˆRESTRICTEDï¼‰

### 43.3 Redaction Reportï¼ˆå¿…å‚™ï¼‰
æ¯æ¬¡ç”¢ç”Ÿ source snapshot éƒ½è¦æœ‰ï¼š
- `redaction_report_id`
- `redacted_fields[]`ï¼ˆä¾‹å¦‚ headers.Authorizationã€query.tokenï¼‰
- `redaction_policy_version`

---

## 44. å„ç«¯é»å‹æ…‹çš„è­‰æ“šä¿å­˜è¦æ ¼ï¼ˆæœ€å¤§å®Œå‚™ï¼‰

> åŸå‰‡ï¼šç«¯é»è¶Šã€Œæ˜“è®Š/é›£é©—è­‰ã€ï¼Œè­‰æ“šä¿å­˜è¶Šåš´æ ¼ã€‚

---

### 44.1 HTTP_JSONï¼ˆAPI å› JSONï¼‰

**å¿…å‚™è­‰æ“š**
- åŸå§‹ response bytesï¼ˆraw_payload_refï¼‰
- HTTP ç‹€æ…‹ç¢¼ã€å›æ‡‰ headers æ‘˜è¦ï¼ˆEtag/Last-Modified/Date è‹¥æœ‰ï¼‰
- request æŒ‡ç´‹ï¼ˆä¸å«æ•æ„Ÿï¼‰
- hash_manifestï¼ˆsha256ï¼‰

**é¡å¤–å»ºè­°ï¼ˆå¯ Only-Addï¼‰**
- è‹¥ API æä¾›ç‰ˆæœ¬è™Ÿ/è³‡æ–™æ™‚é–“æˆ³ï¼šç´å…¥ `response_fingerprint_ref`
- è‹¥æœ‰ rate limit headersï¼šä¿å­˜æ‘˜è¦ï¼ˆä¸å« tokenï¼‰

**å¸¸è¦‹å¤±æ•ˆæ¨¡å¼**
- schema è®Šæ›´ â†’ `QF_SCHEMA_UNKNOWN` â†’ RETURN/FAILï¼ˆä¾æ”¿ç­–ï¼‰
- 429/é™æµ â†’ RETURNï¼ˆå¯é‡è©¦ï¼‰
- 403/æˆæ¬Šå¤±æ•ˆ â†’ FAILï¼ˆéœ€ ops è™•ç†ï¼‰

---

### 44.2 HTTP_CSVï¼ˆä¸‹è¼‰ CSV/TXTï¼‰

**å¿…å‚™è­‰æ“š**
- åŸå§‹æª”æ¡ˆ bytesï¼ˆå« BOM/æ›è¡ŒåŸæ¨£ï¼‰
- æª”åï¼ˆè‹¥ç”±ä¼ºæœå™¨æä¾› Content-Dispositionï¼‰
- mime/encoding æ¨æ–·çµæœï¼ˆå¯«å…¥ quality_reportï¼‰
- hash_manifest

**è§£æå™¨ç‰ˆæœ¬åŒ–**
- `parser_version_ref` å¿…é ˆåŒ…å«ï¼š
  - delimiterã€quoteã€encodingã€æ¬„ä½å°æ‡‰ç‰ˆæœ¬

**å¸¸è¦‹å¤±æ•ˆæ¨¡å¼**
- æ¬„ä½é †åºè®Šæ›´ â†’ RETURNï¼ˆéœ€æ›´æ–° field_mapï¼‰
- ç·¨ç¢¼è®Šæ›´ â†’ RETURN/FAIL

---

### 44.3 HTTP_HTMLï¼ˆå…¬å‘Šé /æŸ¥è©¢é /æ¸…å–®é ï¼‰

> HTML æœ€å®¹æ˜“è®Šç‰ˆï¼Œå› æ­¤è­‰æ“šä¿å­˜è¦åŠ åš´ã€‚

**å¿…å‚™è­‰æ“š**
- åŸå§‹ HTMLï¼ˆraw_payload_refï¼‰
- é‡è¦ DOM å€å¡ŠæŠ½å–çµæœï¼ˆextract_refï¼‰
- è§£æè¦å‰‡ç‰ˆæœ¬ï¼ˆselector_ruleset_versionï¼‰
- ç¶²é ã€Œæˆªåœ–è­‰æ“šã€ï¼š`page_render_snapshot_ref`ï¼ˆå¿…è¦æ™‚ï¼‰

**ä½•æ™‚å¿…é ˆå­˜æˆªåœ–ï¼ˆç¡¬æ¢ä»¶ï¼‰**
- ç”¨æ–¼åˆ¶åº¦/å…¬å‘Šå¼•ç”¨ï¼ˆå½±éŸ¿åˆè¦/å…¬å¸è¡Œç‚º/åœç‰Œè™•ç½®ï¼‰
- DOM çµæ§‹ä¸ç©©å®šï¼ˆè§£æå¤±æ•—ç‡è¶…éé–€æª»ï¼‰
- éœ€è¦äººé¡ç¨½æ ¸ç¢ºèªï¼ˆAuditor modeï¼‰

**å¸¸è¦‹å¤±æ•ˆæ¨¡å¼**
- selector å¤±æ•ˆ â†’ RETURNï¼ˆå›è£œæˆ–æ”¹ç”¨ PDF/å…¬å‘Šé™„ä»¶ï¼‰

---

### 44.4 HTTP_PDFï¼ˆè¦ç« /å…¬å‘Š PDFï¼‰

> PDF ä½œç‚ºåˆ¶åº¦/å…¬å‘Šè­‰æ“šæ™‚ï¼Œå¿…é ˆå¯å›æ”¾èˆ‡å¯ç¨½æ ¸ï¼ˆä¸å¯åªå­˜è§£æå¾Œæ–‡å­—ï¼‰ã€‚

**å¿…å‚™è­‰æ“š**
- PDF åŸå§‹æª”ï¼ˆraw_payload_refï¼‰
- PDF æª”æ¡ˆ hashï¼ˆhash_manifestï¼‰
- æª”æ¡ˆä¾†æº URL + ä¸‹è¼‰æ™‚é–“
- è‹¥ PDF æœ‰é ç¢¼è£æ±ºå¼•ç”¨ï¼šå¿…é ˆä¿å­˜ `pdf_page_index_ref`ï¼ˆå¼•ç”¨åˆ°é ï¼‰
- è§£æå™¨ç‰ˆæœ¬ï¼ˆpdf parser versionï¼‰èˆ‡æ“·å–æ–‡å­—/è¡¨æ ¼çµæœ refsï¼ˆå¯é¸ï¼Œä½†å»ºè­°ï¼‰

**åˆ¶åº¦è£æ±ºé—œè¯ï¼ˆTWSE_RULESï¼‰**
- è‹¥æ­¤ PDF ä½œç‚º rulebook_snapshot çš„è­‰æ“šä¹‹ä¸€ï¼š
  - å¿…é ˆé€£çµåˆ° `rulebook_snapshot_ref`
  - å¿…é ˆèƒ½æŒ‡å‡ºå°æ‡‰é ç¢¼/æ®µè½ç´¢å¼•ï¼ˆEvidence Indexï¼‰

---

### 44.5 FTP_FILEï¼ˆFTP æª”æ¡ˆï¼‰

**å¿…å‚™è­‰æ“š**
- FTP è·¯å¾‘ã€æª”åã€æª”æ¡ˆæ™‚é–“æˆ³ï¼ˆè‹¥å¯ï¼‰
- åŸå§‹æª” bytes
- hash_manifest

**é¢¨éšªé»**
- FTP ä¾†æºå¯è¢«ä¸­é€”æ›¿æ›ï¼šhash èˆ‡æª”æ¡ˆ metadata éœ€è¦ä¿å­˜
- è‹¥ç‚ºç¬¬ä¸‰æ–¹ï¼šå¿…é ˆæ¨™è¨˜ licensing_notes_ref èˆ‡ä¿¡ä»»é™ç´š

---

### 44.6 WEBSOCKET_STREAMï¼ˆå³æ™‚ä¸²æµï¼‰

> ä¸²æµè³‡æ–™æœ€å®¹æ˜“ã€Œåªå­˜èšåˆå¾Œçµæœã€ï¼Œé€™åœ¨ TAITS ä¸å…è¨±ï¼ˆè‡³å°‘è¦æœ‰å¯å›æ”¾äº‹ä»¶å¼•ç”¨ï¼‰ã€‚

**å¿…å‚™è­‰æ“šï¼ˆæœ€å°ï¼‰**
- `stream_session_id`
- `captured_at_start / captured_at_end`
- `subscription_params_ref`ï¼ˆè„«æ•ï¼‰
- åŸå§‹äº‹ä»¶æµä¿å­˜ç­–ç•¥ï¼š
  - å…è¨±ï¼šäº‹ä»¶æ‰¹æ¬¡æª”ï¼ˆappend-onlyï¼‰æˆ–äº‹ä»¶æ—¥èªŒ refs
  - ç¦æ­¢ï¼šåªå­˜ K ç·šçµæœä¸å­˜äº‹ä»¶ä¾†æºå¼•ç”¨
- `hash_manifest_ref`ï¼ˆå°äº‹ä»¶æª”åˆ†æ®µ hashï¼‰

**å›æ”¾è¦æ±‚**
- å¿…é ˆå¯é‡æ’­åˆ°åŒä¸€å€‹ canonical çµæœï¼ˆå…è¨±å¾®å°æ™‚é–“å·®ï¼Œä½†å¿…é ˆå¯è§£é‡‹ï¼‰
- è‹¥ç„¡æ³•ä¿å­˜äº‹ä»¶æµï¼šè‡³å°‘ä¿å­˜ã€Œäº‹ä»¶æ‘˜è¦ + ä¸Šæ¸¸ä¾†æº refã€ï¼Œä¸¦é™ç´š QG/ECï¼ˆä¸å¾—é€²åˆè¦è£æ±ºï¼‰

---

### 44.7 MANUAL_DOWNLOADï¼ˆäººå·¥ä¸‹è¼‰ï¼‰

> äººå·¥ä¸‹è¼‰ä¸æ˜¯å…è²¬ï¼›åè€Œå¿…é ˆæ›´åš´æ ¼ä¿å­˜è­‰æ“šã€‚

**å¿…å‚™è­‰æ“š**
- ä¸‹è¼‰è€… `operator_id`
- ä¸‹è¼‰æ­¥é©Ÿ `manual_steps_ref`ï¼ˆæ–‡å­—æè¿°ï¼‰
- åŸå§‹æª” bytes
- ä¾†æº URL + æ™‚é–“
- hash_manifest
- è‹¥æ˜¯åˆ¶åº¦/å…¬å‘Šï¼šé™„åŠ æˆªåœ–ï¼ˆè­‰æ˜é é¢èˆ‡ä¸‹è¼‰æŒ‰éˆ•/ç‰ˆæœ¬ï¼‰

**ç¦æ­¢**
- äººå·¥ä¸‹è¼‰æª”ç›´æ¥æ”¹åæ”¹å…§å®¹ä¸ç•™ç—•
- äººå·¥ä¸‹è¼‰å¾Œåªç•™è§£æçµæœä¸ç•™åŸæª”

---

### 44.8 BROKER_APIï¼ˆåˆ¸å•† APIï¼šè¡Œæƒ…/å›å ±/ä¸‹å–®ï¼‰

> é€™æ˜¯æ•æ„Ÿç´šæœ€é«˜ï¼ˆRESTRICTEDï¼‰ã€‚ä»»ä½•è­‰æ“šä¿å­˜éƒ½è¦ã€Œå¯å›æ”¾ã€ä½†ã€Œä¸å¯æ´©æ¼ã€ã€‚

**å¿…å‚™è­‰æ“š**
- `endpoint_ref`ï¼ˆä½†ä¸å¾—åŒ…å«æ•æ„Ÿ token/å¸³è™Ÿï¼‰
- `request_fingerprint_ref` / `response_fingerprint_ref`ï¼ˆè„«æ•ï¼‰
- `raw_payload_ref`ï¼ˆåŠ å¯†ä¿å­˜æˆ–å—æ§å„²å­˜å¼•ç”¨ï¼‰
- `hash_manifest_ref`
- `security_class=RESTRICTED`
- `access_audit_ref`ï¼ˆèª°/ä½•æ™‚/ç‚ºä½•å­˜å–ï¼‰

**ç¡¬æ€§ç¦æ­¢**
- æŠŠåˆ¸å•†å›å ±ï¼ˆå«å¸³è™Ÿ/å–®è™Ÿ/æˆäº¤æ˜ç´°ï¼‰ä»¥æ˜æ–‡å¯«é€² log/UI
- æŠŠ token/æ†‘è­‰æ”¾å…¥ repo

**å›æ”¾ç­–ç•¥**
- å…è¨±ä¿å­˜ã€Œè„«æ•å¾Œå›å ± + åŠ å¯†åŸæ–‡å¼•ç”¨ã€
- Auditor åªèƒ½ä»¥å—æ§æ–¹å¼å–ç”¨ï¼ˆåªè®€ + è¿½è¹¤ï¼‰

---

### 44.9 DB_SNAPSHOTï¼ˆå…§éƒ¨è³‡æ–™åº«å¿«ç…§ï¼‰

**å¿…å‚™è­‰æ“š**
- snapshot idã€è¡¨/åˆ†å€ã€æ™‚é–“ç¯„åœ
- schema version
- hash_manifest
- ä¾†æºï¼šimmutable store refï¼ˆPaper/Live å¿…é ˆï¼‰

**é™åˆ¶**
- ä¸å¾—æŠŠ DB ç•¶æˆå”¯ä¸€çœŸç›¸ï¼›ä»éœ€å¯å›æŒ‡åŸå§‹ä¾†æº snapshot refsï¼ˆprovenance mapï¼‰

---

## 45. Parserï¼ˆè§£æå™¨ï¼‰æ²»ç†ï¼šç‰ˆæœ¬åŒ–ã€å¥‘ç´„åŒ–ã€Only-Add

### 45.1 Parser å¿…é ˆæ˜¯å¯è¿½æº¯ç‰©ä»¶
- `parser_version_ref` å¿…é ˆå¯å®šä½åˆ°ï¼š
  - ç¨‹å¼ç¢¼ç‰ˆæœ¬ï¼ˆcommit refï¼‰
  - è§£æè¦å‰‡ï¼ˆselector/delimiter/pdf extractionï¼‰
  - å·²çŸ¥é™åˆ¶ï¼ˆlimitationsï¼‰

### 45.2 Parser ä¸å¾—ã€Œéœé»˜è‡ªå‹•ä¿®å¾©ã€
- ç™¼ç¾ schema è®Šæ›´æˆ–æ¬„ä½ç¼ºæ¼ï¼š
  - å¿…é ˆè¼¸å‡º quality flags
  - RETURNï¼ˆå›è£œï¼‰æˆ– FAILï¼ˆä¸å¯æ¢å¾©ï¼‰
- ä¸å…è¨±ï¼š
  - ç›´æ¥æŠŠç¼ºæ¬„ä½è£œ 0/ç©ºå­—ä¸²ï¼Œç„¶å¾Œç•¶æ­£å¸¸è³‡æ–™

### 45.3 Parser çš„å›æ­¸é©—è­‰ï¼ˆRegression Evidenceï¼‰
æ¯æ¬¡ parser å‡ç´šå¿…é ˆæ–°å¢ï¼š
- æ¸¬è©¦æ¨£æœ¬å¿«ç…§ refsï¼ˆraw payload fixturesï¼‰
- è§£æçµæœå°ç…§ï¼ˆexpected outputsï¼‰
- è®Šæ›´åŸå› ï¼ˆOnly-Addï¼‰

---

## 46. Source Snapshot èˆ‡ Evidence Bundle çš„é€£çµè¦æ ¼ï¼ˆL5ï¼‰

> L5 Evidence Bundle å¿…é ˆåŒ…å« provenance_map_refï¼Œä¸”æ¯å€‹ Evidence item éƒ½å¯å›æŒ‡ source_snapshot_refã€‚

### 46.1 Evidence Item æœ€å°æ¬„ä½ï¼ˆä¸å¯ç¸®æ¸›ï¼‰
- `evidence_item_id`
- `subcategory_id`
- `source_snapshot_ref`
- `canonical_data_ref`
- `quality_grade`
- `quality_flags[]`
- `hash_manifest_ref`

---

## 47. UI èˆ‡ç¨½æ ¸å‘ˆç¾è¦æ±‚ï¼ˆHardï¼‰

### 47.1 UIï¼ˆL10ï¼‰è‡³å°‘è¦èƒ½é¡¯ç¤º
- ä¸»è¦è³‡æ–™ä½¿ç”¨äº†å“ªäº› `source_id`ï¼ˆå®˜æ–¹/éå®˜æ–¹ï¼‰
- æ˜¯å¦ä½¿ç”¨ fallbackï¼ˆsource_tier_usedï¼‰
- evidence completenessï¼ˆEC ç­‰ç´šï¼ŒPart 3 å®šç¾©ï¼‰
- è‹¥ç‚ºåˆ¶åº¦/å…¬å‘Šï¼šé¡¯ç¤º `source_urls` èˆ‡ `rulebook_snapshot_ref`ï¼ˆå¦‚é©ç”¨ï¼‰

### 47.2 Auditorï¼ˆç¨½æ ¸è€…ï¼‰å–è­‰èƒ½åŠ›
- å¿…é ˆèƒ½å¾ `active_version_map_ref` æ‰¾åˆ°ï¼š
  - æ‰€æœ‰ source snapshots
  - raw payload refsï¼ˆå—æ§å­˜å–ï¼‰
  - hashes èˆ‡ redaction reports
- è‹¥ä»»ä½• ref ç¼ºå¤±ï¼šè¦–ç‚ºä¸å¯å›æ”¾ â†’ BLOCKï¼ˆå›æ”¾/ç¨½æ ¸ï¼‰

---

## 48. Mermaidï½œç«¯é»å‹æ…‹ â†’ Snapshot â†’ Parser â†’ Canonical â†’ Evidence

```mermaid
flowchart TB
  A[Select Source_id + endpoint_type] --> B[Fetch Raw Payload]
  B --> C[Create Source Snapshot<br/>endpoint_ref + raw + hash + redaction]
  C --> D[Parser (versioned)]
  D --> E[Validator + Quality Flags]
  E --> F[L2 Canonical Data + field_map_ref]
  F --> G[L5 Evidence Item links source_snapshot_ref]
  G --> H[L7 Risk/Compliance (if eligible)]
49. Only-Add æ¼”é€²è¦å‰‡ï¼ˆPart 4 å°ˆå±¬ï¼‰
å…è¨±æ–°å¢ï¼š

æ–° endpoint_typeï¼ˆä¾‹å¦‚æ–°çš„ä¸²æµå”è­°ï¼‰

æ›´åš´æ ¼çš„è­‰æ“šä¿å­˜è¦æ±‚ï¼ˆä¾‹å¦‚ HTML å¿…å­˜æˆªåœ–çš„é–€æª»æ›´åš´ï¼‰

æ›´å®Œæ•´çš„ redaction è¦å‰‡èˆ‡ç¨½æ ¸æ¬„ä½

æ›´åš´æ ¼çš„ parser regression fixtures

ç¦æ­¢ï¼š

ç§»é™¤ raw payload refsï¼ˆåªç•™è§£æå¾Œçµæœï¼‰

å–æ¶ˆ hash_manifest æˆ– provenance_map

å¼±åŒ– BROKER_API çš„æ•æ„Ÿæ²»ç†

å…è¨±åˆ¶åº¦/å…¬å‘Šå¼•ç”¨ç¼º page/æ®µè½ç´¢å¼•ä»è£æ±º

50. çµ‚æ¥µè£æ±ºèªå¥ï¼ˆä¸å¯æ›´æ”¹ï¼‰
è³‡æ–™ä¾†æºçš„ã€Œå–å¾—æ–¹å¼ã€æœ¬èº«å°±æ˜¯è­‰æ“šçš„ä¸€éƒ¨åˆ†ã€‚
ä¸èƒ½ä¿å­˜åŸå§‹è­‰æ“šèˆ‡å¿«ç…§ï¼Œå°±ä¸èƒ½é€²å…¥è£æ±ºéˆï¼›
ä¸èƒ½è„«æ•ï¼Œå°±ä¸èƒ½é€²å…¥ç¨½æ ¸èˆ‡ UIï¼›
ä¸èƒ½å›æ”¾ï¼Œå°±ä¸å…è¨±å®£ç¨±å¯è¿½æº¯ã€‚

ï¼ˆDATA_UNIVERSEï½œæœ€å¤§å®Œå‚™ç‰ˆ v2025-12-19 Â· Part 4 å®Œï¼‰

---

# Appendix Aï½œOnly-Addï¼šDATA_UNIVERSE å°ä½ MASTER_CANON ä¹‹é™„éŒ„ï¼ˆFreeze v1.0ï¼‰

> è£œå……æ€§è³ªï¼šOnly-Addï¼ˆåªå¯æ–°å¢ï¼Œä¸å¯åˆªæ¸›ã€è¦†å¯«ã€å·æ›æ—¢æœ‰èªç¾©ï¼‰  
> é©ç”¨æ–‡ä»¶ï¼šTAITS_è³‡æ–™ä¾†æºå…¨é›†ï¼ˆDATA_UNIVERSEï¼‰__251219ï¼ˆdoc_keyï¼šDATA_UNIVERSEï¼‰  
> ç”Ÿæ•ˆç‹€æ…‹ï¼šGOVERNANCE_STATE = Freeze v1.0  
> ä¸Šä½è£æ±ºï¼šDOCUMENT_INDEX â†’ MASTER_ARCH â†’ MASTER_CANON  
> ç›®çš„ï¼šè£œé½Š DATA_UNIVERSE èˆ‡ MASTER_CANON çš„ã€Œå·®ç•°ï¼åˆ†å·¥ç•Œç·šã€èˆ‡ã€ŒCanonical å°ä½ã€ï¼Œç¢ºä¿è³‡æ–™æ²»ç†è¦æ ¼å¯è¢«ç´å…¥ Canonical Flowï¼ˆL1â€“L11ï¼‰ä¸”ä¸é€ æˆè·¨å±¤è¶Šæ¬Šã€‚

---

## A.1 DATA_UNIVERSE èˆ‡ MASTER_CANON çš„ã€Œå·®ç•°ã€èˆ‡ã€Œåˆ†å·¥ã€ç•Œç·šï¼ˆå°ä½ç¸½çµï¼‰

### A.1.1 MASTER_CANON æ˜¯ã€Œæœ€é«˜æ¯æ³•èˆ‡å±¤ç´šèªç¾©ã€ï¼›DATA_UNIVERSE æ˜¯ã€Œè³‡æ–™å…¥å£å…¨é›†èˆ‡å¯è¿½æº¯æ²»ç†ã€

- MASTER_CANONï¼š
  - å®šç¾© TAITS çš„ Canonical Flowï¼ˆL1â€“L11ï¼‰ä¹‹**å”¯ä¸€åˆæ³•å±¤ç´šèªç¾©**èˆ‡**ä¸å¯è¶Šæ¬Šé‚Šç•Œ**ã€‚
  - å®šç¾©è·¨å±¤è£æ±ºç§©åºã€è§’è‰²æ¬Šé™ã€äººæ©Ÿåˆ†å·¥èˆ‡è¡çªè£æ±ºé †åºã€‚
  - å±¬ã€Œæ³•æºèˆ‡è£æ±ºæ¯é«”ã€ï¼Œä¸å¯è¢«ä»»ä½•å­æ–‡ä»¶æ”¹å¯«ã€‚

- DATA_UNIVERSEï¼š
  - å®šç¾©ã€Œå¯è¢«ä½¿ç”¨çš„è³‡æ–™ä¾†æºå®‡å®™ã€ï¼šå®˜æ–¹å„ªå…ˆã€æˆæ¬Šæ¬¡ä¹‹ã€å¤šå±¤ fallbackï¼Œä¸”å¿…é ˆ**å¯è¿½æº¯ï¼ˆProvenanceï¼‰**ã€**å¯å›æ”¾ï¼ˆReplayï¼‰**ã€**å¯ç¨½æ ¸ï¼ˆAuditï¼‰**ã€‚
  - å…¶ä½¿å‘½æ˜¯è®“ L1/L2 çš„ ingest/normalize å…·å‚™åˆ¶åº¦åŒ–ã€å¯ç¨½æ ¸çš„æœ€ä½æ¨™æº–ï¼Œä¸¦æŠŠã€Œè³‡æ–™ä¸è¶³ã€åˆ¶åº¦åŒ–ç‚ºé™ç´šï¼é€€å›ï¼ä¸­æ­¢è¡Œç‚ºã€‚
  - å±¬ã€Œè³‡æ–™æ²»ç†èˆ‡ä¾†æºæ¸…å–®ã€ï¼Œä¸å¾—å‡æ ¼ç‚ºæµç¨‹è£æ±ºæ¯æ³•ã€‚

> ç¡¬æ€§ç•Œç·šï¼ˆä¸å¯è·¨ç•Œï¼‰  
> DATA_UNIVERSE åªèƒ½å›ç­”ï¼š  
> ã€Œè³‡æ–™å¾å“ªè£¡ä¾†ï¼Ÿæ˜¯å¦åˆæ³•ï¼Ÿå“è³ªå¦‚ä½•ï¼Ÿæ˜¯å¦å¯ç”¨æ–¼è£æ±ºéˆï¼Ÿç¼ºä»€éº¼ï¼Ÿå¦‚ä½•é™ç´šï¼Ÿã€  
> DATA_UNIVERSE **ä¸å¾—**å›ç­”ï¼š  
> ã€Œæ–¹å‘åˆ¤æ–·ã€ç­–ç•¥å¥½å£ã€æ‡‰ä¸æ‡‰è©²é€²å‡ºã€è©²ä¸‹ä»€éº¼å–®ã€ç­‰ä»»ä½•è·¨ L1â€“L2 çš„è£æ±ºè­°é¡Œã€‚

---

### A.1.2 DATA_UNIVERSE å° Canonical Flowï¼ˆL1â€“L11ï¼‰çš„è²¬ä»»é‚Šç•Œï¼ˆå±¤ç´šå°ä½ï¼‰

- L1ï¼ˆData Ingestionï½œè³‡æ–™å–å¾—ï¼‰
  - DATA_UNIVERSE æä¾›ï¼šsource_id é¸æ“‡è¦æ ¼ã€å®˜æ–¹å„ªå…ˆéˆã€æ“·å–èˆ‡å¿«ç…§è¦ç¯„ã€ä¾†æºè­‰æ“šè¦æ±‚ï¼ˆprovenanceï¼‰ã€‚
  - ç¦æ­¢ï¼šç”¨ç¬¬ä¸‰æ–¹ä¾†æºåšåˆ¶åº¦è£æ±ºã€æˆ–åœ¨ ingest éšæ®µå¼•å…¥ã€Œåˆ†æçµè«–ã€ã€‚

- L2ï¼ˆValidation & Normalizationï½œæ ¡é©—/æ­£è¦åŒ–ï¼‰
  - DATA_UNIVERSE æä¾›ï¼šschema/domain/temporal æª¢æ ¸è¦ç¯„ã€quality flagsã€æ¬„ä½æ˜ å°„ï¼ˆfield_mapï¼‰ã€èªç¾©é–å®šï¼ˆunit/timezone/CA adjust ç•™ç—•ï¼‰ã€‚
  - ç¦æ­¢ï¼šéœé»˜è£œå€¼æ”¹å¯«èªç¾©ã€æˆ–ç”¨ã€Œæ–¹ä¾¿ã€ç†ç”±æ”¹å‹• canonical æ¬„ä½å«ç¾©ã€‚

- L3ï¼ˆSnapshot & State Buildï½œå¿«ç…§/ç‹€æ…‹ï¼‰
  - DATA_UNIVERSE æä¾›ï¼šL1/L2 ç”¢å‡ºä¹‹ `source_snapshot_ref / raw_payload_ref / hash_manifest_ref / quality_report_ref` ç­‰å¯å›æ”¾ä¾æ“šã€‚
  - ç¦æ­¢ï¼šåœ¨è³‡æ–™å±¤è‡ªè¡Œæ±ºå®šã€Œå“ªä¸€ç¨®ç‹€æ…‹ï¼ˆRegimeï¼‰ã€æˆ–ã€Œé¢¨æ§æ”¾è¡Œã€ã€‚

- L4â€“L11ï¼ˆFeature/Evidence/Regime/Risk/Strategy/Governance/UI/Executionï¼‰
  - DATA_UNIVERSE åªæä¾›ã€Œè¼¸å…¥åˆæ³•æ€§ã€èˆ‡ã€Œå“è³ª/å®Œæ•´åº¦ã€çš„å®¢è§€è¨Šè™Ÿï¼ˆqualityã€completenessã€trustï¼‰ï¼Œä¸å¾—è¶Šæ¬Šæˆç‚º PASS/VETOã€‚
  - çœŸæ­£çš„è£æ±ºä»å¿…é ˆç”± L7ï¼ˆRisk/Complianceï¼‰èˆ‡ L9ï¼ˆGovernance Gateï¼‰åŠ L10ï¼ˆHuman Decisionï¼‰å®Œæˆã€‚

---

## A.2 Canonical å°ä½ï¼šDATA_UNIVERSE å¿…é ˆè¼¸å‡ºä¹‹ã€Œæœ€å°ä¸å¯é™å·¥ä»¶ã€ï¼ˆL1â€“L3ï¼‰

> æœ¬ç¯€ç‚ºã€Œæœ€å°ä¸å¯é™ã€ï¼šè‹¥ç¼ºä»»ä¸€é …ï¼Œè¦–ç‚º Evidence Chain ä¸å®Œæ•´ï¼Œä¸‹æ¸¸å¿…é ˆè§¸ç™¼é™ç´šã€é€€å›æˆ–å¦æ±ºï¼ˆç”± L7/L9 è£æ±ºï¼‰ã€‚

### A.2.1 L1ï¼šData Ingestionï¼ˆRaw Artifact + Provenanceï¼‰

æ¯æ¬¡ ingestï¼ˆä¸è«– Research/Backtest/Simulation/Paper/Liveï¼‰å¿…é ˆç”Ÿæˆï¼š

1. `source_id`ï¼ˆå”¯ä¸€ä¸»éµï¼›å¿…é ˆå­˜åœ¨æ–¼ DATA_UNIVERSEï¼‰
2. `source_tier_used`ï¼ˆPRIMARY / SECONDARY / FALLBACKï¼‰
3. `provenance_ref`ï¼ˆè‡³å°‘åŒ…å«ï¼šå®˜æ–¹/ç«¯é»/é é¢ã€æ“·å–æ™‚é–“ captured_atã€å›æ‡‰/é é¢è­˜åˆ¥è³‡è¨Šï¼‰
4. `raw_payload_ref`ï¼ˆåŸå§‹å›æ‡‰ä¿å­˜ä½ç½®å¼•ç”¨ï¼‰
5. `source_snapshot_ref`ï¼ˆä¾†æºå¿«ç…§å¼•ç”¨ï¼šå¯å›æ”¾ã€å¯ç¨½æ ¸ï¼‰
6. `hash_manifest_ref`ï¼ˆè‡³å°‘ raw_payload èˆ‡ snapshot çš„é›œæ¹Šæ¸…å–®å¼•ç”¨ï¼‰

> ç¦æ­¢ï¼š  
> - çœç•¥ provenance / snapshot / hash  
> - ä»¥ç¬¬ä¸‰æ–¹è³‡æ–™æ›¿ä»£å®˜æ–¹åˆ¶åº¦å…¥å£ä¾†åšä»»ä½•åˆ¶åº¦è£æ±º  
> - ä»¥ã€Œå¾ŒçºŒæœƒè£œã€ç‚ºç†ç”±è®“è³‡æ–™é€²å…¥è£æ±ºéˆ

---

### A.2.2 L2ï¼šValidation & Normalizationï¼ˆCanonical Artifact + Field Map + Qualityï¼‰

æ¯æ¬¡ normalize å¿…é ˆç”Ÿæˆï¼š

1. `canonical_schema_id`ï¼ˆæ¨™æº–åŒ–å¾Œ schema IDï¼‰
2. `normalization_ruleset_version`ï¼ˆæ­£è¦åŒ–è¦å‰‡ç‰ˆæœ¬ï¼‰
3. `field_map_ref`ï¼ˆåŸæ¬„ä½ â†’ canonical æ¬„ä½ï¼‰
4. `unit_transform_ref`ã€`timezone_transform_ref`ï¼ˆè‹¥æœ‰è½‰æ›å¿…ç•™ç—•ï¼‰
5. `quality_grade`ï¼ˆQG-A/B/C/Dâ€¦ï¼‰
6. `quality_flags[]`ï¼ˆç¼ºå€¼ã€å»¶é²ã€ç•°å¸¸ã€ç–‘ä¼¼å°–å³°ã€èˆ‡å®˜æ–¹ä¸ä¸€è‡´â€¦ï¼‰
7. `quality_report_ref`ï¼ˆå“è³ªå ±å‘Šå¼•ç”¨ï¼‰

> ç¦æ­¢ï¼š  
> - å·æ›æ¬„ä½èªç¾©ï¼ˆvolume/amount/price/turnover ç­‰ä¸å¾—æ··ç”¨ï¼‰  
> - éœé»˜ä¿®è£œï¼ˆä»»ä½•è£œå€¼æˆ–æ’è£œå¿…é ˆç•™ç—•ä¸¦æ¨™è¨˜æ——æ¨™ï¼‰  
> - æŠŠã€Œäº¤å‰ä¸€è‡´æ€§æª¢æ ¸ã€ç•¶ä½œè£æ±ºï¼ˆåªèƒ½æ¨™è¨˜ï¼Œä¸è£æ±ºï¼‰

---

### A.2.3 L3ï¼šSnapshot & Replay Determinismï¼ˆå¯å›æ”¾ä¸€è‡´æ€§ï¼‰

DATA_UNIVERSE å¿…é ˆä¿è­‰ä¸‹æ¸¸èƒ½åšåˆ°ï¼š

- Replay æ™‚å¯é‡å»ºã€ŒåŒä¸€ä»½ canonical dataã€ï¼ˆæˆ–èƒ½è§£é‡‹å·®ç•°ï¼‰
- Evidence Bundle çš„ provenance map ä¸æ–·è£‚ï¼ˆæ¯å€‹é—œéµè¼¸å…¥å¯è¿½æº¯å› source_snapshot_refï¼‰
- ç‰ˆæœ¬ä¸€è‡´æ€§ï¼š`active_version_map_ref` å¯æŒ‡å‡ºç•¶æ¬¡é‹è¡Œä½¿ç”¨çš„ä¾†æº/è¦å‰‡ç‰ˆæœ¬é›†åˆ

---

## A.3 å°ä½ï¼šè³‡æ–™å“è³ªï¼ˆQGï¼‰èˆ‡è­‰æ“šå®Œæ•´åº¦ï¼ˆECï¼‰å°ä¸‹æ¸¸çš„ã€Œå¯ç”¨æ€§å®£å‘Šã€

> DATA_UNIVERSE çš„ä»»å‹™æ˜¯ã€Œå®£å‘Šè³‡æ–™å¯ç”¨æ€§ã€ï¼Œä¸æ˜¯ã€Œè£æ±ºæ˜¯å¦äº¤æ˜“ã€ã€‚  
> å…¶è¼¸å‡ºå¿…é ˆèƒ½è¢« UI / Log / Audit æ˜ç¢ºå‘ˆç¾ï¼Œé¿å…ä¸‹æ¸¸æˆ–äººé¡èª¤ä»¥ç‚ºè³‡æ–™æ˜¯å®Œæ•´å¯é çš„ã€‚

### A.3.1 å¿…å‚™å¯ç”¨æ€§æ¬„ä½ï¼ˆä¸‹æ¸¸å¯è®€ï¼‰

æ¯æ¬¡è³‡æ–™æµè½‰åˆ° L3ï¼ˆæˆ–æ›´ä¸‹æ¸¸ï¼‰æ™‚ï¼Œå¿…é ˆé™„å¸¶ï¼š

- `source_tier_used`ï¼šPRIMARY/SECONDARY/FALLBACK
- `trust_level`ï¼šHIGH/MEDIUM/LOW
- `compliance_eligible`ï¼štrue/falseï¼ˆç¬¬ä¸‰æ–¹é€šå¸¸ç‚º falseï¼›æ˜¯å¦å¯ç”¨æ–¼åˆ¶åº¦è£æ±ºéˆï¼‰
- `evidence_completeness`ï¼šEC-A/EC-B/EC-C/EC-Dâ€¦ï¼ˆæˆ–ç­‰åƒ¹æšèˆ‰ï¼‰
- `degradation_reason_codes[]`ï¼šé™ç´šåŸå› ï¼ˆç¼ºæ¬„ä½ã€å»¶é²ã€ç–‘ä¼¼ç•°å¸¸ã€å®˜æ–¹ä¸å¯å¾—â€¦ï¼‰
- `notes_ref`ï¼šé™ç´šèªªæ˜èˆ‡è¿½è¹¤å¼•ç”¨

### A.3.2 å¼·åˆ¶è¦å‰‡ï¼ˆä¸å¯é™ï¼‰

- ä»»ä½•é™ç´šï¼ˆfallback æˆ–å“è³ªä¸è¶³ï¼‰ä¸å¾—éœé»˜ï¼Œå¿…é ˆå¯è¦‹ï¼ˆUI/Log/Auditï¼‰ã€‚
- Quality/Completeness åªåšã€Œå®£å‘Šã€ï¼Œä¸å¾—ç›´æ¥è®Šæˆ PASS/VETOï¼›è£æ±ºæ­¸å±¬ L7/L9/L10ã€‚

---

## A.4 å°ä½ï¼šDATA_UNIVERSE èˆ‡ RISK/COMPLIANCEã€GOVERNANCE çš„äº’é–é—œä¿‚ï¼ˆä¸æ”¹æ—¢æœ‰æ¬Šé™ï¼‰

### A.4.1 èˆ‡ L7ï¼ˆRisk & Complianceï¼‰ä¹‹äº’é–

DATA_UNIVERSE ä¸åŸ·è¡Œå¦æ±ºï¼Œä½†å¿…é ˆæä¾›ã€Œå¯è¢«å¦æ±ºã€çš„å®¢è§€ä¾æ“šï¼š

- ç¼º official snapshotï¼ˆæˆ–ä¸å¯å›æ”¾ï¼‰ â†’ å¿…é ˆè®“ä¸‹æ¸¸å¯åµæ¸¬ï¼ˆcompliance_eligible=false / reason_codesï¼‰
- QG é™ç´šæˆ– EC ä¸è¶³ â†’ å¿…é ˆé¡¯æ€§æ¨™è¨˜ï¼ˆquality_grade / evidence_completeness / flagsï¼‰
- ä»»ä½•ã€Œåˆ¶åº¦è£æ±ºæ‰€éœ€çš„å®˜æ–¹ä¾æ“šã€ç¼ºå¤± â†’ å¿…é ˆæ¨™è¨˜ç‚ºä¸å¯ç”¨æ–¼åˆè¦è£æ±ºéˆ

### A.4.2 èˆ‡ L9ï¼ˆGovernance Gateï¼‰ä¹‹äº’é–

- è‹¥è³‡æ–™ provenance/ç‰ˆæœ¬/å¿«ç…§ç¼ºå¤±ï¼ŒL9 å¯è¦æ±‚ RETURN å› L1/L2/L3 é‡æ–°è£œé½Šï¼ˆç”±æ²»ç†é–€è£æ±ºï¼‰ã€‚
- DATA_UNIVERSE å¿…é ˆèƒ½è®“ L9 è®€åˆ°ï¼šè³‡æ–™ä¾†æºç‰ˆæœ¬ã€è¦å‰‡ç‰ˆæœ¬ã€hash manifest å¼•ç”¨ã€‚

---

## A.5 Freeze v1.0 ä¸‹çš„ Only-Add æ–°å¢è¦å‰‡æ¨¡æ¿ï¼ˆDATA_UNIVERSE å°ˆç”¨ï¼‰

> æœ¬æ¨¡æ¿ç”¨æ–¼æ–°å¢ source_id / subcategory_id / schema / validation rules / fallback_chainã€‚  
> åªèƒ½æ–°å¢ï¼Œä¸å¾—æ”¹å¯«æˆ–è¦†å¯«æ—¢æœ‰æ¢ç›®èªç¾©ï¼›æ›´åš´æ ¼å¯ï¼Œæ”¾å¯¬ä¸å¯ã€‚

### A.5.1 æ–°å¢ source_idï¼ˆæ¨¡æ¿ï¼‰

- æ–°å¢é …ç›®é¡å‹ï¼šsource_id
- source_idï¼š`<å”¯ä¸€ID>`
- source_nameï¼š`<åç¨±>`
- source_tierï¼šPRIMARY / SECONDARY / FALLBACK
- official_priority_rationaleï¼š`<ç‚ºä½•å±¬å®˜æ–¹/æˆæ¬Š/ç¬¬ä¸‰æ–¹>`
- access_methodï¼šAPI / Web / File / Vendor Feed
- canonical_schema_targetsï¼š`[<canonical_schema_id...>]`
- required_provenanceï¼š
  - source_urls_or_endpointsï¼š`[ ... ]`
  - captured_atï¼šREQUIRED
  - raw_payload_refï¼šREQUIRED
  - source_snapshot_refï¼šREQUIRED
  - hash_manifest_refï¼šREQUIRED
- validation_rulesetï¼š
  - schema_validationï¼šREQUIRED
  - domain_validationï¼šREQUIRED
  - temporal_validationï¼šREQUIRED
  - cross_source_consistencyï¼šOPTIONALï¼ˆåƒ…æ¨™è¨˜ï¼‰
- fallback_chainï¼š
  - preferred_same_tier_officialï¼š`[ ... ]`
  - secondary_authorizedï¼š`[ ... ]`
  - last_resort_third_partyï¼š`[ ... ]`ï¼ˆå¿…é ˆé™ç´š trust/compliance_eligibleï¼‰
- compliance_eligibilityï¼š
  - compliance_eligible_defaultï¼štrue/false
  - restrictions_notes_refï¼š`<é™åˆ¶èªªæ˜å¼•ç”¨>`
- audit_requirementsï¼š
  - replay_determinismï¼šREQUIRED
  - version_bindingï¼šREQUIREDï¼ˆactive_version_map_ref å¿…é ˆå¯è¿½æº¯ï¼‰
- change_log_stubï¼š
  - added_atï¼š`YYYY-MM-DD`
  - added_byï¼š`<äººé¡è£æ±ºè€…/æ²»ç†è¨˜éŒ„ID>`
  - reasonï¼š`<æ–°å¢åŸå› >`
  - impact_scopeï¼š`<å½±éŸ¿ç¯„åœï¼šå“ªäº›è³‡æ–™é¡åˆ¥/å±¤ç´š>`

---

### A.5.2 æ–°å¢ subcategory_idï¼ˆæ¨¡æ¿ï¼‰

- æ–°å¢é …ç›®é¡å‹ï¼šsubcategory_id
- subcategory_idï¼š`<å”¯ä¸€ID>`
- domainï¼šTWSE / TPEX / TAIFEX / MOPS / TDCC / Broker / Other
- data_kindï¼šPrice / Volume / Fundamentals / CorporateActions / Lending / Margin / Position / Orders / Trades / NewsMeta / â€¦
- official_sourcesï¼š
  - primary_source_idsï¼š`[ ... ]`
  - official_urlsï¼š`[ ... ]`
- secondary_sourcesï¼š
  - authorized_vendor_source_idsï¼š`[ ... ]`
- fallback_sourcesï¼š
  - third_party_source_idsï¼š`[ ... ]`ï¼ˆå¿…é ˆé™ç´šï¼‰
- required_fields_minimumï¼š`[ ... ]`
- canonical_schema_idï¼š`<schema>`
- quality_gate_minimumï¼š
  - minimum_quality_grade_for_evidenceï¼š`QG-?`
  - minimum_evidence_completenessï¼š`EC-?`
- notes_refï¼š`<è£œå……èªªæ˜å¼•ç”¨>`

---

## A.6 ç¨½æ ¸æª¢æ ¸è¡¨ï¼ˆAudit Checklistï½œDATA_UNIVERSE å°ä½ Canonicalï¼‰

> æœ¬è¡¨ç‚ºç¨½æ ¸ç”¨ï¼›ä¸æ–°å¢æµç¨‹ã€ä¸æ”¹æ¬Šé™ï¼Œåªå®šç¾©ã€Œå¯è¢«æª¢æŸ¥ã€çš„æœ€ä½é …ã€‚

### A.6.1 L1/L2 å·¥ä»¶å®Œæ•´æ€§ï¼ˆå¿…æŸ¥ï¼‰

- æ˜¯å¦å­˜åœ¨ `source_id` ä¸”èƒ½å°æ‡‰ DATA_UNIVERSEï¼Ÿ
- æ˜¯å¦å­˜åœ¨ `source_snapshot_ref / raw_payload_ref / hash_manifest_ref`ï¼Ÿ
- æ˜¯å¦å­˜åœ¨ `field_map_ref / normalization_ruleset_version`ï¼Ÿ
- æ˜¯å¦å­˜åœ¨ `quality_grade / quality_flags[] / quality_report_ref`ï¼Ÿ
- æ˜¯å¦å­˜åœ¨ `active_version_map_ref` ä¸”å¯å›æ”¾ï¼Ÿ

### A.6.2 é™ç´šå¯è¦‹æ€§ï¼ˆå¿…æŸ¥ï¼‰

- fallback ä½¿ç”¨æ™‚ï¼Œæ˜¯å¦è¼¸å‡º `source_tier_used / trust_level / compliance_eligible / reason_codes`ï¼Ÿ
- æ˜¯å¦ç¢ºä¿ UI/Log/Audit å¯è¦‹ï¼ˆä¸å¯éœé»˜ï¼‰ï¼Ÿ

### A.6.3 åˆè¦å¯ç”¨æ€§å®£å‘Šï¼ˆå¿…æŸ¥ï¼‰

- è‹¥å±¬ç¬¬ä¸‰æ–¹æˆ–ä¸å¯é©—è­‰ä¾†æºï¼šæ˜¯å¦é è¨­ `compliance_eligible=false`ï¼Ÿ
- è‹¥ç¼ºå®˜æ–¹å¿«ç…§/ä¸å¯å›æ”¾ï¼šæ˜¯å¦æ˜ç¢ºæ¨™è¨˜ä¸å¯ç”¨æ–¼åˆ¶åº¦è£æ±ºéˆï¼Ÿ

---

## A.7 çµ‚å±€è²æ˜ï¼ˆä¸å¯æ”¹å¯«ï¼‰

DATA_UNIVERSE çš„å­˜åœ¨ç›®çš„ï¼Œæ˜¯æŠŠã€Œè³‡æ–™æ˜¯å¦å¯é ã€æ˜¯å¦å¯è¿½æº¯ã€æ˜¯å¦å¯å›æ”¾ã€åˆ¶åº¦åŒ–ã€‚  
å®ƒä¸æä¾›äº¤æ˜“æ–¹å‘ã€ä¸æä¾›ç­–ç•¥è£æ±ºã€ä¸æä¾›ä¸‹å–®æ±ºç­–ã€‚  
ä»»ä½•ç„¡æ³•å›æŒ‡ä¾†æºã€ç„¡æ³•ç”Ÿæˆå¿«ç…§ã€ç„¡æ³•ç¨½æ ¸å›æ”¾çš„è³‡æ–™ï¼Œéƒ½ä¸å…è¨±é€²å…¥ TAITS çš„è£æ±ºéˆã€‚

ï¼ˆAppendix Aï½œDATA_UNIVERSE å°ä½ MASTER_CANONï½œFreeze v1.0ï½œOnly-Addï¼‰

# Appendix Bï½œOnly-Addï¼šDATA_UNIVERSE å·¥ä»¶æ¨¡æ¿ Ã— æ¬„ä½å­—å…¸ Ã— Reason Codesï¼ˆFreeze v1.0ï¼‰

> è£œå……æ€§è³ªï¼šOnly-Addï¼ˆåªå¯æ–°å¢ï¼Œä¸å¯åˆªæ¸›ã€è¦†å¯«ã€å·æ›æ—¢æœ‰èªç¾©ï¼‰  
> é©ç”¨æ–‡ä»¶ï¼šTAITS_è³‡æ–™ä¾†æºå…¨é›†ï¼ˆDATA_UNIVERSEï¼‰__251219ï¼ˆdoc_keyï¼šDATA_UNIVERSEï¼‰  
> ç”Ÿæ•ˆç‹€æ…‹ï¼šGOVERNANCE_STATE = Freeze v1.0  
> ä¸Šä½è£æ±ºï¼šDOCUMENT_INDEX â†’ MASTER_ARCH â†’ MASTER_CANON  
> ç›®çš„ï¼šè£œé½Š DATA_UNIVERSE åœ¨å·¥ç¨‹è½åœ°ï¼ˆL1/L2/L3ï¼‰èˆ‡ç¨½æ ¸å›æ”¾ï¼ˆVERSION_AUDIT / Replayï¼‰æ‰€éœ€ä¹‹ã€Œæœ€å°å¯æª¢æŸ¥å·¥ä»¶æ¨¡æ¿ã€ã€æ¬„ä½å­—å…¸èˆ‡æ¨™æº–åŒ– Reason Codesï¼›ä¸æ–°å¢æµç¨‹ã€ä¸æ”¹æ¬Šé™ã€ä¸æ”¹æ—¢æœ‰ Part 1â€“4 èˆ‡ Appendix A ä¹‹èªç¾©ã€‚

---

## B.1 æœ¬é™„éŒ„çš„æ³•å¾‹åœ°ä½èˆ‡ä½¿ç”¨æ–¹å¼ï¼ˆHard Boundaryï¼‰

- æœ¬é™„éŒ„åƒ…æä¾›ã€Œæ¨¡æ¿ï¼ˆTemplateï¼‰/ å­—å…¸ï¼ˆDictionaryï¼‰/ ä»£ç¢¼è¡¨ï¼ˆCodebookï¼‰ã€ã€‚
- æœ¬é™„éŒ„ä¸å¾—è¢«å¼•ç”¨ç‚ºï¼š
  - æ–°çš„è£æ±ºä½éš
  - æ–°çš„é¢¨æ§/åˆè¦æ¬ŠåŠ›ä¾†æº
  - æ–°çš„ Canonical Flow å®šç¾©
- è‹¥æœ¬é™„éŒ„ä»»ä¸€æè¿°èˆ‡ä¸»æ–‡ï¼ˆPart 1â€“4ï¼‰æˆ– Appendix A ç”¢ç”Ÿå¼µåŠ›ï¼š
  - ä¸€å¾‹ä»¥ä¸»æ–‡èˆ‡ Appendix A ç‚ºæº–
  - æœ¬é™„éŒ„è©²æ®µè½è‡ªå‹•å¤±æ•ˆï¼Œä¸éœ€å®£å‘Š

---

## B.2 Source Registryï¼ˆsource_idï¼‰æœ€å°æ¨¡æ¿ï¼ˆå¿…å¡«ï¼‰

> ç”¨é€”ï¼šç”¨ã€Œå¯è¢«ç¨½æ ¸ã€çš„æ–¹å¼ï¼Œç™»è¨˜ä¸€å€‹ä¾†æºï¼ˆsource_idï¼‰ä¸¦é–å®šå…¶èªç¾©é‚Šç•Œã€‚  
> è¦å‰‡ï¼šOnly-Add å¯å¢åŠ æ¬„ä½ã€å¯åŠ åš´æª¢æ ¸ï¼›ä¸å¯åˆªæ¸›æ—¢æœ‰å¿…å¡«ã€ä¸å¯æ”¾å¯¬åˆè¦é™åˆ¶ã€‚

### B.2.1 Source Recordï¼ˆæœ€å°æ¬„ä½ï¼‰

- `source_id`ï¼šå”¯ä¸€è­˜åˆ¥ï¼ˆä¸å¯é‡ç”¨ï¼›ä¸å¯æ”¹å¯«æ­·å²èªç¾©ï¼‰
- `source_name`ï¼šä¾†æºåç¨±ï¼ˆä¸­/è‹±çš†å¯ï¼›è‹±æ–‡å­—å¿…é™„ä¸­æ–‡èªªæ˜ï¼‰
- `source_tier`ï¼š`PRIMARY / SECONDARY / FALLBACK`
- `owner_org`ï¼šæŒæœ‰/ç™¼å¸ƒæ©Ÿæ§‹ï¼ˆä¾‹å¦‚ï¼šTWSEã€TPEXã€TAIFEXã€MOPSã€åˆ¸å•†ã€ç¬¬ä¸‰æ–¹ä¾›æ‡‰å•†ï¼‰
- `legal_basis`ï¼šåˆæ³•æ€§èªªæ˜ï¼ˆå®˜æ–¹æ³•å®šæ­éœ²/æˆæ¬Šåˆç´„/å…¬é–‹è³‡æ–™ï¼›è‹¥æœ‰æˆæ¬Šé™åˆ¶éœ€æ˜ç¤ºï¼‰
- `endpoint_catalog[]`ï¼šç«¯é»æ¸…å–®ï¼ˆè¦‹ B.4ï¼‰
- `update_frequency`ï¼šæ›´æ–°é »ç‡èˆ‡å»¶é²çª—ï¼ˆä¾‹å¦‚ï¼šT+0ã€T+1ã€æ¯åˆ†é˜ã€äº‹ä»¶è§¸ç™¼ï¼‰
- `availability_slo`ï¼šå¯ç”¨æ€§æœ€ä½ç›®æ¨™ï¼ˆä¾‹å¦‚ï¼š99%/æœˆï¼›æˆ–ã€Œä¸æ‰¿è«¾ã€ä½†éœ€å¡«å¤±æ•ˆç­–ç•¥ï¼‰
- `data_scope`ï¼šæ¶µè“‹ç¯„åœï¼ˆTWSE/TPEX/TAIFEXã€å•†å“/å€‹è‚¡ã€æœŸé–“ï¼‰
- `license_restrictions`ï¼šæˆæ¬Šé™åˆ¶/ä½¿ç”¨é™åˆ¶ï¼ˆä¸å¾—ç¼ºï¼›ç„¡å‰‡å¡« `NONE`ï¼‰
- `compliance_eligible_default`ï¼š
  - `PRIMARY/SECONDARY`ï¼šå¯ç‚º `true`ï¼ˆä»å— rulebook_snapshot èˆ‡ QG/EC ç´„æŸï¼‰
  - `FALLBACK`ï¼šé è¨­ **å¿…ç‚º `false`**ï¼ˆä¸å¾—ç”¨æ–¼åˆ¶åº¦è£æ±ºéˆï¼‰
- `provenance_policy_ref`ï¼šProvenance æ”¿ç­–ï¼ˆè¦‹ B.5ï¼›å¯ç›´æ¥å¼•ç”¨æœ¬æª”ç« ç¯€ç·¨è™Ÿï¼‰
- `snapshot_policy_ref`ï¼šSnapshot/å›æ”¾æ”¿ç­–ï¼ˆè¦‹ B.6ï¼›å¯ç›´æ¥å¼•ç”¨æœ¬æª”ç« ç¯€ç·¨è™Ÿï¼‰
- `quality_policy_ref`ï¼šQG/EC æ”¿ç­–ï¼ˆå¼•ç”¨ Part 3 / Hard Matrixï¼‰
- `fallback_policy_ref`ï¼šfallback éˆï¼ˆPRIMARYâ†’SECONDARYâ†’FALLBACK çš„é †åºèˆ‡æ¢ä»¶ï¼›ä¸å¯é¡›å€’å®˜æ–¹å„ªå…ˆï¼‰
- `failure_modes_ref`ï¼šå¤±æ•ˆæ¨¡å¼èˆ‡é™ç´šç­–ç•¥ï¼ˆå¼•ç”¨ Part 2 çš„çµ±ä¸€éª¨æ¶æˆ–å…¶æ“´å……ï¼‰
- `change_log_ref`ï¼šæŒ‡å‘ VERSION_AUDIT çš„è®Šæ›´å¸³æœ¬ç´¢å¼•ï¼ˆæœ€å°ï¼šchange_id åˆ—è¡¨æˆ–æŸ¥è©¢éµï¼‰

### B.2.2 Source Recordï¼ˆå»ºè­°æ¬„ä½ï½œOnly-Addï¼‰

- `contact_point`ï¼šå®˜æ–¹/æˆæ¬Šä¾›æ‡‰å•†è¯çµ¡æ–¹å¼ï¼ˆè‹¥å¯ï¼‰
- `rate_limit_policy`ï¼šé€Ÿç‡é™åˆ¶ã€å°é–ç­–ç•¥èˆ‡é‡è©¦é€€é¿ï¼ˆBackoffï¼‰
- `data_lineage_notes`ï¼šä¸Šæ¸¸ä¾è³´ï¼ˆä¾‹å¦‚ç”±å…¬å‘Šå½™æ•´è€Œæˆï¼‰
- `security_classification`ï¼šæ•æ„Ÿç­‰ç´šï¼ˆå°¤å…¶ BROKER_API/å¸³å‹™/å€‹è³‡ï¼‰
- `redaction_policy_ref`ï¼šè„«æ•è¦å‰‡ï¼ˆè¦‹ Appendix Cï¼‰

---

## B.3 Subcategory Registryï¼ˆsubcategory_idï¼‰æœ€å°æ¨¡æ¿ï¼ˆå¿…å¡«ï¼‰

> ç”¨é€”ï¼šå®šç¾©ã€Œè³‡æ–™å­é¡åˆ¥ã€çš„èªç¾©èˆ‡ canonical æœ€å°æ¬„ä½ï¼Œä¸¦å°æ‡‰å¯ç”¨ä¾†æºï¼ˆsource_idï¼‰ã€‚  
> è¦å‰‡ï¼šåªå¢ä¸æ¸›ï¼›ä¸å¯ç”¨ç¬¬ä¸‰æ–¹è³‡æ–™å–ä»£å®˜æ–¹åˆ¶åº¦è£æ±ºä¾æ“šã€‚

### B.3.1 Subcategory Recordï¼ˆæœ€å°æ¬„ä½ï¼‰

- `subcategory_id`ï¼šå”¯ä¸€è­˜åˆ¥ï¼ˆä¸å¯é‡ç”¨ï¼›ä¸å¯æ”¹å¯«èªç¾©ï¼‰
- `subcategory_name`ï¼šå­é¡åˆ¥åç¨±ï¼ˆéœ€ä¸­æ–‡ï¼›è‹±æ–‡å¯é™„ï¼‰
- `domain`ï¼š`MARKET_DATA / CORPORATE_ACTION / FUNDAMENTAL / FLOW / REFERENCE / RULEBOOK / BROKER / OPS`
- `primary_sources[]`ï¼šPRIMARY çš„ `source_id`ï¼ˆè‡³å°‘ 1ï¼›è‹¥ç„¡ï¼Œå¿…é ˆæ˜ç¤º `NO_PRIMARY_AVAILABLE` ä¸¦æ¨™è¨˜ä¸å¯åˆè¦è£æ±ºï¼‰
- `secondary_sources[]`ï¼šSECONDARY çš„ `source_id`ï¼ˆå¯ç©ºï¼‰
- `fallback_sources[]`ï¼šFALLBACK çš„ `source_id`ï¼ˆå¯ç©ºï¼›è‹¥æœ‰å¿…é è¨­ compliance_eligible=falseï¼‰
- `canonical_min_fields[]`ï¼šcanonical æœ€å°æ¬„ä½ï¼ˆæ¬„ä½èªç¾©ä¸å¯å·æ›ï¼‰
- `temporal_granularity`ï¼š`TICK / 1m / 5m / DAILY / EVENT / PERIODIC`
- `timezone`ï¼šé è¨­ `Asia/Taipei`ï¼ˆè‹¥ä¸åŒéœ€æ˜ç¤ºä¸¦è¨˜éŒ„ normalize è¦å‰‡ï¼‰
- `unit_convention`ï¼šæ•¸é‡/é‡‘é¡/åƒ¹æ ¼å–®ä½ï¼ˆä¾‹å¦‚ï¼šè‚¡/å¼µã€å…ƒã€é»ï¼‰
- `validation_ruleset_ref`ï¼šæ ¡é©—è¦å‰‡ï¼ˆschema/domain/temporalï¼‰
- `normalization_ruleset_ref`ï¼šæ­£è¦åŒ–è¦å‰‡ï¼ˆfield_map ç‰ˆæœ¬ã€å¡«å€¼ç­–ç•¥ã€å…¬å¸è¡Œå‹•èª¿æ•´ç•™ç—•ï¼‰
- `required_artifacts[]`ï¼ˆç¡¬è¦æ±‚ï¼‰ï¼š
  - `raw_payload_ref`
  - `provenance_map_ref`
  - `hash_manifest_ref`
  - `field_map_ref`
  - `quality_report_ref`
  - `active_version_map_ref`
- `missing_behavior`ï¼šç¼ºå£è¡Œç‚ºï¼ˆ`RETURN / FAIL / BLOCK` ä¹‹è¦å‰‡å¼•ç”¨ï¼‰
- `evidence_usage_policy`ï¼šå¯å¦é€² Evidenceï¼ˆéœ€å— QG/EC èˆ‡åˆè¦å¯ç”¨æ€§å®£å‘Šç´„æŸï¼‰
- `audit_checks_ref`ï¼šç¨½æ ¸æª¢æ ¸è¡¨å¼•ç”¨ï¼ˆå¯å¼•ç”¨ Appendix A çš„ A.6ï¼‰

### B.3.2 Subcategory Recordï¼ˆå»ºè­°æ¬„ä½ï½œOnly-Addï¼‰

- `sla_lag_window`ï¼šå¯æ¥å—å»¶é²çª—ï¼ˆä¾‹ï¼šå…¬å‘Š/æ—¥è³‡æ–™ T+1ï¼‰
- `backfill_policy`ï¼šè£œè³‡æ–™æ”¿ç­–ï¼ˆå¯å¦è¿½æº¯è£œé½Šï¼›è£œé½Šéœ€ç•™ç—•ï¼‰
- `parser_regression_fixture_ref`ï¼šè§£æå™¨å›æ­¸æ¸¬è©¦æ¨£æœ¬ï¼ˆPart 4 å¯å¼•ç”¨ï¼‰
- `ui_disclosure_policy`ï¼šUI é¡¯ç¤ºéœ€æ­éœ²çš„ provenance/é™ç´šæ¬„ä½ï¼ˆä¸å¾—éœé»˜ï¼‰

---

## B.4 Endpoint Catalogï¼ˆç«¯é»æ¸…å–®ï¼‰æ¨¡æ¿ï¼ˆsource_id å¿…å¡«ï¼‰

> ç”¨é€”ï¼šæŠŠã€Œå–å¾—æ–¹å¼ã€åˆ¶åº¦åŒ–ç‚ºè­‰æ“šçš„ä¸€éƒ¨åˆ†ï¼ˆå‘¼æ‡‰ Part 4 çµ‚æ¥µè£æ±ºèªå¥ï¼‰ã€‚  
> æ³¨æ„ï¼šç«¯é»è³‡è¨Šå±¬å·¥ç¨‹è³‡ç”¢ï¼Œä½†å…¶ã€Œå­˜åœ¨èˆ‡å¯ç¨½æ ¸æ€§ã€å±¬æ²»ç†ç¡¬è¦æ±‚ã€‚

### B.4.1 Endpoint Recordï¼ˆæœ€å°æ¬„ä½ï¼‰

- `endpoint_id`ï¼šç«¯é»è­˜åˆ¥ï¼ˆåŒ source_id ä¸‹å”¯ä¸€ï¼‰
- `endpoint_type`ï¼š
  - `HTTP_JSON / HTTP_CSV / HTTP_HTML / SFTP / FILE_DOWNLOAD / STREAM / SDK / BROKER_API`
- `base_url_or_channel`ï¼šURL / channel / SDK åç¨±ï¼ˆè‹¥ç‚º BROKER_APIï¼Œåƒ…å¡«ã€Œé¡å‹èˆ‡ä»£è™Ÿã€ä¸å¾—æ´©æ¼å¯†é‘°ï¼‰
- `auth_method`ï¼š`NONE / API_KEY / OAUTH / SESSION / CERT / CONTRACT_ONLY`
- `access_scope`ï¼šå¯å–å¾—çš„è³‡æ–™ç¯„åœèˆ‡é™åˆ¶
- `rate_limit`ï¼šé€Ÿç‡é™åˆ¶ï¼ˆè‹¥æœªçŸ¥å¡« `UNKNOWN` ä¸¦åœ¨ failure_modes è¦ç¯„ä¿å®ˆé€€å›ï¼‰
- `payload_retention_policy`ï¼šraw payload ä¿å­˜ç­–ç•¥ï¼ˆä¸å¾—ä½æ–¼ Part 4 è¦æ±‚ï¼‰
- `snapshot_method`ï¼šå¿«ç…§æ–¹å¼ï¼ˆä¸‹è¼‰æª”ã€æ“·å– HTMLã€ä¿å­˜å›æ‡‰ã€æˆªåœ–ç­‰ï¼‰
- `integrity_method`ï¼šå®Œæ•´æ€§æ–¹æ³•ï¼ˆhashã€ç°½ç« ã€æª”æ¡ˆæ ¡é©—ç¢¼ï¼‰
- `parser_id`ï¼šè§£æå™¨è­˜åˆ¥ï¼ˆå°æ‡‰ parser ç‰ˆæœ¬/è¦æ ¼ï¼‰
- `fallback_endpoint_id`ï¼šç«¯é»ç´š fallbackï¼ˆåŒ tier å…§å„ªå…ˆï¼›è·¨ tier ä»é ˆéµå®ˆå®˜æ–¹å„ªå…ˆï¼‰

---

## B.5 Provenance Manifestï¼ˆä¾†æºè¿½æº¯ï¼‰æœ€å°æ¬„ä½ï¼ˆå¿…å¡«ï¼‰

> ç›®æ¨™ï¼šä»»ä½•è³‡æ–™é»ï¼ˆæˆ–è³‡æ–™æ‰¹æ¬¡ï¼‰éƒ½å¿…é ˆèƒ½å›æŒ‡ã€Œä¾†æºè­‰æ“šã€ã€‚  
> åŸå‰‡ï¼šç¼º provenance ä¸å¾—é€²è£æ±ºéˆï¼ˆä¸»æ–‡æ—¢æœ‰ç¡¬è¦å‰‡ï¼‰ã€‚

### B.5.1 Provenance Mapï¼ˆæœ€å°æ¬„ä½ï¼‰

- `source_id`
- `endpoint_id`
- `captured_at`ï¼šæ“·å–æ™‚é–“ï¼ˆISO-8601ï¼›å«æ™‚å€æˆ–æ˜ç¤ºæ¡ Asia/Taipeiï¼‰
- `request_fingerprint`ï¼šè«‹æ±‚æŒ‡ç´‹ï¼ˆä¸å«æ©Ÿæ•ï¼›å¯ç‚º query params hashï¼‰
- `response_fingerprint`ï¼šå›æ‡‰æŒ‡ç´‹ï¼ˆhash æˆ–æ‘˜è¦ï¼‰
- `raw_payload_ref`ï¼šåŸå§‹å›æ‡‰å­˜æ”¾å¼•ç”¨
- `raw_payload_hash`ï¼šåŸå§‹å›æ‡‰ hash
- `content_type`ï¼š`application/json` / `text/html` ç­‰
- `license_note`ï¼šæˆæ¬Šé™åˆ¶æ‘˜è¦ï¼ˆç„¡å‰‡ `NONE`ï¼‰
- `redaction_applied`ï¼šæ˜¯å¦å·²è„«æ•ï¼ˆ`true/false`ï¼›è‹¥ true å¿…æœ‰ redaction_report_refï¼‰
- `rulebook_snapshot_ref`ï¼ˆå¦‚æ¶‰åŠåˆ¶åº¦/è¦å‰‡å¼•ç”¨ï¼‰ï¼š
  - å¿…å¡«ï¼šåˆ¶åº¦è£æ±ºéˆæ‰€å¼•ç”¨ä¹‹è¦å‰‡å¿«ç…§ï¼ˆç¼ºå¤±å‰‡åˆè¦ç”¨é€”å¿… veto/blockï¼‰
- `page_locator`ï¼ˆå¦‚ä¾†æºç‚º HTML/å…¬å‘Šé ï¼‰ï¼š
  - `url`
  - `section_or_table_id`
  - `line_range_or_xpath`ï¼ˆå¯é¸ï¼Œä½†é¼“å‹µï¼‰
- `notes`ï¼šè£œå……ï¼ˆä¸å¯ç”¨æ­¤æ¬„ä½å·æ›èªç¾©ï¼›åƒ…æè¿°å–å¾—æƒ…å¢ƒï¼‰

---

## B.6 Snapshot / Replayï¼ˆå¿«ç…§èˆ‡å›æ”¾ï¼‰æœ€å°æ¬„ä½ï¼ˆå¿…å¡«ï¼‰

> ç›®æ¨™ï¼šå¯å›æ”¾ï¼ˆReplayableï¼‰æ˜¯ã€Œèƒ½ä¸èƒ½è¢«ç”¨ä¾†è£æ±ºã€çš„å…ˆæ±ºæ¢ä»¶ä¹‹ä¸€ã€‚

### B.6.1 Snapshot Recordï¼ˆæœ€å°æ¬„ä½ï¼‰

- `source_snapshot_ref`ï¼šå¿«ç…§å¼•ç”¨ï¼ˆå¯æŒ‡å‘æª”æ¡ˆ/ç‰©ä»¶å„²å­˜ï¼‰
- `snapshot_created_at`
- `snapshot_scope`ï¼šæ¶µè“‹ç¯„åœï¼ˆæ—¥æœŸ/å•†å“/å¸‚å ´/ç«¯é»ï¼‰
- `hash_manifest_ref`ï¼šhash æ¸…å–®å¼•ç”¨
- `active_version_map_ref`ï¼šç‰ˆæœ¬æ˜ å°„å¼•ç”¨ï¼ˆè‡³å°‘åŒ…å«ï¼šparser ç‰ˆæœ¬ã€field_map ç‰ˆæœ¬ã€ruleset ç‰ˆæœ¬ï¼‰
- `immutability_level`ï¼šä¸å¯è®Šæ›´ç­‰ç´šï¼ˆä¾‹å¦‚ WORM/append-onlyï¼›ä¾ç’°å¢ƒè¦ç¯„ï¼‰
- `replayability_assertion`ï¼š
  - `true`ï¼šå¯å›æ”¾
  - `false`ï¼šä¸å¯å›æ”¾ï¼ˆå‰‡ä¸å¾—é€² L5/L6/L7 è£æ±ºç”¨é€”ï¼›å¿…é ˆ RETURN/BLOCK ç”±ä¸Šä½è¦å‰‡æ±ºå®šï¼‰
- `missing_items[]`ï¼šè‹¥ä¸å¯å›æ”¾ï¼Œåˆ—å‡ºç¼ºå£ï¼ˆä¸å¾—ç©ºç™½ï¼‰

---

## B.7 Quality Reportï¼ˆå“è³ªå ±å‘Šï¼‰æœ€å°æ¬„ä½ï¼ˆå¿…å¡«ï¼‰

> ç›®æ¨™ï¼šæŠŠè³‡æ–™å“è³ªï¼ˆQGï¼‰èˆ‡è­‰æ“šå®Œæ•´åº¦ï¼ˆECï¼‰è½åœ°æˆã€Œæ¯æ‰¹æ¬¡å¿…ç”¢å‡ºã€çš„å·¥ä»¶ã€‚

### B.7.1 Quality Reportï¼ˆæœ€å°æ¬„ä½ï¼‰

- `quality_report_ref`
- `quality_grade`ï¼šQG-A/B/C/Dï¼ˆä¾ Part 3ï¼‰
- `quality_flags[]`ï¼šQF_*ï¼ˆè¦‹ B.8ï¼‰
- `evidence_completeness`ï¼šEC-0~EC-4ï¼ˆä¾ Part 3ï¼‰
- `computed_at`
- `computed_by`ï¼šæ¨¡çµ„/ç‰ˆæœ¬ï¼ˆä¾‹å¦‚ validator vX.Yï¼‰
- `affected_subcategory_id`
- `coverage`ï¼šæ¶µè“‹ç¯„åœï¼ˆæ—¥æœŸ/ç­†æ•¸ï¼‰
- `actions_enforced[]`ï¼šç¡¬å‹•ä½œï¼ˆRETURN/FAIL/BLOCK/VETO ç­‰ï¼›å°æ‡‰ Hard Matrixï¼‰
- `reason_codes[]`ï¼šRC_*ï¼ˆè¦‹ B.9ï¼›ä¸å¾—ç©ºç™½ï¼‰
- `ui_disclosure_required`ï¼šæ˜¯å¦å¿…é ˆåœ¨ UI é¡¯ç¤ºé™ç´šï¼ˆç¼ºå£ä¸å¾—éœé»˜ï¼‰

---

## B.8 Quality Flagsï¼ˆQF_*ï¼‰å»ºè­°æ¨™æº–åŒ–å­—å…¸ï¼ˆOnly-Add å¯å¢ä¸å¯æ¸›ï¼‰

> æ³¨æ„ï¼šæ­¤ç‚ºã€Œå»ºè­°æ¨™æº–å­—å…¸ã€ï¼Œç”¨æ–¼ä¸€è‡´æ€§ï¼›å¯¦ä½œæ™‚å¯æ“´å……æ›´ç´°ï¼Œä½†ä¸å¾—æ”¹å¯«æ—¢æœ‰å«ç¾©ã€‚

- `QF_PROV_MISSING`ï¼šprovenance ç¼ºå¤±æˆ–ä¸å®Œæ•´
- `QF_HASH_MISSING`ï¼šhash_manifest æˆ– raw_payload_hash ç¼ºå¤±
- `QF_VERSION_MAP_MISSING`ï¼šactive_version_map_ref ç¼ºå¤±
- `QF_SCHEMA_DRIFT`ï¼šschema æ¼‚ç§»ï¼ˆæ¬„ä½æ–°å¢/åˆªé™¤/å‹åˆ¥æ”¹è®Šæœªæ›´æ–° rulesetï¼‰
- `QF_TIMEZONE_UNKNOWN`ï¼šæ™‚å€ä¸æ˜æˆ–æœªèƒ½ä¸€è‡´åŒ–
- `QF_UNIT_UNKNOWN`ï¼šå–®ä½ä¸æ˜æˆ–æœªèƒ½ä¸€è‡´åŒ–
- `QF_OUT_OF_LAG_WINDOW`ï¼šè¶…å‡ºå…è¨±å»¶é²çª—
- `QF_PARTIAL_COVERAGE`ï¼šè³‡æ–™è¦†è“‹ä¸å®Œæ•´ï¼ˆç¼ºæ—¥æœŸ/ç¼ºå•†å“ï¼‰
- `QF_DUPLICATE_OR_CONFLICT`ï¼šé‡è¤‡æˆ–äº’ç›¸çŸ›ç›¾
- `QF_PARSER_ERROR`ï¼šè§£æå™¨éŒ¯èª¤
- `QF_AUTH_EXPIRED`ï¼šæˆæ¬Šå¤±æ•ˆï¼ˆSECONDARY/BROKER å¸¸è¦‹ï¼‰
- `QF_FALLBACK_USED`ï¼šä½¿ç”¨ fallbackï¼ˆéœ€åŒæ­¥è¼¸å‡º compliance_eligible=false é è¨­ï¼‰

---

## B.9 Reason Codesï¼ˆRC_*ï¼‰å»ºè­°æ¨™æº–åŒ–å­—å…¸ï¼ˆOnly-Add å¯å¢ä¸å¯æ¸›ï¼‰

> ç›®æ¨™ï¼šè®“ RETURN/FAIL/BLOCK/VETO éƒ½èƒ½è¢«ã€Œä¸€è‡´ã€å¯æª¢æŸ¥ã€åœ°è§£é‡‹ï¼Œé¿å…éœé»˜é™ç´šæˆ–é»‘ç›’è£æ±ºã€‚

### B.9.1 RETURN é¡ï¼ˆå¯è£œï¼‰

- `RC_OFFICIAL_TEMP_UNAVAILABLE`ï¼šå®˜æ–¹ç«¯é»æš«æ™‚ä¸å¯ç”¨ï¼ˆå¯é‡è©¦ï¼‰
- `RC_LAG_NOT_READY`ï¼šå°šåœ¨å®˜æ–¹å»¶é²çª—å…§ï¼ˆç­‰å¾…æ›´æ–°ï¼‰
- `RC_FIELDS_PARTIAL_NEED_BACKFILL`ï¼šæ¬„ä½ç¼ºæ¼éœ€è£œé½Š
- `RC_CALENDAR_MISSING`ï¼šäº¤æ˜“æ—¥æ›†/ä¼‘å¸‚è³‡è¨Šç¼ºå¤±

### B.9.2 FAIL é¡ï¼ˆä¸å¯æ¢å¾©ï¼‰

- `RC_ENDPOINT_DEPRECATED`ï¼šç«¯é»åœç”¨/æ°¸ä¹…è®Šæ›´
- `RC_PARSER_OUTDATED`ï¼šè§£æå™¨ç‰ˆæœ¬è½å¾Œ
- `RC_LICENSE_DENIED`ï¼šæˆæ¬Š/åˆç´„ä¸å…è¨±
- `RC_AUTH_INVALID`ï¼šèªè­‰ç„¡æ•ˆä¸”ä¸å¯æ¢å¾©

### B.9.3 BLOCK é¡ï¼ˆç³»çµ±å®Œæ•´æ€§ä¸è¶³ï¼‰

- `RC_PROVENANCE_INCOMPLETE`ï¼šProvenance ä¸å®Œæ•´
- `RC_HASH_INCOMPLETE`ï¼šhash ä¸å®Œæ•´
- `RC_VERSION_MAP_INCOMPLETE`ï¼šç‰ˆæœ¬æ˜ å°„ä¸å®Œæ•´
- `RC_SNAPSHOT_NOT_IMMUTABLE`ï¼šå¿«ç…§ä¸å¯ä¿è­‰ä¸å¯è®Šæ›´
- `RC_REPLAY_NOT_POSSIBLE`ï¼šä¸å¯å›æ”¾ï¼ˆä¸å¾—å®£ç¨±å¯è¿½æº¯ï¼‰

### B.9.4 VETO / COMPLIANCE é¡ï¼ˆåˆè¦ä¸å¯ç”¨ï¼‰

- `RC_RULEBOOK_SNAPSHOT_MISSING`ï¼šè¦å‰‡å¿«ç…§ç¼ºå¤±ï¼ˆåˆè¦è£æ±ºå¿… veto/blockï¼‰
- `RC_FALLBACK_NOT_COMPLIANCE_ELIGIBLE`ï¼šfallback ä¾†æºä¸å¯ä½œåˆè¦è£æ±º
- `RC_OFFICIAL_REFERENCE_REQUIRED`ï¼šç¼ºå®˜æ–¹å¼•ç”¨ï¼ˆåˆ¶åº¦è£æ±ºéˆéœ€å®˜æ–¹ï¼‰

---

## B.10 æœ€å°ã€Œå°ä½ Canonical å·¥ä»¶ã€æ˜ å°„è¡¨ï¼ˆå·¥ç¨‹æª¢æ ¸ç”¨ï¼‰

> æœ¬è¡¨åƒ…ç”¨æ–¼ã€Œæª¢æŸ¥æ˜¯å¦ç”¢å‡ºå·¥ä»¶ã€ï¼Œä¸æ”¹å¯« MASTER_CANON çš„å±¤ç´šå®šç¾©ã€‚

| Canonical Layer | DATA_UNIVERSE å¿…é ˆèƒ½æä¾›/ç”¢å‡ºä¹‹å¯æª¢æŸ¥å·¥ä»¶ï¼ˆæœ€å°ï¼‰ |
|---|---|
| L1ï¼ˆData Ingestionï¼‰ | `raw_payload_ref`ã€`provenance_map_ref`ã€`raw_payload_hash`ã€`endpoint_id`ã€`captured_at` |
| L2ï¼ˆValidation/Normalizationï¼‰ | `field_map_ref`ã€`validation_ruleset_ref`ã€`normalization_ruleset_ref`ã€`quality_report_ref`ï¼ˆå« QG/QF/EC/RCï¼‰ |
| L3ï¼ˆSnapshot/Stateï¼‰ | `source_snapshot_ref`ã€`hash_manifest_ref`ã€`active_version_map_ref`ã€`replayability_assertion` |
| L5ï¼ˆEvidenceï¼‰ | åƒ…èƒ½æä¾›ã€Œå¯ç”¨/ä¸å¯ç”¨ã€èˆ‡ç¼ºå£ï¼›ä¸å¾—æ›¿ä»£è£æ±ºï¼ˆéœ€éµå®ˆ QG/EC ç¡¬çŸ©é™£ï¼‰ |
| L6/L7ï¼ˆRegime/Riskï¼‰ | åƒ…æä¾›è³‡æ–™å¯ä¿¡åº¦èˆ‡ç¼ºå£æ­éœ²ï¼›ä¸å¾—è¶Šæ¬Šç”¢ç”Ÿ Regime æˆ–é¢¨æ§è£æ±º |
| L11ï¼ˆExecutionï¼‰ | åƒ…æä¾›è³‡æ–™å¯ç”¨æ€§èˆ‡åˆè¦å¯ç”¨æ€§å®£å‘Šï¼›ä¸å¾—æˆæ¬Šä¸‹å–® |

---

## B.11 çµ‚å±€è²æ˜ï¼ˆä¸å¯æ”¹å¯«ï¼›åƒ…é‡ç”³ï¼‰

è³‡æ–™ä¾†æºçš„ã€Œå–å¾—æ–¹å¼ã€æœ¬èº«å°±æ˜¯è­‰æ“šçš„ä¸€éƒ¨åˆ†ã€‚  
ä¸èƒ½ä¿å­˜åŸå§‹è­‰æ“šèˆ‡å¿«ç…§ï¼Œå°±ä¸èƒ½é€²å…¥è£æ±ºéˆï¼›  
ä¸èƒ½è„«æ•ï¼Œå°±ä¸èƒ½é€²å…¥ç¨½æ ¸èˆ‡ UIï¼›  
ä¸èƒ½å›æ”¾ï¼Œå°±ä¸å…è¨±å®£ç¨±å¯è¿½æº¯ã€‚

ï¼ˆAppendix Bï½œDATA_UNIVERSE å·¥ä»¶æ¨¡æ¿ Ã— æ¬„ä½å­—å…¸ Ã— Reason Codesï½œFreeze v1.0ï½œOnly-Addï¼‰

---

# Appendix Cï½œOnly-Addï¼šæ•æ„Ÿè³‡æ–™ï¼ˆBROKER_API/å¸³å‹™/å€‹è³‡ï¼‰è„«æ•èˆ‡æœ€å°æ­éœ²è¦ç¯„ï¼ˆFreeze v1.0ï¼‰

> è£œå……æ€§è³ªï¼šOnly-Addï¼ˆåªå¯æ–°å¢ï¼Œä¸å¯åˆªæ¸›ã€è¦†å¯«ã€å·æ›æ—¢æœ‰èªç¾©ï¼‰  
> é©ç”¨æ–‡ä»¶ï¼šTAITS_è³‡æ–™ä¾†æºå…¨é›†ï¼ˆDATA_UNIVERSEï¼‰__251219ï¼ˆdoc_keyï¼šDATA_UNIVERSEï¼‰  
> ç”Ÿæ•ˆç‹€æ…‹ï¼šGOVERNANCE_STATE = Freeze v1.0  
> ä¸Šä½è£æ±ºï¼šDOCUMENT_INDEX â†’ MASTER_ARCH â†’ MASTER_CANON  
> ç›®çš„ï¼šè£œé½Š Part 4 æ‰€è¿°ã€Œä¸èƒ½è„«æ•å°±ä¸èƒ½é€²ç¨½æ ¸èˆ‡ UIã€ä¹‹æœ€å°å¯åŸ·è¡Œè¦ç¯„ï¼›ä¸æ–°å¢ä»»ä½•æ¬Šé™ï¼Œåªå®šç¾©ã€Œä¸å¾—æ´©æ¼/ä¸å¾—è½ç›¤/ä¸å¾—é¡¯ç¤ºã€çš„ç¡¬é‚Šç•Œã€‚

---

## C.1 é©ç”¨ç¯„åœï¼ˆScopeï¼‰

- `endpoint_type = BROKER_API / SDK` ä¹‹ä»»ä½•è³‡æ–™
- å«æœ‰ä¸‹åˆ—ä»»ä¸€æ•æ„Ÿå…ƒç´ ä¹‹ raw payload / log / snapshotï¼š
  - API Keyã€Tokenã€Secretã€æ†‘è­‰ã€Session Cookieã€ç§é‘°/æ†‘è­‰æª”æŒ‡ç´‹
  - èº«åˆ†è³‡è¨Šï¼ˆå§“åã€èº«åˆ†è­‰ã€é›»è©±ã€åœ°å€ã€Emailï¼‰
  - å¸³å‹™è³‡è¨Šï¼ˆå¸³è™Ÿå…¨ç¢¼ã€å¯è­˜åˆ¥ä¹‹äº¤æ˜“æ˜ç´°ã€è³‡é‡‘æµæ°´å®Œæ•´è­˜åˆ¥ç¢¼ï¼‰
  - å¯å›æ¨ä½¿ç”¨è€…/å¸³æˆ¶çš„å”¯ä¸€è­˜åˆ¥ç¢¼

---

## C.2 ç¡¬é™åˆ¶ï¼ˆHard Rulesï¼‰

- **ä¸å¾—**åœ¨ä»»ä½•å¯è¢« UI å±•ç¤ºæˆ–ç¨½æ ¸é–±è®€çš„è¼¸å‡ºä¸­ï¼Œä¿ç•™å¯ç›´æ¥ä½¿ç”¨ä¹‹æ©Ÿæ•æ†‘è­‰ã€‚
- raw payload è‹¥å«æ©Ÿæ•ï¼š
  - å…è¨±ä¿å­˜ã€Œå·²è„«æ•ç‰ˆæœ¬ã€ä½œç‚º `raw_payload_ref`
  - å¿…é ˆåŒæ­¥ä¿å­˜ `redaction_report_ref`ï¼ˆåˆ—å‡ºè¢«é®ç½©æ¬„ä½èˆ‡é®ç½©è¦å‰‡ï¼‰
- ä»»ä½•æœªå®Œæˆè„«æ•ä¹‹è³‡æ–™ï¼š
  - ä¸å¾—é€²å…¥å¯è¢«å…±äº«çš„ Evidence bundle
  - ä¸å¾—è¢« UI é¡¯ç¤º
  - å¿…é ˆè¢«æ¨™è¨˜ `redaction_applied=false` ä¸¦è§¸ç™¼ `BLOCK/RETURN`ï¼ˆä¾ä¸Šä½ç¡¬çŸ©é™£èˆ‡ç’°å¢ƒè¦ç¯„ï¼‰

---

## C.3 è„«æ•æœ€å°è¦æ ¼ï¼ˆMinimal Redaction Specï¼‰

- Token / Key / Secretï¼š
  - åƒ…ä¿ç•™å‰ 3 ç¢¼èˆ‡å¾Œ 3 ç¢¼ï¼Œå…¶é¤˜ä»¥ `*` é®ç½©
  - æˆ–åƒ…ä¿ç•™ hashï¼ˆä¸å¯é€†ï¼‰èˆ‡é•·åº¦è³‡è¨Š
- å¸³è™Ÿ/èº«ä»½è­˜åˆ¥ï¼š
  - åƒ…ä¿ç•™æœ« 4 ç¢¼ï¼Œå…¶é¤˜é®ç½©
- é‡‘é¡/éƒ¨ä½ï¼š
  - è‹¥æ¶‰åŠå€‹äººå¸³å‹™ï¼šåƒ…ä¿ç•™å€é–“æˆ–ç›¸å°é‡ï¼ˆä¾‹å¦‚åˆ†ä½/å€é–“ï¼‰ï¼Œä¸å¾—ä¿ç•™å¯é‡å»ºå…¨è²Œçš„é€ç­†æ˜ç´°
- Session / Cookieï¼š
  - å…¨é®ç½©ï¼ˆä¸å¾—ç•™éƒ¨åˆ†ï¼‰

---

## C.4 æœ€å°ç¨½æ ¸å¯è¦‹æ¬„ä½ï¼ˆå…è¨±æ­éœ²ï¼‰

åœ¨ä¸æ´©æ¼æ©Ÿæ•å‰æä¸‹ï¼Œå…è¨±ç¨½æ ¸/å›æ”¾ç•™å­˜ï¼š

- `endpoint_type`
- `captured_at`
- `request_fingerprint`ï¼ˆä¸å«æ©Ÿæ•ï¼‰
- `response_fingerprint`
- `raw_payload_hash`ï¼ˆå°å·²è„«æ• payloadï¼‰
- `parser_id`ã€`active_version_map_ref`
- `quality_report_ref`
- `reason_codes[]`ï¼ˆä¸å¾—å«æ©Ÿæ•ï¼‰

ï¼ˆAppendix Cï½œæ•æ„Ÿè³‡æ–™è„«æ•èˆ‡æœ€å°æ­éœ²è¦ç¯„ï½œFreeze v1.0ï½œOnly-Addï¼‰
