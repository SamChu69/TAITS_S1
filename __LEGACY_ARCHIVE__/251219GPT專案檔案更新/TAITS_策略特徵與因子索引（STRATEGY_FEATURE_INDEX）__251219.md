# TAITS_ç­–ç•¥ç‰¹å¾µèˆ‡å› å­ç´¢å¼•ï¼ˆSTRATEGY_FEATURE_INDEXï¼‰__251219
doc_keyï¼šSTRATEGY_FEATURE_INDEX  
æ²»ç†ç­‰ç´šï¼šB+ï¼ˆFeature Governance & Semantic Boundary Charterï½œå…¨çŸ¥è­˜è‡ªæ´½æœ€å¤§å®Œå‚™ç‰ˆï¼‰  
é©ç”¨ç¯„åœï¼šTAITS å…¨ç³»çµ±ï¼ˆResearch / Backtest / Simulation / Paper / Liveï¼‰  
ç‰ˆæœ¬ç‹€æ…‹ï¼šACTIVEï¼ˆç‰¹å¾µå±¤æ²»ç†å°é ‚ï¼‹å¯å±•é–‹çŸ¥è­˜ç´¢å¼•ï¼ŒOnly-Add æ¼”é€²ï¼‰  
ç‰ˆæœ¬æ—¥æœŸï¼š2025-12-19  
å°é½Šæ¯æ³•ï¼šTAITS_AI_è¡Œç‚ºèˆ‡æ±ºç­–æ²»ç†æœ€çµ‚è¦å‰‡å…¨é›†__251217ï¼ˆA+ï¼‰  
ä¸Šä½ç´„æŸï¼šMASTER_ARCH / MASTER_CANON / DOCUMENT_INDEX  
å¹³è¡Œåƒç…§ï¼šSTRATEGY_UNIVERSE / ARCH_FLOW / RISK_COMPLIANCE / VERSION_AUDIT / UI_SPEC / DATA_SOURCES / TWSE_RULES  
è®Šæ›´åŸå‰‡ï¼šOnly-Addï¼ˆåªå¯æ–°å¢ï¼Œä¸å¯åˆªæ¸›ã€ä¸å¯è¦†å¯«ã€ä¸å¯æ”¹å¯«æ—¢æœ‰èªç¾©ã€ä¸å¯å¼±åŒ–é‚Šç•Œï¼‰  
æ ¸å¿ƒå®£å‘Šï¼šFeature â‰  Signal â‰  Strategy â‰  Orderï¼ˆç‰¹å¾µéè¨Šè™Ÿã€éç­–ç•¥ã€éä¸‹å–®ï¼‰  

---

## 0. æ–‡ä»¶å®šä½ï¼ˆæœ€å¤§å®Œå‚™ï½œå…¨çŸ¥è­˜è‡ªæ´½ï¼‰

æœ¬æ–‡ä»¶æ˜¯ TAITS çš„ **ã€Œç­–ç•¥ç‰¹å¾µèˆ‡å› å­ç´¢å¼•ã€**ï¼Œå…¶å®šä½ä¸æ˜¯åˆ—æ¸…å–®è€Œå·²ï¼Œè€Œæ˜¯æä¾›ä¸€ä»½**å³ä½¿æ–°å°è©±åªè®€é€™ä¸€ä»½ï¼Œä¹Ÿèƒ½åˆæ³•å±•é–‹ç­–ç•¥ç ”ç©¶æ‰€éœ€çš„ã€Œèªç¾©æ†²æ³•ï¼‹çŸ¥è­˜ç´¢å¼•ã€**ã€‚

æœ¬æ–‡ä»¶åŒæ™‚æ»¿è¶³å…©å€‹ç›®æ¨™ï¼š

1) **æ²»ç†å°é ‚ï¼ˆHard Governanceï¼‰**  
- æ˜ç¢ºå®šç¾© Feature çš„æ³•å®šæ„ç¾©  
- æ˜ç¢ºå®šç¾© Feature çš„åˆæ³•ä½¿ç”¨è·¯å¾‘ï¼ˆFeatureâ†’Evidenceâ†’Regimeâ†’Riskâ†’Strategyâ†’Humanâ†’Executionï¼‰  
- æ˜ç¢ºåˆ—å‡ºç¦æ­¢äº‹é …èˆ‡é•è¦åˆ¤å®šï¼ˆå¯è¢«å¯©è¨ˆã€å¯è¢«é˜»æ–·ï¼‰

2) **å…¨çŸ¥è­˜è‡ªæ´½ï¼ˆKnowledge Self-Containedï¼‰**  
- å°‡å¸¸ç”¨æ–¹æ³•è«–ï¼ˆGMMAã€é¡§æ¯”å€’æ•¸ç·šã€å¨ç§‘å¤«ã€é®‘è¿ªå…‹çºè«–ç­‰ï¼‰è½åœ¨ Feature å±¤ï¼Œä¸¦ä»¥ã€Œæè¿°æ€§è¼¸å‡ºã€è¡¨é”  
- æä¾› Feature â†’ Evidence çµ„è£æ–¹å¼ â†’ Regime å°æ‡‰ â†’ Strategy é©ç”¨é‚è¼¯ çš„å±•é–‹è¦å‰‡  
- æä¾›ã€Œå‚™è¨»ã€è®“æ–°å°è©±èƒ½æ¸…æ¥šç†è§£æ¯é¡ Feature å¸¸ç”¨åˆ°çš„è³‡æ–™ã€æŒ‡æ¨™ã€çµæ§‹èªç¾©èˆ‡å¸¸è¦‹é™·é˜±ï¼ˆlookaheadã€è³‡æ–™å»¶é²ã€éåº¦ä¿¡è™ŸåŒ–ï¼‰

ğŸ“Œ æœ¬æ–‡ä»¶ä¸è² è²¬ï¼ˆé¿å…è¶Šæ¬Šï¼‰ï¼š  
- ä¸å®šç¾© Canonical Flow é †åºï¼ˆç”± MASTER_CANON / ARCH_FLOW è£æ±ºï¼‰  
- ä¸å®šç¾©å¦æ±ºé–€æª»èˆ‡ç†ç”±ç¢¼å…¨é›†ï¼ˆç”± RISK_COMPLIANCE è£æ±ºï¼‰  
- ä¸å®šç¾© UI å¤–è§€ï¼ˆç”± UI_SPEC è£æ±ºï¼‰  
- ä¸è¼¸å‡ºäº¤æ˜“æ–¹å‘ã€ä¸è¼¸å‡ºä¸‹å–®æŒ‡ä»¤ã€ä¸æ‰¿è«¾ç¸¾æ•ˆ  

---

## 1. Feature çš„æ³•å®šå®šç¾©ï¼ˆä¸å¯æ”¹å¯«ï¼‰

### 1.1 Feature æ˜¯ä»€éº¼ï¼ˆLegal Definitionï¼‰
Featureï¼ˆç‰¹å¾µ/å› å­ï¼‰æ˜¯ï¼š

> å°å¸‚å ´ã€æ¨™çš„ã€åƒèˆ‡è€…è¡Œç‚ºæˆ–ç’°å¢ƒç‹€æ…‹çš„ã€Œå¯é‡åŒ–/å¯æè¿°ã€è¡¨å¾µï¼Œ  
> å…¶è¼¸å‡ºå¿…é ˆæ˜¯**æè¿°æ€§ï¼ˆDescriptiveï¼‰**ï¼Œä¸å¯è¢«ç›´æ¥è§£é‡‹ç‚ºæ–¹å‘æˆ–è¡Œå‹•ã€‚

Feature çš„å¿…å‚™å±¬æ€§ï¼š
- **å¯è¿½æº¯ï¼ˆProvenanceï¼‰**ï¼šçŸ¥é“ä¾†è‡ªå“ªå€‹è³‡æ–™æºã€å“ªå€‹ç‰ˆæœ¬ã€å“ªå€‹æ™‚é–“æˆ³  
- **å¯å›æ”¾ï¼ˆReplayableï¼‰**ï¼šåŒä¸€è³‡æ–™/ç‰ˆæœ¬è¼¸å…¥å¯é‡å»ºåŒä¸€è¼¸å‡º  
- **å¯å¯©è¨ˆï¼ˆAuditableï¼‰**ï¼šèƒ½è¢«è¨˜éŒ„åˆ°å¯©è¨ˆç‰©ï¼Œç„¡ç´€éŒ„è¦–ç‚ºä¸å­˜åœ¨  
- **éæ±ºç­–ï¼ˆNon-Decisiveï¼‰**ï¼šä¸å¾—ç›´æ¥ç”¢ç”Ÿè²·è³£å»ºè­°æˆ–è¡Œç‚ºæŒ‡ä»¤  

### 1.2 Feature ä¸æ˜¯ä»€éº¼ï¼ˆHard Negationï¼‰
Feature æ°¸é ä¸æ˜¯ï¼š
- äº¤æ˜“è¨Šè™Ÿï¼ˆSignalï¼‰  
- ç­–ç•¥ï¼ˆStrategyï¼‰  
- å»ºè­°ï¼ˆRecommendationï¼‰  
- æŒ‡ä»¤ï¼ˆInstructionï¼‰  
- ä¸‹å–®è§¸ç™¼å™¨ï¼ˆOrder Triggerï¼‰  

---

## 2. Feature â‰  Signal â‰  Strategy â‰  Orderï¼ˆæ²»ç†éµå¾‹ï¼‰

### 2.1 å±¤ç´šéš”é›¢ï¼ˆLayer Isolationï½œç¡¬é‚Šç•Œï¼‰
å”¯ä¸€åˆæ³•è·¯å¾‘å¦‚ä¸‹ï¼ˆä¸å¯è·³æ­¥ï¼‰ï¼š

Featureï¼ˆL4è¼¸å‡ºï¼‰
â†’ Evidenceï¼ˆL5ï¼‰
â†’ Regimeï¼ˆL6ï¼‰
â†’ Risk/Compliance Gateï¼ˆL7ï¼‰
â†’ Strategy Proposalï¼ˆL8ï¼‰
â†’ Governance Gateï¼ˆL9ï¼‰
â†’ Human Decisionï¼ˆL10ï¼‰
â†’ Executionï¼ˆL11ï¼‰

ä»»ä½•é•åæ­¤è·¯å¾‘çš„è¡Œç‚ºï¼Œå‡å±¬æ²»ç†é•è¦ï¼š
- `GOV-FEATURE-JUMP`ï¼šFeature è¶Šç´šè¼¸å‡ºåˆ° Strategy/Execution  
- `GOV-FEATURE-SIGNALIZE`ï¼šFeature è¢«ä¿¡è™ŸåŒ–ï¼ˆç”¨æ–¹å‘æ€§èªè¨€å‘ˆç¾æˆ–è¢«ç•¶ä½œè²·è³£æ¢ä»¶ï¼‰  
- `GOV-FEATURE-OVERRIDE`ï¼šFeature è©¦åœ–è¦†å¯« Risk/Compliance æˆ– Human è£æ±º  

---

## 3. Feature çš„åˆæ³•ç”¨é€”ï¼ˆOnly Legal Usesï¼‰

Feature åªèƒ½ç”¨æ–¼ï¼š
1) çµ„æˆ Evidence Bundle çš„å…ƒç´ ï¼ˆL5ï¼‰  
2) å”åŠ© Regime åˆ¤å®šï¼ˆä½œç‚ºç‹€æ…‹æè¿°è¼¸å…¥ï¼Œä¸æ˜¯æ–¹å‘è¼¸å…¥ï¼‰ï¼ˆL6ï¼‰  
3) ç´„æŸç­–ç•¥ã€Œé©ç”¨æ€§ã€èˆ‡ã€Œå¯ä¿¡åº¦æ¢ä»¶ã€ï¼ˆL8ï¼šç­–ç•¥æ˜¯å¦å¯è¢«æå‡ºï¼Œè€Œéæ˜¯å¦è¦äº¤æ˜“ï¼‰  
4) æä¾›å¯©è¨ˆ/è§£é‡‹/å›æ”¾ç´ æï¼ˆL10 UI è§£é‡‹èˆ‡ L11 å›æ”¾ï¼‰  

Feature æ°¸é ä¸èƒ½ç”¨æ–¼ï¼š
- å–®ä¸€ Feature ç›´æ¥ä¸‹çµè«–ï¼ˆä¾‹å¦‚ã€ŒGMMA è½‰å¤šï¼è²·ã€ï¼‰  
- ä»¥ Feature å–®ç¨å½¢æˆç­–ç•¥ï¼ˆç­–ç•¥å¿…é ˆæ˜¯ Evidenceï¼‹Regimeï¼‹Riskï¼‹Human çš„ç”¢ç‰©ï¼‰  
- ä»¥ Feature ä½œç‚ºç¸¾æ•ˆè¾¯è­·æˆ–ç¸¾æ•ˆæ‰¿è«¾ä¾æ“š  

---

## 4. Feature ç¦æ­¢äº‹é …ï¼ˆHard Prohibition Blacklistï¼‰

### 4.1 èªç¾©é•è¦ï¼ˆSemantic Violationsï¼‰
- å°‡ Feature çš„æ•¸å€¼/ç‹€æ…‹ç›´æ¥ç¿»è­¯æˆã€Œè²·/è³£/é€²/å‡ºã€  
- ä½¿ç”¨æ–¹å‘æ€§è©å½™æè¿° Feature è¼¸å‡ºï¼ˆå¦‚ï¼šçœ‹å¤š/çœ‹ç©º/å¿…æ¼²/å¿…è·Œ/é€²å ´/å‡ºå ´ï¼‰  
- åœ¨ Feature å±¤åšã€Œè¨Šè™Ÿå¼·å¼±æ’è¡Œã€ä¸¦ç•¶ä½œä¸‹å–®ä¾æ“š  

### 4.2 æŠ€è¡“æ¿«ç”¨ï¼ˆTechnical Abuseï¼‰
- ä»¥ Feature å°é½Šç¸¾æ•ˆåšè¶…åƒæ•¸æœ€ä½³åŒ–ï¼ˆOptimization / Overfittingï¼‰  
- ä»¥ Feature çš„å–®ä¸€çµæœåšå›æ¸¬æ­¸å› ï¼ˆFeature Attribution â‰  Profit Attributionï¼‰  
- ä»¥ Feature ä½œç‚ºæ¨¡å‹çš„å–®ä¸€æå¤±ç›®æ¨™ï¼ˆå°è‡´ Feature è®Šæˆä¿¡è™Ÿï¼‰

### 4.3 æ²»ç†é•è¦ï¼ˆGovernance Violationsï¼‰
- Feature ç›´æ¥è¼¸å‡ºåˆ° Execution  
- Feature ç¹é Evidence / Regime / Risk Gate  
- ç¼ºå¯©è¨ˆç‰©ä»å…è¨± Feature åƒèˆ‡æ±ºç­–éˆ  
- Feature è¢«ä»¥ UI æˆ–æ–‡å­—æš—ç¤ºç‚ºã€Œæ¨è–¦è¡Œç‚ºã€  

---

## 5. Feature çš„æ¨™æº–è³‡æ–™çµæ§‹ï¼ˆFeature Meta Schemaï½œæœ€å¤§å®Œå‚™ï¼‰

> æœ¬ç¯€ç‚ºå·¥ç¨‹èˆ‡æ²»ç†å…±ç”¨ï¼šä»»ä½• Feature å¿…é ˆèƒ½è¢«ã€Œçµæ§‹åŒ–ã€æè¿°ã€‚  
> å¯æ“´å……ï¼Œä¸å¯ç¸®æ¸›ã€‚

### 5.1 FeatureMetaï¼ˆæœ€å°å¿…å¡«ï¼‰
- `feature_id`ï¼šå”¯ä¸€ IDï¼ˆå»ºè­°ï¼š`FTR.<domain>.<family>.<name>.<version>`ï¼‰  
- `feature_name_zh`ï¼šä¸­æ–‡å  
- `feature_name_en`ï¼šè‹±æ–‡åï¼ˆå¦‚æœ‰ï¼‰  
- `domain`ï¼šè³‡æ–™é¢å‘ï¼ˆTECH/FUND/FLOW/SENT/MACRO/RISK/STRUCT/EXECï¼‰  
- `family`ï¼šå®¶æ—ï¼ˆTrend/Momentum/Volatility/Structure/Valuation/Quality/Growth/Liquidity/Eventâ€¦ï¼‰  
- `methodology_tags`ï¼šæ–¹æ³•è«–æ¨™ç±¤ï¼ˆGMMA/Wyckoff/ChanLun_Bodickâ€¦å¯å¤šé¸ï¼‰  
- `timeframe`ï¼šé©ç”¨é€±æœŸï¼ˆTick/1m/5m/1h/1D/1W/1Mâ€¦ï¼‰  
- `inputs`ï¼šæ‰€éœ€åŸå§‹æ¬„ä½ï¼ˆå°æ‡‰ DATA_SOURCES çš„æ¬„ä½å‘½åæˆ– Canonical Fieldï¼‰  
- `lookahead_policy`ï¼šå‰è¦–ç¦ä»¤è²æ˜ï¼ˆå¿…å¡«ï¼‰  
- `data_latency`ï¼šè³‡æ–™å»¶é²æ€§ï¼ˆå³æ™‚/å»¶é²/å…¬å‘Šå»¶é²/ä¸å®šæœŸï¼‰  
- `output_type`ï¼šè¼¸å‡ºå‹æ…‹ï¼ˆScalar/Vector/Label/State/Distributionï¼‰  
- `output_semantics`ï¼šæè¿°æ€§èªç¾©ï¼ˆä¸å¾—å«æ–¹å‘ï¼‰  
- `quality_checks`ï¼šå“è³ªæª¢æŸ¥ï¼ˆç¼ºå€¼/ç•°å¸¸/åœç‰Œ/åˆ†ç›¤ï¼‰  
- `audit_requirements`ï¼šå¯©è¨ˆè¦æ±‚ï¼ˆhash/provenance/snapshotï¼‰  
- `allowed_uses`ï¼šå…è¨±ç”¨é€”ï¼ˆåªèƒ½åˆ—æœ¬æ–‡ä»¶ç¬¬3ç¯€å…è¨±é …ï¼‰  
- `forbidden_uses`ï¼šç¦æ­¢ç”¨é€”ï¼ˆå°æ‡‰ç¬¬4ç¯€ï¼‰  

### 5.2 FeatureOutputï¼ˆæè¿°æ€§è¼¸å‡ºè¦ç¯„ï¼‰
Feature è¼¸å‡ºåªå…è¨±ï¼š
- **ç‹€æ…‹ï¼ˆStateï¼‰**ï¼šä¾‹å¦‚ã€Œè¶¨å‹¢çµæ§‹ï¼šå»¶çºŒ/ç›¤æ•´/ç ´å£ã€  
- **æ¨™ç±¤ï¼ˆLabelï¼‰**ï¼šä¾‹å¦‚ã€Œå¨ç§‘å¤«éšæ®µï¼šA/B/C/D/Eã€  
- **é‡åŒ–åº¦é‡ï¼ˆMetricï¼‰**ï¼šä¾‹å¦‚ã€Œæ³¢å‹•ç‡ã€è¶¨å‹¢å¼·åº¦ã€åˆ†ä½ˆåæ…‹ã€  
- **å®Œæ•´åº¦/ä¿¡è³´åº¦ï¼ˆCompleteness/Confidenceï¼‰**ï¼šæè¿°è³‡æ–™èˆ‡çµæ§‹å®Œå‚™ç¨‹åº¦  

ğŸš« ç¦æ­¢è¼¸å‡ºï¼š
- `BUY/SELL/LONG/SHORT/ENTRY/EXIT`  
- `should_trade`ï¼ˆæ‡‰å¦äº¤æ˜“ï¼‰  
- `expected_profit`ï¼ˆé æœŸç²åˆ©ï¼‰  

---

## 6. Feature â†’ Evidence çµ„è£è¦å‰‡ï¼ˆEvidence Assembly Rulesï½œæœ€å¤§å®Œå‚™ï¼‰

### 6.1 Evidence çš„æœ€ä½è¦æ±‚ï¼ˆä¸å¯å¼±åŒ–ï¼‰
Evidence Bundle å¿…é ˆï¼š
- è‡³å°‘åŒ…å« **2 ç¨®ä»¥ä¸Šä¸åŒ domain** çš„ Featureï¼ˆä¾‹å¦‚ TECH + FLOWï¼Œæˆ– FUND + TECHï¼‰  
- è‡³å°‘åŒ…å« **1 å€‹çµæ§‹/ç‹€æ…‹é¡ï¼ˆSTRUCT/REGIMEï¼‰** æˆ–å¯æ›¿ä»£çš„ç‹€æ…‹æè¿°  
- å¿…é ˆé™„å¸¶ï¼š
  - `snapshot_ref`ï¼ˆL3 å¿«ç…§ï¼‰  
  - `provenance_map_ref`ï¼ˆä¾†æºè¿½æº¯ï¼‰  
  - `version_ref`ï¼ˆæ–‡ä»¶/æ”¿ç­–/æ¨¡å‹ç‰ˆæœ¬ï¼‰  

### 6.2 å¸¸è¦‹ Evidence çµ„è£æ¨¡æ¿ï¼ˆå¯ç›´æ¥å±•é–‹ï¼‰
- **è¶¨å‹¢å»¶çºŒå‹ Evidence**ï¼šTrend Structureï¼ˆTECH/STRUCTï¼‰ï¼‹ Flow/Liquidityï¼ˆFLOW/LIQï¼‰ï¼‹ Volatilityï¼ˆVOLï¼‰  
- **å€é–“ç›¤æ•´å‹ Evidence**ï¼šRange Stateï¼ˆSTRUCTï¼‰ï¼‹ Volatility Compressionï¼ˆVOLï¼‰ï¼‹ Orderflow Balanceï¼ˆFLOWï¼‰  
- **åŸºæœ¬é¢åƒ¹å€¼å‹ Evidence**ï¼šValuationï¼ˆFUNDï¼‰ï¼‹ Qualityï¼ˆFUNDï¼‰ï¼‹ Technical Positionï¼ˆTECHï¼‰  
- **äº‹ä»¶é¢¨éšªå‹ Evidence**ï¼šEvent Flagï¼ˆEVENTï¼‰ï¼‹ Vol Spikeï¼ˆVOLï¼‰ï¼‹ Liquidity Stressï¼ˆLIQï¼‰  

ğŸ“Œ ä»¥ä¸Šæ¨¡æ¿**ä¸ç­‰æ–¼ç­–ç•¥**ï¼Œåªæ˜¯ Evidence çš„ã€Œçµ„è£èªæ³•ã€ã€‚

---

## 7. Feature èˆ‡ Regime çš„å°ä½ï¼ˆRegime Alignment Mapï¼‰

> Regime é«˜æ–¼ç­–ç•¥ï¼›Feature åªæä¾› Regime åˆ¤å®šæ‰€éœ€çš„æè¿°æ€§è¼¸å…¥ã€‚

### 7.1 å¸¸è¦‹ Regime é¡å‹ï¼ˆç¤ºæ„ï¼Œå¯¦éš›ä»¥ Regime Engine ç‚ºæº–ï¼‰
- Trendï¼ˆè¶¨å‹¢å»¶çºŒï¼‰  
- Rangeï¼ˆå€é–“ç›¤æ•´ï¼‰  
- Transitionï¼ˆçµæ§‹è½‰æ›/è¶¨å‹¢åˆ‡æ›ï¼‰  
- Volatility Shockï¼ˆæ³¢å‹•è¡æ“Šï¼‰  
- Liquidity Stressï¼ˆæµå‹•æ€§å£“åŠ›ï¼‰  
- Event Riskï¼ˆäº‹ä»¶æœŸï¼‰  
- Manipulation/Abnormalï¼ˆç•°å¸¸/å¤±çœŸç–‘æ…®ï¼‰  

### 7.2 Feature â†’ Regime å¸¸è¦‹æ˜ å°„ï¼ˆæè¿°æ€§ï¼‰
- è¶¨å‹¢çµæ§‹å®Œæ•´åº¦â†‘ã€å‡ç·šç¾¤çµ„æœ‰åºã€æ³¢å‹•ç©©å®š â†’ Trend çš„å€™é¸æè¿°  
- æ³¢å‹•æ”¶æ–‚ã€åƒ¹æ ¼åœ¨å€é–“å…§å‡å€¼å›æ­¸ã€é‡èƒ½åä½ â†’ Range çš„å€™é¸æè¿°  
- æ³¢å‹•çªå¢ã€è·³ç©ºã€é»å·®æ“´å¤§ã€æ·±åº¦ä¸è¶³ â†’ Volatility Shock / Liquidity Stress å€™é¸æè¿°  
- äº‹ä»¶å¯†åº¦é«˜ã€å…¬å‘Šçª—å£å…§ã€æ”¿ç­–æ™‚é» â†’ Event Risk å€™é¸æè¿°  
- åƒ¹é‡åš´é‡èƒŒé›¢ã€æ’®åˆç•°å¸¸ã€é•·æ™‚é–“ç„¡é‡ â†’ Abnormal å€™é¸æè¿°  

ğŸ“Œ ä»¥ä¸Šéƒ½åªæ˜¯ã€Œå€™é¸æè¿°ã€ï¼Œæœ€çµ‚è£æ±ºç”± Regime Engine èˆ‡æ²»ç†è¦å‰‡æ±ºå®šã€‚

---

## 8. æ–¹æ³•è«–è½åœ°ï¼šGMMA / é¡§æ¯”å€’æ•¸ç·š / å¨ç§‘å¤« / é®‘è¿ªå…‹çºè«–ï¼ˆFeature å±¤å±•é–‹ï¼‰

> æœ¬ç¯€æ˜¯ä½ é¸ B çš„æ ¸å¿ƒï¼šæŠŠæ–¹æ³•è«–ã€Œé™ç¶­ã€æˆ Featureï¼Œä¸¦æ˜ç¢ºç¦æ­¢ä¿¡è™ŸåŒ–ã€‚

---

### 8.1 GMMAï¼ˆé¡§æ¯”å¤šé‡ç§»å‹•å¹³å‡ç·šï¼‰â€” Feature åŒ–ï¼ˆéä¿¡è™Ÿï¼‰

#### 8.1.1 GMMA çš„ Feature å®¶æ—
- `FTR.TECH.TREND.GMMA_BAND_STRUCTURE.v1`ï¼ˆGMMA ç¾¤çµ„çµæ§‹ï¼‰  
- `FTR.TECH.TREND.GMMA_BAND_SPREAD.v1`ï¼ˆç¾¤çµ„æ“´å¼µ/æ”¶æ–‚å¹…åº¦ï¼‰  
- `FTR.TECH.TREND.GMMA_BAND_SLOPE.v1`ï¼ˆç¾¤çµ„æ–œç‡ä¸€è‡´æ€§ï¼‰  
- `FTR.TECH.TREND.GMMA_LONG_SHORT_RELATION.v1`ï¼ˆçŸ­ç¾¤/é•·ç¾¤ç›¸å°é—œä¿‚ï¼‰  
- `FTR.TECH.STRUCT.GMMA_PHASE_LABEL.v1`ï¼ˆGMMA éšæ®µæ¨™ç±¤ï¼šæè¿°æ€§ï¼‰  

#### 8.1.2 GMMA è¼¸å‡ºèªç¾©ï¼ˆåªå…è¨±æè¿°ï¼‰
- `band_orderliness`ï¼šç¾¤çµ„æœ‰åºç¨‹åº¦ï¼ˆ0~1ï¼‰  
- `band_spread_state`ï¼šæ”¶æ–‚/æ“´å¼µ/ä¸­æ€§  
- `slope_consistency`ï¼šæ–œç‡ä¸€è‡´æ€§ï¼ˆ0~1ï¼‰  
- `short_vs_long_relation`ï¼šä¸Šæ–¹/äº¤ç–Š/ä¸‹æ–¹ï¼ˆæè¿°ç›¸å°ä½ç½®ï¼‰  
- `phase_label`ï¼šä¾‹å¦‚ã€Œæ“´å¼µå»¶çºŒ/æ”¶æ–‚ç›¤æ•´/æ‰­æ›²è½‰æ›ã€ï¼ˆä¸å¾—å¯«ã€Œè½‰å¤š/è½‰ç©ºã€ï¼‰

#### 8.1.3 GMMA å¸¸ç”¨ Evidence çµ„è£ï¼ˆç¤ºä¾‹ï¼‰
- Trend Evidenceï¼šGMMA ç¾¤çµ„æœ‰åºï¼‹Flow/Liquidity æ­£å¸¸ï¼‹æ³¢å‹•ä¸å¤±çœŸ  
- Range Evidenceï¼šGMMA æ”¶æ–‚ï¼‹æ³¢å‹•æ”¶æ–‚ï¼‹é‡èƒ½åä½

ğŸš« GMMA ç¦æ­¢ç”¨æ³•ï¼ˆæ˜æ–‡ï¼‰
- ã€ŒçŸ­ç¾¤ä¸Šç©¿é•·ç¾¤ï¼è²·ã€  
- ã€Œç¾¤çµ„æ“´å¼µï¼è¿½ã€  
- ã€Œé¡è‰²è®ŠåŒ–ï¼åšå¤šåšç©ºã€  
ä»¥ä¸Šçš†å±¬ `GOV-FEATURE-SIGNALIZE`ã€‚

---

### 8.2 é¡§æ¯”å€’æ•¸ç·šï¼ˆä½ æåˆ°çš„ã€Œé¡§æ¯”å€’æ•¸ç·šã€ï¼‰â€” Feature åŒ–

> ç”±æ–¼å¸‚å ´ä¸Šã€Œé¡§æ¯”å€’æ•¸ç·šã€å­˜åœ¨å¤šç¨®å¯¦ä½œç‰ˆæœ¬ï¼ˆä¸åŒè¨ˆç®—æ–¹å¼/åƒæ•¸ï¼‰ï¼Œ  
> TAITS åœ¨ Feature å±¤æ¡ã€Œèªç¾©çµ±ä¸€ã€ï¼šåªå®šç¾©è¼¸å‡ºèªç¾©ï¼Œä¸æŠŠæŸä¸€ç¨®å¯¦ä½œç•¶ä½œå”¯ä¸€çœŸç†ã€‚  
> ï¼ˆå…·é«”å…¬å¼å¯åœ¨ç ”ç©¶å±¤ä»¥ç­–ç•¥æ“´å……ï¼Œä½†ä¸å¾—æ”¹å¯«æœ¬èªç¾©ã€‚ï¼‰

#### 8.2.1 Feature å®¶æ—
- `FTR.TECH.MOMENTUM.GUPPY_COUNTDOWN_STATE.v1`ï¼ˆå€’æ•¸ç‹€æ…‹ï¼‰  
- `FTR.TECH.MOMENTUM.GUPPY_COUNTDOWN_INTENSITY.v1`ï¼ˆå€’æ•¸å¼·åº¦/æ¥è¿‘ç¨‹åº¦ï¼‰  

#### 8.2.2 è¼¸å‡ºèªç¾©ï¼ˆæè¿°æ€§ï¼‰
- `countdown_state`ï¼šå€’æ•¸é€²è¡Œä¸­/å®Œæˆ/é‡ç½®/ç„¡æ•ˆ  
- `countdown_progress`ï¼š0~1ï¼ˆé€²åº¦ï¼Œä¸ä»£è¡¨æ–¹å‘ï¼‰  
- `intensity`ï¼š0~1ï¼ˆå¼·åº¦ï¼Œä¸ä»£è¡¨å»ºè­°ï¼‰

ğŸš« ç¦æ­¢ç”¨æ³•
- ã€Œå€’æ•¸å®Œæˆï¼è²·/è³£ã€  
- ã€Œå€’æ•¸å¿«æ»¿ï¼å¿…æ¼²/å¿…è·Œã€

---

### 8.3 å¨ç§‘å¤«æ“ç›¤æ³•ï¼ˆWyckoffï¼‰â€” Feature åŒ–ï¼ˆéšæ®µ/äº‹ä»¶ï¼Œä¸æ˜¯æ–¹å‘ï¼‰

#### 8.3.1 Wyckoff Feature å®¶æ—
- `FTR.STRUCT.WYCKOFF.PHASE_LABEL.v1`ï¼ˆA/B/C/D/E éšæ®µæ¨™ç±¤ï¼‰  
- `FTR.STRUCT.WYCKOFF.EVENT_FLAGS.v1`ï¼ˆPS/SC/AR/ST/SOS/LPSâ€¦äº‹ä»¶æ——æ¨™ï¼‰  
- `FTR.STRUCT.WYCKOFF.RANGE_BOUNDARY.v1`ï¼ˆå€é–“é‚Šç•Œèˆ‡æœ‰æ•ˆæ€§ï¼‰  
- `FTR.STRUCT.WYCKOFF.SUPPLY_DEMAND_BALANCE.v1`ï¼ˆä¾›éœ€å¹³è¡¡åº¦é‡ï¼‰  
- `FTR.STRUCT.WYCKOFF.EFFORT_RESULT_DIVERGENCE.v1`ï¼ˆé‡åƒ¹åŠªåŠ›/çµæœèƒŒé›¢æè¿°ï¼‰  

#### 8.3.2 è¼¸å‡ºèªç¾©ï¼ˆæè¿°æ€§ï¼‰
- `phase_label`ï¼šA~Eï¼ˆä¸å¸¶å¤šç©ºï¼‰  
- `event_flags`ï¼šäº‹ä»¶é›†åˆï¼ˆåƒ…æ¨™è¨˜ï¼‰  
- `range_boundary`ï¼šä¸Šç•Œ/ä¸‹ç•Œ/å¯¬åº¦/æœ‰æ•ˆæ€§ï¼ˆæè¿°ï¼‰  
- `balance_score`ï¼šä¾›éœ€åç§»åº¦ï¼ˆ-1~1 ä½†ä¸å¾—å‘½åç‚ºçœ‹å¤šçœ‹ç©ºï¼‰  
- `effort_result_div`ï¼šèƒŒé›¢ç¨‹åº¦ï¼ˆ0~1ï¼‰

#### 8.3.3 Wyckoff Evidence çµ„è£ï¼ˆç¤ºä¾‹ï¼‰
- Accumulation/Ranging Evidenceï¼šPhase B/C + Range æœ‰æ•ˆ + é‡åƒ¹èƒŒé›¢æè¿° + æµå‹•æ€§æ­£å¸¸  
- Distribution/Ranging Evidenceï¼šPhase B/C + Range æœ‰æ•ˆ + ä¾›éœ€åç§»æè¿° + äº‹ä»¶å¯†åº¦

ğŸš« ç¦æ­¢ç”¨æ³•
- ã€ŒPhase Dï¼è²·ã€  
- ã€ŒSOS å‡ºç¾ï¼ä¸€å®šæ¼²ã€  
- ã€ŒLPSï¼é€²å ´ã€  
ä»¥ä¸Šçš†å±¬ä¿¡è™ŸåŒ–é•è¦ã€‚

---

### 8.4 é®‘è¿ªå…‹çºè«–ï¼ˆChanLunï½œBodick Variantï¼‰â€” Feature åŒ–ï¼ˆçµæ§‹ã€æ®µè½ã€èƒŒé¦³æè¿°ï¼‰

> çºè«–åœ¨ TAITS ä¸­å®šä½ç‚ºã€Œçµæ§‹èˆ‡åˆ¤æ–·é«”ç³»ã€ï¼Œä¸æ˜¯å–®ä¸€ç­–ç•¥ã€‚  
> åœ¨ Feature å±¤ï¼Œçºè«–åªèƒ½è¼¸å‡ºã€Œçµæ§‹æè¿°ã€ï¼Œä¸å…è¨±è¼¸å‡ºæ–¹å‘ã€‚

#### 8.4.1 ChanLun Feature å®¶æ—ï¼ˆæ ¸å¿ƒï¼‰
- `FTR.STRUCT.CHANLUN.BI_SEGMENT_STATE.v1`ï¼ˆç­†æ®µè½ç‹€æ…‹ï¼šå½¢æˆ/å»¶ä¼¸/å®Œæˆï¼‰  
- `FTR.STRUCT.CHANLUN.ZS_CENTER_STATE.v1`ï¼ˆä¸­æ¨ç‹€æ…‹ï¼šå½¢æˆ/æ“´å±•/ç ´å£/é‡æ§‹ï¼‰  
- `FTR.STRUCT.CHANLUN.TREND_STAGE_LABEL.v1`ï¼ˆè¶¨å‹¢éšæ®µæ¨™ç±¤ï¼šæè¿°æ€§ï¼‰  
- `FTR.STRUCT.CHANLUN.DIVERGENCE_SCORE.v1`ï¼ˆèƒŒé¦³ç¨‹åº¦ï¼š0~1ï¼‰  
- `FTR.STRUCT.CHANLUN.STRUCTURE_COMPLETENESS.v1`ï¼ˆçµæ§‹å®Œå‚™åº¦ï¼š0~1ï¼‰  
- `FTR.STRUCT.CHANLUN.PIVOT_RELATION.v1`ï¼ˆä¸­æ¨ç›¸å°é—œä¿‚ï¼šä¸Šç§»/ä¸‹ç§»/é‡ç–Š/é›¢æ•£ï¼‰  

#### 8.4.2 é®‘è¿ªå…‹ç‰ˆæœ¬ï¼ˆBodick Variantï¼‰å‚™è¨»ï¼ˆæ²»ç†å£å¾‘ï¼‰
é®‘è¿ªå…‹ç‰ˆæœ¬é€šå¸¸å¼·èª¿ï¼š
- çµæ§‹å®šç¾©æ›´å·¥ç¨‹åŒ–ï¼ˆå¯æ¨™è¨˜ã€å¯åˆ¤æº–ã€å¯å›æ”¾ï¼‰  
- å°ã€Œæ®µè½å®Œæˆ/ä¸­æ¨æœ‰æ•ˆ/èƒŒé¦³åˆ¤å®šã€æœ‰æ›´åš´æ ¼çš„ä¸€è‡´æ€§è¦æ±‚  

TAITS åœ¨ Feature å±¤æ¡ç”¨åŸå‰‡ï¼š
- **å…è¨±å¤šç‰ˆæœ¬ç®—æ³•ä¸¦å­˜ï¼ˆOnly-Addï¼‰**  
- **ä½†å¿…é ˆè¼¸å‡ºåŒä¸€å¥—èªç¾©æ¬„ä½**ï¼ˆå¦‚ä¸Š Feature å®¶æ—ï¼‰  
- ç‰ˆæœ¬å·®ç•°åªé«”ç¾åœ¨ `method_version` èˆ‡ `calculation_notes`ï¼Œä¸å¾—æ”¹å¯«èªç¾©

#### 8.4.3 ChanLun è¼¸å‡ºèªç¾©ï¼ˆæè¿°æ€§ï¼‰
- `bi_state`ï¼šforming/extending/completedï¼ˆä¸­æ–‡å¯å¯«ï¼šå½¢æˆ/å»¶ä¼¸/å®Œæˆï¼‰  
- `zs_state`ï¼šforming/expanding/broken/rebuiltï¼ˆå½¢æˆ/æ“´å±•/ç ´å£/é‡æ§‹ï¼‰  
- `divergence_score`ï¼š0~1ï¼ˆèƒŒé¦³ç¨‹åº¦ï¼Œä¸æ˜¯åè½‰ä¿¡è™Ÿï¼‰  
- `structure_completeness`ï¼š0~1  
- `pivot_relation`ï¼šä¸Šç§»/ä¸‹ç§»/é‡ç–Š/é›¢æ•£ï¼ˆæè¿°ç›¸å°é—œä¿‚ï¼‰

ğŸš« ç¦æ­¢ç”¨æ³•
- ã€ŒèƒŒé¦³ï¼è²·/è³£ã€  
- ã€Œä¸­æ¨ç ´å£ï¼å¿…è·Œã€  
- ã€Œç­†å®Œæˆï¼é€²å ´ã€  
ä»¥ä¸Šçš†å±¬ `GOV-FEATURE-SIGNALIZE`ã€‚

---

## 9. Feature å…¨åŸŸåˆ†é¡æ¨¹ï¼ˆTaxonomy Treeï½œæœ€å¤§å®Œå‚™ï¼‰

> é€™æ˜¯æ–°å°è©±ã€Œå¦‚ä½•å±•é–‹ã€çš„åœ°åœ–ã€‚  
> æ¯å€‹ Family éƒ½çµ¦å‡ºï¼šå®šç¾©ã€å¸¸ç”¨æ–¹æ³•è«–ã€å¸¸è¦‹è¼¸å…¥ã€å¸¸è¦‹è¼¸å‡ºèªç¾©ã€å¸¸è¦‹é™·é˜±ã€‚

---

### 9.1 TECHï½œæŠ€è¡“é¢ï¼ˆTechnicalï¼‰
#### A) Trendï¼ˆè¶¨å‹¢çµæ§‹ï¼‰
- å®šç¾©ï¼šæè¿°è¶¨å‹¢çš„ã€Œçµæ§‹èˆ‡å»¶çºŒæ€§ã€ï¼Œéæ–¹å‘  
- å¸¸ç”¨æ–¹æ³•è«–ï¼šGMMAã€å‡ç·šç¾¤çµ„ã€è¶¨å‹¢ç·šçµæ§‹ã€çµæ§‹æ–œç‡ä¸€è‡´æ€§  
- å…¸å‹è¼¸å…¥ï¼šclose/high/low/open/volumeã€å‡ç·šåºåˆ—  
- è¼¸å‡ºèªç¾©ï¼šæœ‰åºåº¦ã€æ–œç‡ä¸€è‡´æ€§ã€å»¶çºŒ/ç›¤æ•´/è½‰æ›æ¨™ç±¤  
- å¸¸è¦‹é™·é˜±ï¼šæŠŠã€Œç©¿è¶Šã€ç›´æ¥ç•¶è²·è³£ä¿¡è™Ÿ

#### B) Momentumï¼ˆå‹•èƒ½ï¼‰
- å®šç¾©ï¼šæè¿°åŠ é€Ÿåº¦/å‹•é‡ç‹€æ…‹  
- å¸¸ç”¨æ–¹æ³•è«–ï¼šå‹•èƒ½æŒ¯ç›ªã€å€’æ•¸ç·šç‹€æ…‹ã€å‹•é‡åˆ†è§£ï¼ˆæè¿°ï¼‰  
- è¼¸å‡ºèªç¾©ï¼šå¼·åº¦ã€éç†±ç¨‹åº¦ã€è¡°æ¸›ç¨‹åº¦ï¼ˆä¸å¯å«å¤šç©ºï¼‰  
- é™·é˜±ï¼šæŠŠè¶…è²·è¶…è³£ç›´æ¥ç•¶æ–¹å‘

#### C) Volatilityï¼ˆæ³¢å‹•ï¼‰
- å®šç¾©ï¼šæè¿°ä¸ç¢ºå®šæ€§ã€æ³¢å‹•ç¨‹åº¦ã€æ³¢å‹•å‹æ…‹  
- å¸¸ç”¨ï¼šATR/æ­·å²æ³¢å‹•/æ³¢å‹•æ”¶æ–‚æ“´å¼µå‹æ…‹  
- è¼¸å‡ºèªç¾©ï¼šæ³¢å‹•æ°´å¹³ã€æ”¶æ–‚/æ“´å¼µç‹€æ…‹ã€æ¥µç«¯æ¨™è¨˜  
- é™·é˜±ï¼šæ³¢å‹•é«˜â‰ å¯è³ºï¼›æ³¢å‹•ä½â‰ å®‰å…¨ï¼ˆéœ€é…åˆæµå‹•æ€§èˆ‡åˆ¶åº¦ï¼‰

#### D) Structureï¼ˆçµæ§‹ï¼‰
- å®šç¾©ï¼šæè¿°å€é–“ã€å‹æ…‹ã€ä¸­æ¨ã€æ®µè½ã€éšæ®µ  
- å¸¸ç”¨ï¼šå¨ç§‘å¤«éšæ®µã€çºè«–çµæ§‹ã€å‹æ…‹è­˜åˆ¥ï¼ˆæè¿°ï¼‰  
- è¼¸å‡ºèªç¾©ï¼šéšæ®µæ¨™ç±¤ã€å€é–“æœ‰æ•ˆæ€§ã€ä¸­æ¨ç‹€æ…‹ã€å®Œå‚™åº¦  
- é™·é˜±ï¼šæŠŠã€Œå½¢æ…‹åç¨±ã€ç­‰åŒç­–ç•¥èˆ‡å‹ç‡

---

### 9.2 FUNDï½œåŸºæœ¬é¢ï¼ˆFundamentalï¼‰
#### A) Valuationï¼ˆä¼°å€¼ï¼‰
- å®šç¾©ï¼šæè¿°ç›¸å°ä¼°å€¼ç‹€æ…‹ï¼ˆä¾¿å®œ/æ˜‚è²´åªèƒ½ä½œæè¿°æ€§å€é–“ï¼Œä¸æ˜¯è²·è³£ï¼‰  
- å¸¸ç”¨ï¼šæœ¬ç›Šæ¯”åˆ†ä½æ•¸ã€è‚¡åƒ¹æ·¨å€¼æ¯”åˆ†ä½æ•¸ã€æ®–åˆ©ç‡åˆ†ä½æ•¸  
- é‡è¦æ²»ç†ï¼šå…¬å‘Šå»¶é²ã€è³‡æ–™å¯ç”¨æ™‚é»ã€é¿å… lookahead  
- é™·é˜±ï¼šç”¨äº‹å¾Œè²¡å ±åšå›æ¸¬æ¨è«–ï¼ˆå…¸å‹å‰è¦–ï¼‰

#### B) Qualityï¼ˆå“è³ªï¼‰
- å®šç¾©ï¼šæè¿°è²¡å‹™å“è³ªï¼ˆç©©å¥/æƒ¡åŒ–ï¼‰  
- å¸¸ç”¨ï¼šæ¯›åˆ©ç‡/ç‡Ÿç›Šç‡/ROE/ç¾é‡‘æµå“è³ªï¼ˆæè¿°ï¼‰  
- é™·é˜±ï¼šç”¨å–®ä¸€å­£åº¦åŠ‡çƒˆè®Šå‹•ä½œçµè«–

#### C) Growthï¼ˆæˆé•·ï¼‰
- å®šç¾©ï¼šæè¿°æˆé•·/è¡°é€€é€Ÿåº¦èˆ‡ç©©å®šæ€§  
- å¸¸ç”¨ï¼šYoY/MoM è®ŠåŒ–ç‡ã€è¶¨å‹¢ç©©å®šåº¦  
- é™·é˜±ï¼šå­£ç¯€æ€§èˆ‡åŸºæœŸæ•ˆæ‡‰é€ æˆèª¤åˆ¤

#### D) Riskï¼ˆè²¡å‹™é¢¨éšªï¼‰
- å®šç¾©ï¼šæè¿°æ§“æ¡¿ã€å„Ÿå‚µã€ç‡Ÿé‹é¢¨éšªï¼ˆæè¿°æ€§ï¼‰  
- é™·é˜±ï¼šæŠŠé¢¨éšªæŒ‡æ¨™ç•¶ä½œåšç©ºä¿¡è™Ÿï¼ˆä»éœ€ Regime/Risk Gateï¼‰

---

### 9.3 FLOWï½œç±Œç¢¼/äº¤æ˜“è¡Œç‚ºï¼ˆFlow / Positioningï¼‰
#### A) Participationï¼ˆåƒèˆ‡åº¦ï¼‰
- å®šç¾©ï¼šæè¿°åƒèˆ‡è€…æ´»èºç¨‹åº¦  
- å¸¸ç”¨ï¼šæˆäº¤é‡çµæ§‹ã€é‡èƒ½åˆ†ä½ˆã€æ›æ‰‹ç‡  
- é™·é˜±ï¼šé‡å¤§â‰ å®‰å…¨ï¼›é‡å°â‰ ä¸å¯äº¤æ˜“ï¼ˆéœ€é…åˆé»å·®/æ·±åº¦ï¼‰

#### B) Institutional/Dealerï¼ˆæ³•äºº/å¤§æˆ¶ï¼‰
- å®šç¾©ï¼šæè¿°è³‡é‡‘è¡Œç‚ºï¼Œä¸ç­‰æ–¼æ–¹å‘  
- æ²»ç†ï¼šè³‡æ–™å»¶é²èˆ‡å¯å¾—æ€§ï¼ˆå¤šç‚º T+1 æˆ–æ›´æ…¢ï¼‰  
- é™·é˜±ï¼šæŠŠæ³•äººè²·è¶…ç›´æ¥ç•¶è²·å…¥æŒ‡ä»¤

#### C) Liquidityï¼ˆæµå‹•æ€§ï¼‰
- å®šç¾©ï¼šæè¿°é»å·®ã€æ·±åº¦ã€æˆäº¤å¯è¡Œæ€§  
- å¸¸ç”¨ï¼šå§”è²·å§”è³£æ·±åº¦ã€é»å·®ã€æˆäº¤é‡é–€æª»  
- æ²»ç†ï¼šæ­¤é¡ç‰¹å¾µèˆ‡ RISK_COMPLIANCE å¼·è€¦åˆï¼ˆå¯èƒ½è§¸ç™¼ VETO/RETURNï¼‰

---

### 9.4 EVENTï½œäº‹ä»¶/æ¶ˆæ¯ï¼ˆEvent / News / Calendarï¼‰
- å®šç¾©ï¼šæè¿°äº‹ä»¶å­˜åœ¨èˆ‡å¼·åº¦ï¼Œä¸åšæ–¹å‘åˆ¤æ–·  
- å¸¸ç”¨ï¼šé‡å¤§å…¬å‘Šæ——æ¨™ã€äº‹ä»¶å¯†åº¦ã€æ”¿ç­–æ™‚é»ã€è²¡å ±çª—å£  
- æ²»ç†ï¼šäº‹ä»¶æœŸå¯ç›´æ¥å‡ç´šç‚ºé¢¨æ§ç¦å…¥æ¢ä»¶ï¼ˆç”± RISK_COMPLIANCE è£æ±ºï¼‰  
- é™·é˜±ï¼šæŠŠæ¶ˆæ¯æƒ…ç·’ç•¶ä½œæ–¹å‘ä¿¡è™Ÿ

---

### 9.5 MACROï½œå®è§€ï¼ˆMacroï¼‰
- å®šç¾©ï¼šæè¿°å®è§€ç’°å¢ƒï¼ˆåˆ©ç‡/åŒ¯ç‡/æ™¯æ°£ï¼‰  
- æ²»ç†ï¼šå¤šç‚ºä½é »ã€å»¶é²è³‡æ–™ï¼Œåƒ…ä½œ Regime èƒŒæ™¯  
- é™·é˜±ï¼šç”¨å®è§€å–®ä¸€æŒ‡æ¨™å°çŸ­ç·šäº¤æ˜“ä¸‹çµè«–

---

## 10. Feature â†’ Strategy çš„ã€Œå±•é–‹å‚™è¨»ã€è¦å‰‡ï¼ˆä½ è¦çš„ã€Œæ¸…æ¥šã€ï¼‰

> æœ¬ç¯€æä¾›ã€Œæ–°å°è©±å¦‚ä½•å±•é–‹ã€ï¼šä¸æ˜¯å‘Šè¨´ä½ è²·è³£ï¼Œè€Œæ˜¯å‘Šè¨´ä½ æ¯ç¨®ç­–ç•¥å®¶æ—é€šå¸¸æœƒç”¨åˆ°å“ªäº› Featureã€æ€éº¼çµ„è£ Evidenceã€æ€éº¼å°ä½ Regimeã€‚

---

### 10.1 Trendï¼ˆè¶¨å‹¢é¡ç­–ç•¥ï¼‰å¸¸ç”¨ Feature å‚™è¨»
- å¸¸è¦‹ Featureï¼š
  - GMMA ç¾¤çµ„çµæ§‹ï¼ˆæœ‰åºåº¦/æ”¶æ–‚æ“´å¼µï¼‰
  - è¶¨å‹¢å®Œæ•´åº¦ï¼ˆçµæ§‹å®Œå‚™åº¦ï¼‰
  - æ³¢å‹•ç‹€æ…‹ï¼ˆé¿å…æ¥µç«¯æ³¢å‹•å¤±çœŸï¼‰
  - æµå‹•æ€§ç‹€æ…‹ï¼ˆé»å·®/æ·±åº¦ï¼‰
- Evidence çµ„è£ï¼š
  - Trend Structureï¼ˆTECH/STRUCTï¼‰ï¼‹ Volï¼ˆVOLï¼‰ï¼‹ Liquidityï¼ˆLIQï¼‰
- Regime å°ä½ï¼š
  - Trend / Transitionï¼ˆå¯ç”¨ï¼‰
  - Volatility Shock / Liquidity Stressï¼ˆé€šå¸¸ç¦å…¥æˆ–é™ç´šï¼Œä¾ Riskï¼‰
- å¸¸è¦‹é™·é˜±ï¼š
  - æŠŠã€Œå‡ç·šç©¿è¶Šã€ç•¶ä¿¡è™Ÿ
  - å¿½ç•¥æµå‹•æ€§é€ æˆæ»‘åƒ¹èˆ‡æ’¤å–®é¢¨éšª

---

### 10.2 Mean Reversionï¼ˆå‡å€¼å›æ­¸/å€é–“ï¼‰å¸¸ç”¨ Feature å‚™è¨»
- å¸¸è¦‹ Featureï¼š
  - Range é‚Šç•Œæœ‰æ•ˆæ€§ï¼ˆSTRUCTï¼‰
  - æ³¢å‹•æ”¶æ–‚ï¼ˆVOLï¼‰
  - ä¾›éœ€å¹³è¡¡ï¼ˆWyckoff balanceï¼‰
- Evidence çµ„è£ï¼š
  - Range Stateï¼ˆSTRUCTï¼‰ï¼‹ Vol Compressionï¼ˆVOLï¼‰ï¼‹ Flow Balanceï¼ˆFLOWï¼‰
- Regime å°ä½ï¼š
  - Rangeï¼ˆå¯ç”¨ï¼‰
  - Trendï¼ˆå¤šåŠä¸é©ç”¨ï¼Œå›åˆ° Regime åˆ¤å®šï¼‰
- é™·é˜±ï¼š
  - åœ¨è¶¨å‹¢æœŸç¡¬åšå›æ­¸ï¼ˆé•å Regime é«˜æ–¼ç­–ç•¥ï¼‰

---

### 10.3 Breakoutï¼ˆçªç ´ï¼‰å¸¸ç”¨ Feature å‚™è¨»
- å¸¸è¦‹ Featureï¼š
  - çµæ§‹è½‰æ›æ¨™ç±¤ï¼ˆTransitionï¼‰
  - é‡åƒ¹åŠªåŠ›/çµæœèƒŒé›¢ï¼ˆWyckoffï¼‰
  - æ³¢å‹•æ“´å¼µï¼ˆVOLï¼‰
  - æµå‹•æ€§èˆ‡é»å·®ï¼ˆLIQï¼‰
- Evidence çµ„è£ï¼š
  - Transitionï¼ˆSTRUCTï¼‰ï¼‹ Effort/Resultï¼ˆFLOW/STRUCTï¼‰ï¼‹ Vol Expansionï¼ˆVOLï¼‰
- Regime å°ä½ï¼š
  - Transitionï¼ˆå¯ç”¨ï¼Œä½†é€šå¸¸é¢¨æ§æ›´åš´ï¼‰
- é™·é˜±ï¼š
  - æŠŠå–®æ ¹é•·ç´…/é•·é»‘ç•¶çªç ´
  - å¿½ç•¥åˆ†ç›¤/è™•ç½®ç­‰åˆ¶åº¦ï¼ˆTWSE_RULES å¯èƒ½è§¸ç™¼ï¼‰

---

### 10.4 Fundamental Tiltï¼ˆåŸºæœ¬é¢å‚¾æ–œ/å› å­ï¼‰å¸¸ç”¨ Feature å‚™è¨»
- å¸¸è¦‹ Featureï¼š
  - Valuation åˆ†ä½æ•¸ï¼ˆFUNDï¼‰
  - Quality æŒ‡æ¨™ï¼ˆFUNDï¼‰
  - Growth ç©©å®šæ€§ï¼ˆFUNDï¼‰
  - æŠ€è¡“ä½ç½®ï¼ˆTECH Positionï¼‰
- Evidence çµ„è£ï¼š
  - Valuationï¼‹Qualityï¼‹Technical Positionï¼ˆé¿å…å®Œå…¨è„«é›¢äº¤æ˜“çµæ§‹ï¼‰
- Regime å°ä½ï¼š
  - å¤šç”¨æ–¼ä¸­é•·é€±æœŸï¼›çŸ­ç·šåªä½œèƒŒæ™¯ï¼Œä¸å¯å–ä»£çŸ­é€±æœŸé¢¨æ§
- é™·é˜±ï¼š
  - lookaheadï¼ˆå…¬å‘Šå»¶é²ï¼‰
  - ç”¨è²¡å ±ã€Œäº‹å¾Œå·²çŸ¥ã€è³‡æ–™åšå›æ¸¬æ­¸å› 

---

### 10.5 Structure-Basedï¼ˆçµæ§‹é«”ç³»ï¼šå¨ç§‘å¤«/çºè«–ï¼‰å¸¸ç”¨ Feature å‚™è¨»
- å¸¸è¦‹ Featureï¼š
  - Wyckoff Phase/Event Flags
  - ChanLun ä¸­æ¨/æ®µè½ç‹€æ…‹ã€å®Œå‚™åº¦ã€èƒŒé¦³ç¨‹åº¦ï¼ˆæè¿°ï¼‰
- Evidence çµ„è£ï¼š
  - çµæ§‹ç‹€æ…‹ï¼ˆSTRUCTï¼‰ï¼‹ æ³¢å‹•/æµå‹•æ€§ï¼ˆVOL/LIQï¼‰ï¼‹ äº¤æ˜“è¡Œç‚ºï¼ˆFLOWï¼‰
- Regime å°ä½ï¼š
  - Range/Transition/Trend å‡å¯èƒ½ï¼Œä½†éœ€æ˜ç¢º Regime Label
- é™·é˜±ï¼š
  - æŠŠèƒŒé¦³ç•¶åè½‰æŒ‡ä»¤
  - çµæ§‹åˆ¤å®šä¸ä¸€è‡´ï¼ˆéœ€ç‰ˆæœ¬ä¸€è‡´èˆ‡å›æ”¾ï¼‰

---

## 11. Feature çš„å¯©è¨ˆ/å›æ”¾è¦æ±‚ï¼ˆFeature-Level Auditï¼‰

æ¯å€‹ Feature çš„è¨ˆç®—èˆ‡ä½¿ç”¨å¿…é ˆç•™ä¸‹ï¼š
- `correlation_id`ï¼ˆä¸²èµ·ä¸€æ¬¡æµç¨‹ï¼‰  
- `snapshot_id`ï¼ˆå°æ‡‰ L3ï¼‰  
- `feature_id` / `feature_version`  
- `input_hash` / `output_hash`  
- `provenance_map_ref`  
- `quality_state`ï¼ˆè³‡æ–™å“è³ªç‹€æ…‹ï¼‰  
- `used_in_evidence`ï¼ˆæ˜¯å¦è¢«ç´å…¥ Evidenceï¼‰  
- `rejected_reason_codes`ï¼ˆè‹¥æœªç´å…¥ï¼Œå¿…å¡«åŸå› ï¼‰  

ğŸ“Œ ç„¡å¯©è¨ˆï¼ä¸å­˜åœ¨ï¼ˆæ²»ç†èªç¾©ï¼‰

---

## 12. Feature çš„ Only-Add æ¼”é€²è¦å‰‡ï¼ˆæ›´åš´ï¼‰

å…è¨±æ–°å¢ï¼š
- æ–° Feature  
- æ–° family  
- æ–° methodology_tags  
- æ–° output æ¬„ä½ï¼ˆä¸å¾—åˆªèˆŠæ¬„ä½ï¼‰

ç¦æ­¢ï¼š
- æ”¹å¯«æ—¢æœ‰ Feature çš„ output_semantics  
- å°‡æè¿°æ€§è¼¸å‡ºæ”¹æˆæ–¹å‘æ€§è¼¸å‡º  
- åˆä½µ Feature é€ æˆèªç¾©æ¨¡ç³Š  
- ä»»ä½•ã€Œç‚ºäº†ç°¡åŒ–ã€è€Œåˆªæ¸›æ—¢æœ‰æ²»ç†æ¢æ–‡  

---

## 13. çµ‚æ¥µæ²»ç†å®£å‘Šï¼ˆä¸å¯æ”¹å¯«ï¼‰

> Feature çš„å­˜åœ¨ï¼Œæ˜¯ç‚ºäº†æŠŠä¸–ç•Œæè¿°æ¸…æ¥šï¼Œ  
> ä¸æ˜¯ç‚ºäº†è®“ç³»çµ±æ›´å®¹æ˜“ä¸‹æ±ºç­–ã€‚  
> åªè¦ Feature è¢«ç”¨ä¾†ã€Œç›´æ¥åšäº¤æ˜“ã€ï¼Œå®ƒå°±å·²ç¶“è¢«ç”¨éŒ¯äº†ã€‚

---

ï¼ˆSTRATEGY_FEATURE_INDEXï½œå…¨çŸ¥è­˜è‡ªæ´½æœ€å¤§å®Œå‚™ç‰ˆ v2025-12-19 å®Œï¼‰

# TAITS_ç­–ç•¥ç‰¹å¾µèˆ‡å› å­ç´¢å¼•ï¼ˆSTRATEGY_FEATURE_INDEXï¼‰__251219
doc_keyï¼šSTRATEGY_FEATURE_INDEX  
æ²»ç†ç­‰ç´šï¼šB+ï¼ˆFeature Governance & Semantic Boundary Charterï½œå…¨çŸ¥è­˜è‡ªæ´½æœ€å¤§å®Œå‚™ç‰ˆï¼‰  
é©ç”¨ç¯„åœï¼šTAITS å…¨ç³»çµ±ï¼ˆResearch / Backtest / Simulation / Paper / Liveï¼‰  
ç‰ˆæœ¬ç‹€æ…‹ï¼šACTIVEï¼ˆç‰¹å¾µå±¤æ²»ç†å°é ‚ï¼‹å¯å±•é–‹çŸ¥è­˜ç´¢å¼•ï¼ŒOnly-Add æ¼”é€²ï¼‰  
ç‰ˆæœ¬æ—¥æœŸï¼š2025-12-19  
å°é½Šæ¯æ³•ï¼šTAITS_AI_è¡Œç‚ºèˆ‡æ±ºç­–æ²»ç†æœ€çµ‚è¦å‰‡å…¨é›†__251217ï¼ˆA+ï¼‰  
ä¸Šä½ç´„æŸï¼šMASTER_ARCH / MASTER_CANON / DOCUMENT_INDEX  
å¹³è¡Œåƒç…§ï¼šSTRATEGY_UNIVERSE / ARCH_FLOW / RISK_COMPLIANCE / VERSION_AUDIT / UI_SPEC / DATA_SOURCES / TWSE_RULES  
è®Šæ›´åŸå‰‡ï¼šOnly-Addï¼ˆåªå¯æ–°å¢ï¼Œä¸å¯åˆªæ¸›ã€ä¸å¯è¦†å¯«ã€ä¸å¯æ”¹å¯«æ—¢æœ‰èªç¾©ã€ä¸å¯å¼±åŒ–é‚Šç•Œï¼‰  
æ ¸å¿ƒå®£å‘Šï¼šFeature â‰  Signal â‰  Strategy â‰  Orderï¼ˆç‰¹å¾µéè¨Šè™Ÿã€éç­–ç•¥ã€éä¸‹å–®ï¼‰  

---

# Part 2ï½œé™„éŒ„Aï¼šFeature ID å‘½åè¦ç¯„èˆ‡ç¯„ä¾‹å…¨é›†ï¼ˆæœ€å¤§å®Œå‚™ï¼‰

> æœ¬ Part 2 ç‚º Part 1 çš„ **Only-Add æ“´å……**ï¼Œä¸æ”¹å¯«ã€ä¸è¦†è“‹ä»»ä½•æ—¢æœ‰èªç¾©ã€‚  
> ç›®çš„ï¼šè®“ TAITS åœ¨ã€Œæ–°å¢ç‰¹å¾µã€æ™‚èƒ½ä¿æŒè·¨ç‰ˆæœ¬ä¸€è‡´ã€è·¨ Agent ä¸€è‡´ã€è·¨æ¨¡å¼ä¸€è‡´ï¼ˆResearch/Backtest/Sim/Paper/Liveï¼‰ã€‚

---

## A0. é™„éŒ„å®šä½ï¼ˆç‚ºä»€éº¼ä¸€å®šè¦æœ‰å‘½åè¦ç¯„ï¼‰

è‹¥æ²’æœ‰åš´æ ¼å‘½åè¦ç¯„ï¼Œæœƒå‡ºç¾ä¸‹åˆ—æ²»ç†ç½é›£ï¼ˆå¿…é ˆé¿å…ï¼‰ï¼š
- åŒä¸€å€‹ Feature è¢«ä¸åŒäºº/ä¸åŒ Agent ç”¨ä¸åŒåå­—é‡è¤‡ç™¼æ˜ï¼ˆç‰ˆæœ¬æ··äº‚ï¼‰
- ä¸åŒ Feature è¢«å«åŒä¸€å€‹åå­—ï¼ˆèªç¾©æ±¡æŸ“ï¼‰
- Feature è¢«ã€Œå·å·ä¿¡è™ŸåŒ–ã€ï¼šåœ¨å‘½åä¸­æš—ç¤ºè²·è³£èˆ‡æ–¹å‘ï¼ˆæ²»ç†é•è¦ä½†é›£è¢«æŠ“ï¼‰
- å›æ”¾æ™‚ç„¡æ³•çŸ¥é“ç•¶æ™‚åˆ°åº•è¨ˆç®—çš„æ˜¯å“ªä¸€å€‹ç‰ˆæœ¬ã€å“ªä¸€å€‹å…¬å¼ï¼ˆReplay å¤±æ•ˆï¼‰
- UI/å¯©è¨ˆç„¡æ³•å¯é èšåˆï¼ˆEvidence ç¼ºå£ï¼‰

å› æ­¤æœ¬é™„éŒ„çš„å®šä½æ˜¯ï¼š  
> **å‘½åæœ¬èº«å°±æ˜¯æ²»ç†çš„ä¸€éƒ¨åˆ†**ï¼ˆNaming is Governanceï¼‰ã€‚

---

## A1. Feature ID çš„æ­£å¼æ ¼å¼ï¼ˆä¸å¯ç¸®æ¸›ï¼‰

### A1.1 æ¨™æº– Feature ID
æ¨è–¦æ ¼å¼ï¼ˆå¿…é ˆéµå®ˆæ¬„ä½æ„ç¾©ï¼›åˆ†éš”ç¬¦å¯ä»¥ Only-Add å¢å¼·ä½†ä¸å¯æ”¹å¯«èªç¾©ï¼‰ï¼š

`FTR.<DOMAIN>.<FAMILY>.<NAME>.<VER>`

- `FTR`ï¼šå›ºå®šå‰ç¶´ï¼ˆFeatureï¼‰
- `DOMAIN`ï¼šè³‡æ–™é¢å‘åŸŸï¼ˆè¦‹ A2ï¼‰
- `FAMILY`ï¼šå®¶æ—åˆ†é¡ï¼ˆè¦‹ A3ï¼‰
- `NAME`ï¼šç‰¹å¾µåç¨±ï¼ˆæè¿°æ€§ã€ç„¡æ–¹å‘æ€§ï¼‰
- `VER`ï¼šèªç¾©ç‰ˆæœ¬ï¼ˆä¾‹å¦‚ `v1`, `v2`ï¼›ä¸å¯çœç•¥ï¼‰

ç¯„ä¾‹ï¼š  
- `FTR.TECH.TREND.GMMA_BAND_STRUCTURE.v1`
- `FTR.STRUCT.WYCKOFF.PHASE_LABEL.v1`
- `FTR.STRUCT.CHANLUN.DIVERGENCE_SCORE.v1`

### A1.2 å¯é¸æ“´å……æ®µï¼ˆOnly-Addï¼‰
è‹¥éœ€æ›´ç²¾ç¢ºç®¡ç†ï¼Œå¯åŠ ä¸Šã€Œå¯é¸æ“´å……æ®µã€ï¼Œä½†ä¸å¾—ç ´å£æ¨™æº–æ¬„ä½èªç¾©ï¼š

`FTR.<DOMAIN>.<FAMILY>.<NAME>.<VER>__<IMPL>__<TF>__<SRC>`

- `IMPL`ï¼šå¯¦ä½œæ¨™è¨˜ï¼ˆåƒ…æ¨™è¨˜æ¼”ç®—æ³•å¯¦ä½œç‰ˆæœ¬ï¼Œä¸å¾—å½±éŸ¿èªç¾©ï¼‰
- `TF`ï¼šé€±æœŸæ¨™è¨˜ï¼ˆä¾‹å¦‚ `1D`, `5m`ï¼‰
- `SRC`ï¼šä¾†æºæ¨™è¨˜ï¼ˆä¾‹å¦‚ `TWSE`, `TAIFEX`, `BROKER`, `ALT`ï¼‰

ç¯„ä¾‹ï¼ˆæ›´åš´æ ¼ç‰ˆæœ¬ç®¡ç†ï¼‰ï¼š  
- `FTR.TECH.VOL.ATR_LEVEL.v1__implA__1D__TWSE`
- `FTR.FUND.VAL.PE_PERCENTILE.v2__implB__1D__MOPS`
- `FTR.FLOW.LIQ.SPREAD_LEVEL.v1__implA__Tick__BROKER`

---

## A2. DOMAINï¼ˆè³‡æ–™é¢å‘åŸŸï¼‰æ¨™æº–å­—å…¸ï¼ˆæœ€å¤§å®Œå‚™ï¼‰

> DOMAIN æ˜¯ Feature çš„ã€Œæ³•å®šé ˜åŸŸã€ï¼›ç”¨éŒ¯ DOMAIN è¦–ç‚ºèªç¾©æ±¡æŸ“ã€‚

- `TECH`ï¼šæŠ€è¡“é¢ï¼ˆåƒ¹æ ¼/é‡èƒ½è¡ç”Ÿï¼‰
- `STRUCT`ï¼šçµæ§‹ï¼ˆå€é–“/æ®µè½/ä¸­æ¨/éšæ®µç­‰ï¼‰
- `FUND`ï¼šåŸºæœ¬é¢ï¼ˆè²¡å ±/ä¼°å€¼/å“è³ª/æˆé•·ï¼‰
- `FLOW`ï¼šç±Œç¢¼/äº¤æ˜“è¡Œç‚ºï¼ˆåƒèˆ‡åº¦ã€æ³•äººã€æµå‘ï¼‰
- `LIQ`ï¼šæµå‹•æ€§ï¼ˆæ·±åº¦/é»å·®/æˆäº¤å¯è¡Œæ€§ï¼‰
- `VOL`ï¼šæ³¢å‹•ï¼ˆæ³¢å‹•æ°´å¹³ã€æ³¢å‹•å‹æ…‹ï¼‰
- `EVENT`ï¼šäº‹ä»¶/å…¬å‘Š/æ™‚é–“çª—ï¼ˆéæ–¹å‘ï¼‰
- `SENT`ï¼šæƒ…ç·’/æ–‡æœ¬ï¼ˆåƒ…æè¿°ï¼Œéœ€è­‰æ“šè¿½æº¯ï¼‰
- `MACRO`ï¼šå®è§€ï¼ˆåˆ©ç‡ã€åŒ¯ç‡ã€æ™¯æ°£ã€æ”¿ç­–ï¼‰
- `RISK`ï¼šé¢¨éšªæè¿°ï¼ˆæ›éšªåº¦é‡ã€å£“åŠ›ç‹€æ…‹æè¿°ï¼›ä¸å¾—è®Šæˆ gateï¼‰
- `EXEC`ï¼šåŸ·è¡Œè§€æ¸¬ï¼ˆå»¶é²ã€æ‹’å–®ç‡ã€å°å¸³ä¸€è‡´æ€§æè¿°ï¼›ä¸å¾—ä½œç­–ç•¥ï¼‰
- `GOV`ï¼šæ²»ç†è§€æ¸¬ï¼ˆå®Œæ•´åº¦ã€ç¼ºå£ã€ç‰ˆæœ¬ä¸€è‡´æ€§æè¿°ï¼‰
- `QA`ï¼šè³‡æ–™å“è³ªï¼ˆç¼ºå€¼ç‡ã€å»¶é²ã€ç•°å¸¸æ¨™è¨˜ï¼‰
- `META`ï¼šå…ƒç‰¹å¾µï¼ˆfeature_of_featureï¼›åš´ç¦æ–¹å‘åŒ–ï¼‰

ğŸ“Œ æ³¨æ„ï¼š  
- `LIQ` èˆ‡ `VOL` å¯è¦–ç‚º `TECH` çš„å­åŸŸï¼Œä½†åœ¨æ²»ç†ä¸Šå¿…é ˆå¯ç¨ç«‹å¼•ç”¨ï¼Œæ‰€ä»¥ä¿ç•™ç¨ç«‹ DOMAINã€‚  
- `RISK`/`EXEC`/`GOV`/`QA` åªèƒ½æè¿°ç‹€æ…‹ï¼Œçµ•ä¸å¯å–ä»£ Gate æˆ–ä¸‹å–®åˆ¤æ–·ã€‚

---

## A3. FAMILYï¼ˆå®¶æ—åˆ†é¡ï¼‰æ¨™æº–å­—å…¸ï¼ˆæœ€å¤§å®Œå‚™ï¼‰

> FAMILY ç”¨ä¾†çµ±ä¸€èªç¾©èšåˆï¼ˆUI/å¯©è¨ˆ/ç ”ç©¶ï¼‰ï¼›åŒä¸€ Feature å®¶æ—ä¸‹ä¸å¾—æ··å…¥æ–¹å‘æ€§ã€‚

### A3.1 TECH/STRUCT å¸¸ç”¨ FAMILY
- `TREND`ï¼šè¶¨å‹¢çµæ§‹ï¼ˆæè¿°å»¶çºŒæ€§/æœ‰åºæ€§ï¼‰
- `MOM`ï¼šå‹•èƒ½ï¼ˆæè¿°åŠ é€Ÿåº¦/è¡°æ¸›ï¼‰
- `VOL`ï¼šæ³¢å‹•ï¼ˆæè¿°æ°´å¹³/å‹æ…‹ï¼‰
- `RANGE`ï¼šå€é–“/ç›¤æ•´ï¼ˆæè¿°å€é–“é‚Šç•Œèˆ‡æœ‰æ•ˆæ€§ï¼‰
- `BREAK`ï¼šçµæ§‹ç ´å£/è½‰æ›ï¼ˆæè¿°è½‰æ›ç‹€æ…‹ï¼Œä¸æ˜¯çªç ´ä¿¡è™Ÿï¼‰
- `PATTERN`ï¼šå‹æ…‹ï¼ˆæè¿°è¾¨è­˜çµæœèˆ‡å®Œå‚™åº¦ï¼‰
- `LEVEL`ï¼šä½ç½®/åƒ¹ä½ç›¸å°é—œä¿‚ï¼ˆæè¿°ç›¸å°ä½ç½®ï¼‰
- `DIVERGE`ï¼šèƒŒé›¢/èƒŒé¦³ï¼ˆæè¿°ç¨‹åº¦ï¼Œä¸æ˜¯åè½‰ï¼‰
- `PHASE`ï¼šéšæ®µï¼ˆæè¿°éšæ®µæ¨™ç±¤ï¼‰
- `CENTER`ï¼šä¸­æ¨/æ¨ç´ï¼ˆæè¿°ç‹€æ…‹èˆ‡é—œä¿‚ï¼‰

### A3.2 FUND å¸¸ç”¨ FAMILY
- `VAL`ï¼šä¼°å€¼
- `QUAL`ï¼šå“è³ª
- `GROW`ï¼šæˆé•·
- `LEV`ï¼šæ§“æ¡¿/å„Ÿå‚µ
- `CASH`ï¼šç¾é‡‘æµ
- `MARGIN`ï¼šæ¯›åˆ©/ç‡Ÿç›Šç­‰
- `STAB`ï¼šç©©å®šæ€§ï¼ˆæ³¢å‹•ã€é€£çºŒæ€§ï¼‰

### A3.3 FLOW/LIQ å¸¸ç”¨ FAMILY
- `PARTIC`ï¼šåƒèˆ‡åº¦ï¼ˆæ›æ‰‹ã€é‡èƒ½çµæ§‹ï¼‰
- `INST`ï¼šæ³•äºº/å¤§æˆ¶ï¼ˆæè¿°æµå‘ï¼‰
- `DEPTH`ï¼šæ·±åº¦
- `SPREAD`ï¼šé»å·®
- `IMPACT`ï¼šè¡æ“Šæˆæœ¬ï¼ˆä¼°è¨ˆï¼‰
- `BAL`ï¼šä¾›éœ€å¹³è¡¡ï¼ˆæè¿°ï¼‰
- `RATE`ï¼šé€Ÿç‡ï¼ˆæˆäº¤/å§”è¨—/å–æ¶ˆç­‰ï¼Œæè¿°ï¼‰

### A3.4 EVENT/SENT/MACRO å¸¸ç”¨ FAMILY
- `CAL`ï¼šæ—¥æ›†/çª—å£ï¼ˆè²¡å ±/é™¤æ¬Šæ¯/å…¬å‘Šï¼‰
- `FLAG`ï¼šäº‹ä»¶æ——æ¨™ï¼ˆå­˜åœ¨èˆ‡å¦ï¼‰
- `DENS`ï¼šå¯†åº¦ï¼ˆäº‹ä»¶å¯†åº¦/æ–°èå¯†åº¦ï¼‰
- `POL`ï¼šæ”¿ç­–/åˆ¶åº¦æ™‚é»ï¼ˆæè¿°ï¼‰
- `MOOD`ï¼šæƒ…ç·’ç‹€æ…‹ï¼ˆæè¿°ï¼‰
- `TOPIC`ï¼šä¸»é¡Œï¼ˆæè¿°ï¼‰
- `SURP`ï¼šé©šå–œ/åé›¢ï¼ˆæè¿°ï¼‰

### A3.5 QA/GOV/EXEC å¸¸ç”¨ FAMILY
- `MISS`ï¼šç¼ºå¤±ï¼ˆç¼ºå€¼/ç¼ºæª”ï¼‰
- `DELAY`ï¼šå»¶é²
- `ANOM`ï¼šç•°å¸¸
- `CONSIS`ï¼šä¸€è‡´æ€§ï¼ˆç‰ˆæœ¬/å°å¸³ï¼‰
- `HEALTH`ï¼šå¥åº·åº¦ï¼ˆé€šé“/æœå‹™ï¼‰
- `COVER`ï¼šè¦†è“‹åº¦ï¼ˆå¯©è¨ˆè¦†è“‹/è­‰æ“šè¦†è“‹ï¼‰
- `REPLAY`ï¼šå¯å›æ”¾åº¦ï¼ˆæè¿°ï¼‰

---

## A4. NAMEï¼ˆç‰¹å¾µåç¨±ï¼‰æ²»ç†è¦å‰‡ï¼ˆç¡¬é–€æª»ï¼‰

### A4.1 å¿…é ˆæ˜¯æè¿°æ€§ï¼ˆDescriptiveï¼‰
åç¨±åªèƒ½æè¿°ã€Œç‹€æ…‹/é—œä¿‚/ç¨‹åº¦/æ¨™ç±¤ã€ï¼Œä¸å¾—æè¿°è¡Œç‚ºæˆ–æ–¹å‘ã€‚

âœ… åˆæ³•ä¾‹ï¼š  
- `BAND_STRUCTURE`ã€`PHASE_LABEL`ã€`DIVERGENCE_SCORE`ã€`SPREAD_LEVEL`ã€`DEPTH_STRESS`

âŒ éæ³•ä¾‹ï¼ˆæ–¹å‘åŒ–/è¡Œç‚ºåŒ–ï¼‰ï¼š  
- `BUY_SIGNAL`ã€`SELL_SIGNAL`ã€`LONG_ENTRY`ã€`SHORT_EXIT`ã€`STRONG_BUY`ã€`MUST_RISE`

é•è¦ç¢¼ï¼ˆæœ¬æ–‡ä»¶å…§éƒ¨ï¼Œç”¨æ–¼å¯©è¨ˆæ¨™è¨˜ï¼‰ï¼š  
- `GOV-FTR-NAME-DIRECTIONAL`ï¼šå‘½åå«æ–¹å‘  
- `GOV-FTR-NAME-ACTION`ï¼šå‘½åå«è¡Œç‚º  
- `GOV-FTR-NAME-PERF`ï¼šå‘½åå«ç¸¾æ•ˆæ‰¿è«¾ï¼ˆwin/profitç­‰ï¼‰

### A4.2 ä¸å¾—æŠŠç­–ç•¥/æ–¹æ³•è«–ç•¶æˆæ–¹å‘
å¯ä»¥å¯«æ–¹æ³•è«–æ¨™ç±¤ï¼ˆtagsï¼‰ï¼Œä½†åç¨±ä»éœ€ä¿æŒæè¿°æ€§ã€‚

âœ… åˆæ³•ï¼š`WYCKOFF_PHASE_LABEL` / `CHANLUN_CENTER_STATE`  
âŒ éæ³•ï¼š`WYCKOFF_BUY_ZONE` / `CHANLUN_REVERSAL_SIGNAL`

---

## A5. VERï¼ˆèªç¾©ç‰ˆæœ¬ï¼‰è¦å‰‡ï¼ˆå¿…é ˆå¯å›æ”¾ï¼‰

### A5.1 ä»€éº¼æƒ…æ³è¦å‡ VERï¼ˆèªç¾©ç‰ˆæœ¬ï¼‰
åªè¦æ”¹åˆ°ä»¥ä¸‹ä»»ä¸€é …ï¼Œå°±å¿…é ˆå‡ `v#`ï¼š
- output_semanticsï¼ˆè¼¸å‡ºèªç¾©ï¼‰  
- output_typeï¼ˆè¼¸å‡ºå‹æ…‹ï¼‰  
- æ¬„ä½å®šç¾©ï¼ˆä¾‹å¦‚ score çš„ç¯„åœå¾ 0~1 æ”¹æˆ -1~1ï¼‰  
- å“è³ªæª¢æŸ¥èˆ‡ç¼ºå€¼è™•ç†èªç¾©ï¼ˆæœƒå½±éŸ¿è¼¸å‡ºï¼‰  

### A5.2 ä»€éº¼æƒ…æ³ä¸èƒ½å‡ VERï¼ˆåªèƒ½æ”¹ implï¼‰
- æ¼”ç®—æ³•å¯¦ä½œå„ªåŒ–ä½†ä¸æ”¹èªç¾©ï¼ˆä¾‹å¦‚åŠ é€Ÿã€ä¸åŒç¨‹å¼å¯¦ä½œï¼‰  
â†’ ç”¨ `__implX` è¨˜éŒ„ï¼Œä¸å¯ç”¨ `v#` å‡è£èªç¾©æœ‰è®Šã€‚

---

## A6. FeatureMeta å¿…å‚™æ¬„ä½ï¼ˆç”¨æ–¼æ–°å°è©±å¯å±•é–‹ï¼‰

> æœ¬ç¯€æŠŠ Part 1 çš„ schema å…·é«”åŒ–æˆã€Œå»ºæª”æ¨¡æ¿ã€ã€‚  
> ä»»ä½•æ–°å¢ Featureï¼Œå¿…é ˆèƒ½å¯«å‡ºä¸‹é¢é€™æ®µï¼ˆå¯ç›´æ¥è²¼åˆ° repo / æ–‡æª”ï¼‰ã€‚

### A6.1 FeatureMeta Templateï¼ˆå¯è²¼ç”¨ï¼‰
```yaml
feature_id: "FTR.<DOMAIN>.<FAMILY>.<NAME>.v1"
feature_name_zh: "<ä¸­æ–‡åç¨±>"
feature_name_en: "<English Name, optional>"
domain: "<DOMAIN>"
family: "<FAMILY>"
methodology_tags: ["<GMMA|Wyckoff|ChanLun_Bodick|...>"]
timeframe: "<Tick|1m|5m|1D|1W|...>"
inputs:
  - "<canonical_field_or_datasource_field_1>"
  - "<...>"
lookahead_policy: "NO_LOOKAHEAD"
data_latency: "<REALTIME|DELAYED|ANNOUNCEMENT_LAG|SPARSE>"
output_type: "<Scalar|Vector|Label|State|Distribution>"
output_semantics: "<æè¿°æ€§èªç¾©ï¼Œä¸å«æ–¹å‘>"
quality_checks:
  - "<missing_value_handling>"
  - "<halt/suspension handling>"
  - "<outlier handling>"
audit_requirements:
  must_have:
    - correlation_id
    - snapshot_ref
    - provenance_map_ref
    - input_hash
    - output_hash
allowed_uses:
  - "EVIDENCE_INPUT"
  - "REGIME_INPUT"
  - "AUDIT_EXPLAIN"
forbidden_uses:
  - "DIRECT_SIGNAL"
  - "DIRECT_STRATEGY"
  - "DIRECT_ORDER"
notes_zh: "<å‚™è¨»ï¼šå¸¸è¦‹é™·é˜±ã€è³‡æ–™å»¶é²ã€é©ç”¨æ¢ä»¶>"
A7. ç¯„ä¾‹å…¨é›†ï¼ˆæœ€å¤§å®Œå‚™ï½œå¯ä¾› STRATEGY_UNIVERSE ç›´æ¥å¼•ç”¨ï¼‰
ä¸‹åˆ—ç¯„ä¾‹ä»¥ã€Œå¯æ“´å……ã€æ–¹å¼æä¾›ï¼›ä¸æ˜¯é™åˆ¶æ¸…å–®ã€‚
ä½ å¯åœ¨æœªä¾† Only-Add æ–°å¢æ›´å¤š Featureï¼Œä¸å¾—è¦†å¯«æœ¬æ®µæ—¢æœ‰èªç¾©ã€‚

A7.1 GMMA ç¯„ä¾‹ï¼ˆTECH.TRENDï¼‰
FTR.TECH.TREND.GMMA_BAND_STRUCTURE.v1

zhï¼šGMMA ç¾¤çµ„çµæ§‹æœ‰åºåº¦

output_semanticsï¼šç¾¤çµ„æ’åˆ—èˆ‡åˆ†å±¤çš„æœ‰åºç¨‹åº¦ï¼ˆ0~1ï¼‰

FTR.TECH.TREND.GMMA_BAND_SPREAD_STATE.v1

zhï¼šGMMA ç¾¤çµ„æ“´å¼µ/æ”¶æ–‚ç‹€æ…‹

output_semanticsï¼š{CONTRACTING, NEUTRAL, EXPANDING}

FTR.TECH.TREND.GMMA_SLOPE_CONSISTENCY.v1

zhï¼šGMMA ç¾¤çµ„æ–œç‡ä¸€è‡´æ€§

output_semanticsï¼šçŸ­é•·ç¾¤æ–œç‡ä¸€è‡´ç¨‹åº¦ï¼ˆ0~1ï¼‰

FTR.TECH.STRUCT.GMMA_PHASE_LABEL.v1

zhï¼šGMMA éšæ®µæ¨™ç±¤ï¼ˆæè¿°æ€§ï¼‰

output_semanticsï¼š{ORDERLY_TREND, COMPRESSION_RANGE, DISTORTION_TRANSITION, UNKNOWN}

A7.2 é¡§æ¯”å€’æ•¸ç·š ç¯„ä¾‹ï¼ˆTECH.MOMï¼‰
FTR.TECH.MOM.GUPPY_COUNTDOWN_STATE.v1

zhï¼šé¡§æ¯”å€’æ•¸ç‹€æ…‹

output_semanticsï¼š{RUNNING, COMPLETED, RESET, INVALID}

FTR.TECH.MOM.GUPPY_COUNTDOWN_PROGRESS.v1

zhï¼šé¡§æ¯”å€’æ•¸é€²åº¦

output_semanticsï¼š0~1ï¼ˆé€²åº¦ï¼›ä¸ä»£è¡¨æ–¹å‘ï¼‰

FTR.TECH.MOM.GUPPY_COUNTDOWN_INTENSITY.v1

zhï¼šé¡§æ¯”å€’æ•¸å¼·åº¦

output_semanticsï¼š0~1ï¼ˆå¼·åº¦ï¼›ä¸ä»£è¡¨å»ºè­°ï¼‰

A7.3 å¨ç§‘å¤« ç¯„ä¾‹ï¼ˆSTRUCT.PHASE / STRUCT.EVENTï¼‰
FTR.STRUCT.PHASE.WYCKOFF_PHASE_LABEL.v1

zhï¼šå¨ç§‘å¤«éšæ®µæ¨™ç±¤

output_semanticsï¼š{A,B,C,D,E,UNKNOWN}

FTR.STRUCT.EVENT.WYCKOFF_EVENT_FLAGS.v1

zhï¼šå¨ç§‘å¤«äº‹ä»¶æ——æ¨™é›†åˆ

output_semanticsï¼šäº‹ä»¶é›†åˆï¼ˆPS/SC/AR/ST/SOS/LPSâ€¦ï¼‰çš„å­˜åœ¨æ¨™è¨˜ï¼ˆéæ–¹å‘ï¼‰

FTR.STRUCT.RANGE.WYCKOFF_RANGE_VALIDITY.v1

zhï¼šå¨ç§‘å¤«å€é–“æœ‰æ•ˆæ€§

output_semanticsï¼šå€é–“é‚Šç•Œç©©å®šåº¦/æœ‰æ•ˆæ€§ï¼ˆ0~1ï¼‰

FTR.STRUCT.BAL.WYCKOFF_SUPPLY_DEMAND_BALANCE.v1

zhï¼šä¾›éœ€å¹³è¡¡åº¦é‡

output_semanticsï¼šä¾›éœ€åç§»ç¨‹åº¦ï¼ˆæè¿°æ€§ï¼Œéœ€æ˜ç¤ºç¯„åœï¼‰

FTR.STRUCT.DIVERGE.WYCKOFF_EFFORT_RESULT_DIVERGENCE.v1

zhï¼šåŠªåŠ›/çµæœèƒŒé›¢ç¨‹åº¦

output_semanticsï¼šèƒŒé›¢ç¨‹åº¦ï¼ˆ0~1ï¼‰

A7.4 çºè«–ï½œé®‘è¿ªå…‹ç‰ˆæœ¬ ç¯„ä¾‹ï¼ˆSTRUCT.CENTER / STRUCT.DIVERGEï¼‰
FTR.STRUCT.CENTER.CHANLUN_ZS_CENTER_STATE.v1

zhï¼šçºè«–ä¸­æ¨ç‹€æ…‹

output_semanticsï¼š{FORMING, EXPANDING, BROKEN, REBUILT}

FTR.STRUCT.CENTER.CHANLUN_PIVOT_RELATION.v1

zhï¼šä¸­æ¨ç›¸å°é—œä¿‚

output_semanticsï¼š{UPSHIFT, DOWNSHIFT, OVERLAP, DISPERSE}

FTR.STRUCT.PATTERN.CHANLUN_BI_SEGMENT_STATE.v1

zhï¼šç­†æ®µè½ç‹€æ…‹

output_semanticsï¼š{FORMING, EXTENDING, COMPLETED}

FTR.STRUCT.DIVERGE.CHANLUN_DIVERGENCE_SCORE.v1

zhï¼šèƒŒé¦³ç¨‹åº¦

output_semanticsï¼š0~1ï¼ˆæè¿°ç¨‹åº¦ï¼‰

FTR.STRUCT.META.CHANLUN_STRUCTURE_COMPLETENESS.v1

zhï¼šçµæ§‹å®Œå‚™åº¦

output_semanticsï¼š0~1ï¼ˆæè¿°å®Œæ•´åº¦ï¼Œä¸æ˜¯å¯äº¤æ˜“æ€§ï¼‰

A7.5 æ³¢å‹•/æµå‹•æ€§ ç¯„ä¾‹ï¼ˆVOL / LIQï¼‰
FTR.VOL.VOL.ATR_LEVEL.v1

zhï¼šATR æ³¢å‹•æ°´å¹³

output_semanticsï¼šæ³¢å‹•æ°´å¹³ï¼ˆæ•¸å€¼ï¼‹æ¨™æº–åŒ–ç‰ˆæœ¬ï¼‰

FTR.VOL.VOL.VOLATILITY_COMPRESSION_STATE.v1

zhï¼šæ³¢å‹•æ”¶æ–‚ç‹€æ…‹

output_semanticsï¼š{COMPRESSING, NEUTRAL, EXPANDING}

FTR.LIQ.SPREAD.SPREAD_LEVEL.v1

zhï¼šé»å·®æ°´å¹³

output_semanticsï¼šé»å·®ï¼ˆticks / bpsï¼‰

FTR.LIQ.DEPTH.DEPTH_STRESS.v1

zhï¼šæ·±åº¦å£“åŠ›

output_semanticsï¼šæ·±åº¦ä¸è¶³ç¨‹åº¦ï¼ˆ0~1 æˆ–åˆ†ç´šï¼‰

FTR.LIQ.IMPACT.PRICE_IMPACT_ESTIMATE.v1

zhï¼šè¡æ“Šæˆæœ¬ä¼°è¨ˆ

output_semanticsï¼šä¼°è¨ˆè¡æ“Šæˆæœ¬ï¼ˆbpsï¼Œæè¿°ï¼‰

A7.6 åŸºæœ¬é¢ ç¯„ä¾‹ï¼ˆFUND.*ï¼‰
FTR.FUND.VAL.PE_PERCENTILE.v1

zhï¼šæœ¬ç›Šæ¯”åˆ†ä½æ•¸

output_semanticsï¼š0~1ï¼ˆåˆ†ä½ï¼›éœ€æ˜ç¤ºè³‡æ–™çª—å£ï¼‰

FTR.FUND.VAL.PB_PERCENTILE.v1

zhï¼šè‚¡åƒ¹æ·¨å€¼æ¯”åˆ†ä½æ•¸

output_semanticsï¼š0~1

FTR.FUND.QUAL.ROE_LEVEL.v1

zhï¼šROE æ°´å¹³

output_semanticsï¼šROEï¼ˆæ•¸å€¼ï¼‹æœŸé–“ï¼‰

FTR.FUND.GROW.REVENUE_YOY_RATE.v1

zhï¼šç‡Ÿæ”¶å¹´å¢ç‡

output_semanticsï¼šYoYï¼ˆæè¿°ï¼›éœ€å…¬å‘Šå¯å¾—æ™‚é–“ï¼‰

FTR.FUND.CASH.CFO_QUALITY_SCORE.v1

zhï¼šç¾é‡‘æµå“è³ªåˆ†æ•¸

output_semanticsï¼šå“è³ªåˆ†æ•¸ï¼ˆæè¿°æ€§ï¼‰

ğŸ“Œ FUND é¡ä¸€å¾‹å¿…å¡«ï¼š

data_latency=ANNOUNCEMENT_LAG

lookahead_policy=NO_LOOKAHEAD
ä¸¦è¦æ±‚ available_atï¼ˆä½•æ™‚å¯å¾—ï¼‰å¯«å…¥ provenance/auditï¼ˆä¸å¾—ç”¨äº‹å¾Œå€¼ï¼‰ã€‚

A7.7 äº‹ä»¶/æƒ…ç·’/å®è§€ ç¯„ä¾‹ï¼ˆEVENT/SENT/MACROï¼‰
FTR.EVENT.FLAG.EARNINGS_WINDOW_FLAG.v1

zhï¼šè²¡å ±çª—å£æ——æ¨™

output_semanticsï¼š{IN_WINDOW, OUT_WINDOW}

FTR.EVENT.DENS.NEWS_DENSITY_LEVEL.v1

zhï¼šæ–°èå¯†åº¦æ°´å¹³

output_semanticsï¼šå¯†åº¦ï¼ˆæè¿°æ€§ï¼‰

FTR.SENT.MOOD.SENTIMENT_POLARITY_SCORE.v1

zhï¼šæƒ…ç·’æ¥µæ€§åˆ†æ•¸

output_semanticsï¼š-1~1ï¼ˆæè¿°æ€§ï¼›ä¸å¾—å‘½åç‚ºå¤šç©ºï¼‰

FTR.MACRO.POL.RATE_DECISION_FLAG.v1

zhï¼šåˆ©ç‡æ±ºç­–æ™‚é»æ——æ¨™

output_semanticsï¼š{UPCOMING, RECENT, NONE}

A7.8 QA/GOV/EXEC ç¯„ä¾‹ï¼ˆæ²»ç†è§€æ¸¬ï¼‰
FTR.QA.MISS.MISSING_RATE.v1

zhï¼šç¼ºå€¼ç‡

output_semanticsï¼š0~1

FTR.QA.DELAY.DATA_LATENCY_MS.v1

zhï¼šè³‡æ–™å»¶é²æ¯«ç§’

output_semanticsï¼šå»¶é²ï¼ˆmsï¼‰

FTR.GOV.COVER.AUDIT_COVERAGE_SCORE.v1

zhï¼šå¯©è¨ˆè¦†è“‹åˆ†æ•¸

output_semanticsï¼š0~1ï¼ˆæè¿°æ€§ï¼‰

FTR.EXEC.HEALTH.CHANNEL_HEALTH_STATE.v1

zhï¼šé€šé“å¥åº·ç‹€æ…‹

output_semanticsï¼š{OK, DEGRADED, DOWN}

FTR.EXEC.CONSIS.RECONCILIATION_STATE.v1

zhï¼šå°å¸³ä¸€è‡´æ€§ç‹€æ…‹

output_semanticsï¼š{CONSISTENT, INCONSISTENT, UNKNOWN}

A8. å‘½åèˆ‡å¯©è¨ˆçš„é€£å‹•è¦å‰‡ï¼ˆå¿…é ˆè½åœ°ï¼‰
A8.1 å¯©è¨ˆå¿…é ˆè¨˜éŒ„ Feature IDï¼ˆå…¨å­—ä¸²ï¼‰
ä»»ä½• Feature çš„è¼¸å‡ºè‹¥è¢«ç´å…¥ Evidenceï¼Œå¯©è¨ˆç‰©å¿…é ˆåŒ…å«ï¼š

feature_idï¼ˆå« verï¼‰

è‹¥æœ‰æ“´å……æ®µï¼šå®Œæ•´ä¿ç•™ __impl__tf__src

A8.2 UI é¡¯ç¤ºè¦å‰‡ï¼ˆæœ€å°è¦æ±‚ï¼‰
UI ä¸å¿…é¡¯ç¤ºå®Œæ•´ feature_idï¼ˆå¯é¡¯ç¤ºä¸­æ–‡åï¼‰ï¼Œä½†å¿…é ˆèƒ½ã€Œå±•é–‹ã€çœ‹åˆ°ï¼š

feature_id

feature_version

inputsï¼ˆæœ€å°é›†åˆï¼‰

output_semantics

A8.3 å‘½åé•è¦çš„ Gateï¼ˆå»ºè­°è½åœ¨ GOV/QAï¼‰
è‹¥å‘½åé•è¦ï¼ˆå«æ–¹å‘è©ã€è¡Œç‚ºè©ã€ç¸¾æ•ˆè©ï¼‰ï¼š

å¿…é ˆé˜»æ­¢å…¶è¢«ç´å…¥ Evidenceï¼ˆRETURN æˆ– VETOï¼Œä¾æ”¿ç­–ï¼‰

å¿…é ˆç•™ä¸‹å¯©è¨ˆåŸå› ç¢¼ï¼š

GOV-FTR-NAME-DIRECTIONAL

GOV-FTR-NAME-ACTION

GOV-FTR-NAME-PERF

A9. Only-Add æ¼”é€²è¦å‰‡ï¼ˆé™„éŒ„ A å°ˆå±¬ï¼‰
å…è¨±æ–°å¢ï¼š

æ–° DOMAINï¼ˆä½†å¿…é ˆè£œé½Šèªç¾©èˆ‡é‚Šç•Œï¼‰

æ–° FAMILY

æ–°å‘½åç¯„ä¾‹

æ–° FeatureMeta æ¬„ä½ï¼ˆä¸å¾—åˆªèˆŠæ¬„ä½ï¼‰

ç¦æ­¢ï¼š

æ”¹å¯«æ—¢æœ‰ DOMAIN/FAMILY çš„èªç¾©

æŠŠæ–¹å‘/è¡Œç‚º/ç¸¾æ•ˆè©åˆæ³•åŒ–

ç”¨ã€Œç°¡åŒ–ã€åç¾©åˆªé™¤ç‰ˆæœ¬æ®µï¼ˆVERï¼‰

ï¼ˆSTRATEGY_FEATURE_INDEXï½œPart 2ï¼šé™„éŒ„A v2025-12-19 å®Œï¼‰

# TAITS_ç­–ç•¥ç‰¹å¾µèˆ‡å› å­ç´¢å¼•ï¼ˆSTRATEGY_FEATURE_INDEXï¼‰__251219
doc_keyï¼šSTRATEGY_FEATURE_INDEX  
æ²»ç†ç­‰ç´šï¼šB+ï¼ˆFeature Governance & Semantic Boundary Charterï½œå…¨çŸ¥è­˜è‡ªæ´½æœ€å¤§å®Œå‚™ç‰ˆï¼‰  
é©ç”¨ç¯„åœï¼šTAITS å…¨ç³»çµ±ï¼ˆResearch / Backtest / Simulation / Paper / Liveï¼‰  
ç‰ˆæœ¬ç‹€æ…‹ï¼šACTIVEï¼ˆç‰¹å¾µå±¤æ²»ç†å°é ‚ï¼‹å¯å±•é–‹çŸ¥è­˜ç´¢å¼•ï¼ŒOnly-Add æ¼”é€²ï¼‰  
ç‰ˆæœ¬æ—¥æœŸï¼š2025-12-19  
å°é½Šæ¯æ³•ï¼šTAITS_AI_è¡Œç‚ºèˆ‡æ±ºç­–æ²»ç†æœ€çµ‚è¦å‰‡å…¨é›†__251217ï¼ˆA+ï¼‰  
ä¸Šä½ç´„æŸï¼šMASTER_ARCH / MASTER_CANON / DOCUMENT_INDEX  
å¹³è¡Œåƒç…§ï¼šSTRATEGY_UNIVERSE / ARCH_FLOW / RISK_COMPLIANCE / VERSION_AUDIT / UI_SPEC / DATA_SOURCES / TWSE_RULES  
è®Šæ›´åŸå‰‡ï¼šOnly-Addï¼ˆåªå¯æ–°å¢ï¼Œä¸å¯åˆªæ¸›ã€ä¸å¯è¦†å¯«ã€ä¸å¯æ”¹å¯«æ—¢æœ‰èªç¾©ã€ä¸å¯å¼±åŒ–é‚Šç•Œï¼‰  
æ ¸å¿ƒå®£å‘Šï¼šFeature â‰  Signal â‰  Strategy â‰  Orderï¼ˆç‰¹å¾µéè¨Šè™Ÿã€éç­–ç•¥ã€éä¸‹å–®ï¼‰  

---

# Part 3ï½œé™„éŒ„Bï¼šç‰¹å¾µæ²»ç†æª¢æ ¸ï¼ˆFeature Governance Checklistï¼‰ï¼‹é•è¦åˆ¤å®šï¼ˆæœ€å¤§å®Œå‚™ï¼‰

> æœ¬ Part 3 ç‚º Part 1/Part 2 çš„ **Only-Add æ“´å……**ã€‚  
> ç›®çš„ï¼šæŠŠã€Œç‰¹å¾µã€å¾ç ”ç©¶åˆ°å¯¦ç›¤çš„å…¨ç”Ÿå‘½é€±æœŸï¼Œè½æˆ **å¯æ©Ÿå™¨å¯©è¨ˆã€å¯äººé¡å¯©æŸ¥ã€å¯å›æ”¾** çš„æ²»ç†è¦æ ¼ã€‚  
> æœ¬ç¯€ä¸æ–°å¢äº¤æ˜“å»ºè­°ã€ä¸æ–°å¢ç­–ç•¥ã€ä¸æ¶‰ä¸‹å–®ï¼›åƒ…è¦ç¯„ã€Œç‰¹å¾µã€å¦‚ä½•è¢«å…è¨±/ç¦æ­¢ä½¿ç”¨ã€‚

---

## B0. æœ¬é™„éŒ„çš„æ³•å¾‹åœ°ä½ï¼ˆæ²»ç†å®šä½ï¼‰

- æœ¬é™„éŒ„æ˜¯ STRATEGY_FEATURE_INDEX çš„æ²»ç†å­ç« ï¼Œå±¬æ–¼ **èªç¾©é‚Šç•Œèˆ‡å¯å¯©è¨ˆæ€§** çš„æœ€é«˜è¦æ ¼ä¹‹ä¸€ã€‚
- ä¸€åˆ‡ã€Œç‰¹å¾µå¯ä¸å¯ä»¥é€²å…¥ Evidenceã€çš„è£æ±ºï¼Œå¿…é ˆè‡³å°‘ç¶“éæœ¬é™„éŒ„çš„ Hard Gatesã€‚
- è‹¥èˆ‡ä¸Šä½ç´„æŸè¡çªï¼šä»¥ MASTER_ARCH / DOCUMENT_INDEX / AI_GOV æ¯æ³•è£æ±ºã€‚

---

## B1. Feature åˆ†ç´šåˆ¶åº¦ï¼ˆFeature Tieringï½œå¿…é ˆæ¨™è¨˜ï¼‰

> Feature ä¸åŒæˆç†Ÿåº¦ï¼Œèƒ½ç”¨åœ¨å“ªè£¡ä¸åŒã€‚  
> åˆ†ç´šä¸æ˜¯å¥½å£è©•åˆ†ï¼Œè€Œæ˜¯ **å…è¨±ç”¨é€”ï¼ˆAllowed Usesï¼‰** çš„æ²»ç†æ¬„ä½ã€‚

### B1.1 Feature Tier å®šç¾©ï¼ˆæœ€å°é›†åˆï¼‰
- **T0ï½œDraftï¼ˆè‰ç¨¿ï¼‰**
  - å…è¨±ï¼šResearch å±€éƒ¨å¯¦é©—ï¼ˆä¸å¾—å…¥ Evidenceï¼‰
  - ç¦æ­¢ï¼šBacktest/Sim/Paper/Live çš„ Canonical Evidence
- **T1ï½œResearch-Validatedï¼ˆç ”ç©¶é©—è­‰ï¼‰**
  - å…è¨±ï¼šResearch / Backtestï¼ˆå¯å…¥ Evidence ä½†éœ€æ¨™è¨˜å¯¦é©—ï¼‰
  - ç¦æ­¢ï¼šPaper/Liveï¼ˆé™¤éå‡ç´šåˆ° T2ï¼‰
- **T2ï½œReplay-Safeï¼ˆå¯å›æ”¾å®‰å…¨ï¼‰**
  - å…è¨±ï¼šResearch / Backtest / Simulation / Paper
  - æ¢ä»¶ï¼šprovenance + version_ref + deterministic replay æˆç«‹
- **T3ï½œLive-Allowedï¼ˆå¯é€²å¯¦ç›¤ï¼‰**
  - å…è¨±ï¼šå…¨æ¨¡å¼ï¼ˆå« Liveï¼‰
  - æ¢ä»¶ï¼šè³‡æ–™å»¶é²/ç¼ºå€¼/ç•°å¸¸è™•ç†è¢«åˆ¶åº¦åŒ–ï¼›é¢¨æ§å¯ç†è§£å…¶èªç¾©
- **T4ï½œCriticalï¼ˆé—œéµç‰¹å¾µï¼‰**
  - å…è¨±ï¼šå…¨æ¨¡å¼
  - é¡å¤–è¦æ±‚ï¼šè®Šæ›´éœ€æ›´åš´æ ¼å¯©æ‰¹ï¼ˆVERSION_AUDIT åŠ å¼·ï¼‰

### B1.2 FeatureMeta å¿…å¡«æ¬„ä½ï¼ˆæ–°å¢ï¼štierï¼‰
ä»»ä½• FeatureMeta å¿…é ˆåŒ…å«ï¼š
- `tier: T0|T1|T2|T3|T4`

---

## B2. Feature Hard Gatesï¼ˆé€æ¢å¯«æ»¿ï½œä¸å¯çœç•¥ï¼‰

> ä¸‹åˆ—ä»»ä¸€ Gate å¤±æ•—ï¼š  
> - è‡³å°‘ RETURNï¼ˆç¦æ­¢ç´å…¥ Evidenceï¼‰  
> - åœ¨ Live é¢¨éšªéˆè·¯ä¸­å¯å‡ç´šç‚º VETOï¼ˆä¾æ”¿ç­–ï¼‰  

### B2.1 Gate-1ï¼šèªç¾©é‚Šç•Œï¼ˆSemantic Boundaryï¼‰
æª¢æ ¸é»ï¼ˆå…¨éƒ¨é€šéï¼‰ï¼š
- Feature çš„ `output_semantics` åªæè¿°ç‹€æ…‹/é—œä¿‚/ç¨‹åº¦/æ¨™ç±¤
- Feature åç¨±ä¸å«æ–¹å‘/è¡Œç‚º/ç¸¾æ•ˆæ‰¿è«¾ï¼ˆè¦‹ Part 2 A4ï¼‰
- Feature ä¸åœ¨è¼¸å‡ºä¸­ç›´æ¥æä¾› `buy/sell/long/short/entry/exit` é¡å­—æ®µ

Fail â†’ åŸå› ç¢¼ï¼ˆæœ¬æ–‡ä»¶å…§éƒ¨ç”¨æ–¼å¯©è¨ˆæ¨™è¨˜ï¼‰ï¼š
- `GOV-FTR-SEM-DIRECTIONAL`
- `GOV-FTR-SEM-ACTION`
- `GOV-FTR-SEM-PERF`

### B2.2 Gate-2ï¼šå¯è¿½æº¯æ€§ï¼ˆProvenanceï¼‰
æª¢æ ¸é»ï¼ˆå…¨éƒ¨é€šéï¼‰ï¼š
- inputs å‡å¯è¿½æº¯åˆ° DATA_SOURCES çš„ä¾†æºé …ç›®
- å¿…æœ‰ `provenance_map_ref`
- å¿…æœ‰ `input_hash` / `output_hash`

Fail â†’ åŸå› ç¢¼ï¼š
- `GOV-FTR-PROV-MISSING`
- `GOV-FTR-PROV-BROKEN`
- `GOV-FTR-HASH-MISSING`
- `GOV-FTR-HASH-FAIL`

### B2.3 Gate-3ï¼šç„¡å‰è¦–ï¼ˆNo Lookaheadï¼‰
æª¢æ ¸é»ï¼ˆå…¨éƒ¨é€šéï¼‰ï¼š
- `lookahead_policy=NO_LOOKAHEAD`
- FUND/EVENT é¡å¿…è¨˜éŒ„ `available_at`ï¼ˆè³‡æ–™å¯å¾—æ™‚é–“ï¼‰
- å›æ¸¬/å›æ”¾æ™‚ä½¿ç”¨ã€Œç•¶æ™‚å¯å¾—ç‰ˆæœ¬ã€

Fail â†’ åŸå› ç¢¼ï¼š
- `GOV-FTR-LOOKAHEAD`
- `GOV-FTR-AVAILABLE_AT-MISSING`

### B2.4 Gate-4ï¼šå›æ”¾ä¸€è‡´æ€§ï¼ˆReplay Determinismï¼‰
æª¢æ ¸é»ï¼ˆå…¨éƒ¨é€šéï¼‰ï¼š
- ç›¸åŒ replay bundle + ç›¸åŒç‰ˆæœ¬ â†’ ç›¸åŒè¼¸å‡º
- è‹¥ä½¿ç”¨éš¨æ©Ÿæˆ–å¤–éƒ¨æœå‹™ï¼šå¿…æœ‰ deterministic è¨­å®šæˆ–å¿«ç…§å›ºåŒ–

Fail â†’ åŸå› ç¢¼ï¼š
- `GOV-FTR-REPLAY-NONDET`
- `GOV-FTR-REPLAY-NOSNAPSHOT`

### B2.5 Gate-5ï¼šç¼ºå€¼/ç•°å¸¸è™•ç†åˆ¶åº¦åŒ–ï¼ˆRobustnessï¼‰
æª¢æ ¸é»ï¼ˆå…¨éƒ¨é€šéï¼‰ï¼š
- `quality_checks` æ˜ç¢ºå®šç¾©ç¼ºå€¼è™•ç†èªç¾©
- åœç‰Œ/åˆ†ç›¤/æ’®åˆç•°å¸¸æ™‚çš„è™•ç†å®šç¾©å­˜åœ¨
- Outlierï¼ˆæ¥µç«¯å€¼ï¼‰è™•ç†èªç¾©å­˜åœ¨ï¼ˆè‹¥è©² domain éœ€è¦ï¼‰

Fail â†’ åŸå› ç¢¼ï¼š
- `GOV-FTR-QA-MISSING`
- `GOV-FTR-HALT-HANDLING-MISSING`
- `GOV-FTR-OUTLIER-HANDLING-MISSING`

### B2.6 Gate-6ï¼šç”¨é€”ç™½åå–®ï¼ˆAllowed Usesï¼‰
æª¢æ ¸é»ï¼ˆå…¨éƒ¨é€šéï¼‰ï¼š
- `allowed_uses` åƒ…åŒ…å«ï¼š
  - `EVIDENCE_INPUT`
  - `REGIME_INPUT`
  - `AUDIT_EXPLAIN`
  - `UI_EXPLAIN`
  - `RISK_CONTEXT_ONLY`ï¼ˆè‹¥è¦çµ¦é¢¨æ§åªèƒ½æ˜¯ä¸Šä¸‹æ–‡ï¼Œä¸æ˜¯æ±ºç­–ï¼‰
- `forbidden_uses` å¿…åŒ…å«ï¼š
  - `DIRECT_SIGNAL`
  - `DIRECT_STRATEGY`
  - `DIRECT_ORDER`

Fail â†’ åŸå› ç¢¼ï¼š
- `GOV-FTR-USE-ILLEGAL`
- `GOV-FTR-USE-WHITELIST-MISSING`

---

## B3. Feature â†’ Evidence çš„ç´å…¥è¦å‰‡ï¼ˆEvidence Ingestion Rulesï¼‰

> Feature é€² Evidence ä¸æ˜¯ã€ŒåŠ å°±å¥½ã€ï¼Œå¿…é ˆå¯è¢«å¯©è¨ˆèˆ‡å¯è¢«è§£é‡‹ã€‚

### B3.1 Evidence å…è¨±è¼‰å…¥çš„ Feature é¡å‹
å…è¨±ï¼ˆç¤ºä¾‹ï¼‰ï¼š
- æè¿°æ€§ï¼šçµæ§‹ç‹€æ…‹ã€å€é–“æœ‰æ•ˆæ€§ã€æ³¢å‹•æ°´å¹³ã€æµå‹•æ€§å£“åŠ›ã€ä¼°å€¼åˆ†ä½æ•¸ã€äº‹ä»¶æ——æ¨™
- ä¸å…è¨±ä»»ä½•å«ã€Œäº¤æ˜“è¡Œç‚ºæŒ‡ä»¤ã€çš„è¼¸å‡º

### B3.2 Evidence å¿…é ˆè¨˜éŒ„çš„ Feature æ¬„ä½ï¼ˆæœ€å°é›†åˆï¼‰
- `feature_id`
- `feature_version`
- `inputs_ref`ï¼ˆå¯æŒ‡å‘ snapshot/provenanceï¼‰
- `output_value_ref`ï¼ˆæˆ– hashï¼‰
- `computed_at`
- `available_at`ï¼ˆè‹¥è³‡æ–™ç‚ºå…¬å‘Šå‹/å»¶é²å‹ï¼‰
- `quality_flags`ï¼ˆç¼ºå€¼/ç•°å¸¸æ¨™è¨˜ï¼‰

### B3.3 Evidence çš„ã€Œç¦æ­¢å·æ›ã€
- ç¦æ­¢åœ¨ Evidence å±¤æŠŠå¤šå€‹ Feature åˆæˆã€Œæ–¹å‘ã€å­—æ®µ
- è‹¥è¦åˆæˆï¼Œåªèƒ½å½¢æˆã€Œæ›´é«˜éšæè¿°æ€§ Featureã€ï¼Œä¸”å¿…é ˆï¼š
  - æ–° feature_id
  - æ–° ver
  - å®Œæ•´ FeatureMeta
  - é€šéæœ¬é™„éŒ„ Hard Gates

é•è¦ç¢¼ï¼š
- `GOV-EVD-SIGNALIZATION`
- `GOV-EVD-UNREGISTERED-FEATURE`

---

## B4. Feature â†’ Regime çš„ä½¿ç”¨é‚Šç•Œï¼ˆRegime Input Boundaryï¼‰

> Regime æ˜¯ç‹€æ…‹åˆ¤å®šï¼Œä¸æ˜¯äº¤æ˜“æ–¹å‘ã€‚  
> Feature åœ¨ Regime åªèƒ½è²¢ç»ã€Œç‹€æ…‹è­‰æ“šã€ï¼Œä¸å¾—å°å‡ºè²·è³£å»ºè­°ã€‚

### B4.1 Regime å¯ä½¿ç”¨çš„ Feature é¡å‹ï¼ˆç¤ºä¾‹ï¼‰
- æ³¢å‹•å£“ç¸®/æ“´å¼µç‹€æ…‹ï¼ˆVOLï¼‰
- æµå‹•æ€§å£“åŠ›ç‹€æ…‹ï¼ˆLIQï¼‰
- çµæ§‹éšæ®µï¼ˆSTRUCT.PHASEï¼‰
- è¶¨å‹¢æœ‰åºåº¦ï¼ˆTECH.TREND çš„æè¿°æ€§æŒ‡æ¨™ï¼‰

### B4.2 ç¦æ­¢çš„ Regime ä½¿ç”¨æ–¹å¼
- ä»¥å–®ä¸€ feature ç›´æ¥æ±ºå®š regimeï¼ˆé™¤éåˆ¶åº¦æ˜ç¢ºå®šç¾©ä¸”æœ‰å¤šè­‰æ“šä¸€è‡´æ€§ï¼‰
- ç”¨ã€Œç­–ç•¥ç¸¾æ•ˆæœ€å¥½ã€ä¾†èª¿ regime é–€æª»ï¼ˆç¸¾æ•ˆè¾¯è­·é•è¦ï¼‰

é•è¦ç¢¼ï¼š
- `GOV-REG-SINGLE-FTR-DECISION`
- `GOV-REG-PERF-DRIVEN`

---

## B5. Feature â†’ Risk çš„ä½¿ç”¨é‚Šç•Œï¼ˆRisk Context Onlyï¼‰

> é¢¨æ§æ–‡ä»¶å®šç¾© Gateï¼›Feature åªèƒ½æä¾›ä¸Šä¸‹æ–‡ï¼Œä¸èƒ½å–ä»£ Gateã€‚  

### B5.1 Risk å¯å¼•ç”¨ Feature çš„åˆæ³•æ–¹å¼
- ä½œç‚ºé¢¨æ§è¨ˆç®—çš„ã€Œä¸Šä¸‹æ–‡è¼¸å…¥ã€ï¼š
  - æ³¢å‹•æ°´å¹³ã€é»å·®æ°´å¹³ã€æ·±åº¦å£“åŠ›ã€äº‹ä»¶çª—å£ã€è³‡æ–™å“è³ªç‹€æ…‹
- ä½†é¢¨æ§ PASS/VETO å¿…é ˆç”± RISK_COMPLIANCE çš„æ¢æ–‡è£æ±º

### B5.2 ç¦æ­¢äº‹é …
- ä»¥ Feature ç›´æ¥å®£å‘Š PASSï¼ˆSoft Passï¼‰
- ä»¥ Feature ç›´æ¥å®£å‘Š VETOï¼ˆé™¤éè©² feature æœ¬èº«æ˜¯é¢¨æ§æ¢æ–‡æ˜ å°„çš„ä¸€éƒ¨åˆ†ï¼Œä¸”å·²è¢«åˆ¶åº¦åŒ–ï¼‰
- ç”¨ AI æ¨¡å‹è¼¸å‡ºç•¶æˆé¢¨æ§è£æ±ºï¼ˆé™¤é RISK_COMPLIANCE æ˜ç¢ºå…è¨±ä¸”å¯å›æ”¾ï¼‰

é•è¦ç¢¼ï¼š
- `GOV-RISK-SOFTPASS-BY-FTR`
- `GOV-RISK-VETO-BY-FTR-UNAUTHORIZED`
- `GOV-RISK-AI-OVERRIDE`

---

## B6. Feature ç”Ÿå‘½é€±æœŸï¼ˆLifecycleï¼‰èˆ‡ç‰ˆæœ¬æ§ç®¡ï¼ˆVERSION_AUDIT å°ä½ï¼‰

### B6.1 Feature ç‹€æ…‹ï¼ˆStatusï¼‰
- `DRAFT`
- `ACTIVE`
- `DEPRECATED`ï¼ˆä¿ç•™å¯å›æ”¾ï¼Œä½†ä¸å¾—ç”¨æ–¼æ–°æ±ºç­–ï¼‰
- `RETIRED`ï¼ˆä»å¯å›æ”¾ï¼Œä½†éœ€æ›´åš´æ ¼æ¬Šé™ï¼‰

### B6.2 è®Šæ›´é¡å‹ï¼ˆChange Typesï¼‰
- `SEMANTIC_CHANGE` â†’ å¿…å‡ `VER`
- `IMPLEMENTATION_CHANGE` â†’ åªèƒ½æ”¹ `__impl`
- `DATA_SOURCE_CHANGE` â†’ å¯èƒ½å‡ `VER`ï¼ˆè‹¥å½±éŸ¿èªç¾©ï¼‰

### B6.3 å¿…å‚™å¯©è¨ˆè¼¸å‡ºï¼ˆèˆ‡ VERSION_AUDIT å°ä½ï¼‰
æ¯æ¬¡è®Šæ›´å¿…é ˆç”¢ç”Ÿï¼š
- `change_id`
- `feature_id_before` / `feature_id_after`
- `reason`
- `approver`
- `effective_time`
- `replay_compatibility_note`

---

## B7. è·¨æ–‡ä»¶ä¸€è‡´æ€§è¦æ±‚ï¼ˆDOCUMENT_INDEX / STRATEGY_UNIVERSEï¼‰

### B7.1 STRATEGY_UNIVERSE å¼•ç”¨ Feature çš„è¦å‰‡
- ç­–ç•¥æ¢ç›®ä¸­å¯ä»¥å¼•ç”¨ Feature ID ä½œç‚ºï¼š
  - Evidence æ§‹æˆè¦ä»¶
  - é©ç”¨æ¢ä»¶æè¿°
  - é¢¨æ§ä¸Šä¸‹æ–‡æç¤º
- ä½†ä¸å¾—å¼•ç”¨ã€Œæœªç™»è¨˜ Featureã€ï¼ˆæœªåœ¨æœ¬æ–‡ä»¶çš„ç´¢å¼•/æ¨¡æ¿ç®¡ç†ï¼‰

é•è¦ç¢¼ï¼š
- `GOV-STR-REF-UNKNOWN-FTR`
- `GOV-STR-REF-NONINDEX-DOC`ï¼ˆè‹¥å¼•ç”¨é Index æ–‡ä»¶ï¼‰

### B7.2 æ–°å°è©±å¯å±•é–‹çš„å¿…è¦æ€§ï¼ˆä½ é—œå¿ƒçš„é»ï¼‰
è¦è®“ã€Œæ–°å°è©±ã€èƒ½å±•é–‹ï¼Œæœ€ä½è¦åšåˆ°ï¼š
- Feature ID å‘½åè¦ç¯„å›ºå®š
- FeatureMeta template å›ºå®š
- èˆ‰ä¾‹ï¼ˆA7ï¼‰è¶³å¤ å…¨é¢ï¼Œèƒ½æŒ‡å‘ GMMA / é¡§æ¯”å€’æ•¸ / å¨ç§‘å¤« / çºè«–ï¼ˆé®‘è¿ªå…‹ï¼‰ç­‰æ–¹æ³•è«–

æœ¬ Part 3 çš„ä½œç”¨å°±æ˜¯æŠŠä¸Šè¿°ã€Œå±•é–‹ã€è®Šæˆå¯å¯©è¨ˆè¦å‰‡ï¼Œè€Œä¸æ˜¯é çŒœã€‚

---

## B8. Mermaidï½œFeature æ²»ç† Gate æµç¨‹åœ–ï¼ˆå®Œæ•´ï¼‰

```mermaid
flowchart TB
  F0[New/Updated Feature Proposal] --> G1{Gate-1 Semantic Boundary}
  G1 -->|FAIL| R1[RETURN: Fix Naming/Semantics<br/>Audit: GOV-FTR-SEM-*]
  G1 -->|PASS| G2{Gate-2 Provenance + Hash}
  G2 -->|FAIL| R2[RETURN: Fix Provenance/Hash<br/>Audit: GOV-FTR-PROV/HASH-*]
  G2 -->|PASS| G3{Gate-3 No Lookahead + Available_at}
  G3 -->|FAIL| R3[RETURN: Fix Lookahead/Available_at<br/>Audit: GOV-FTR-LOOKAHEAD]
  G3 -->|PASS| G4{Gate-4 Replay Determinism}
  G4 -->|FAIL| R4[RETURN: Snapshot/Determinism Required<br/>Audit: GOV-FTR-REPLAY-*]
  G4 -->|PASS| G5{Gate-5 Robust QA Handling}
  G5 -->|FAIL| R5[RETURN: Define QA/Halt/Outlier Handling<br/>Audit: GOV-FTR-QA-*]
  G5 -->|PASS| G6{Gate-6 Allowed/Forbidden Uses}
  G6 -->|FAIL| R6[RETURN: Fix Uses Whitelist/Blacklist<br/>Audit: GOV-FTR-USE-*]
  G6 -->|PASS| A1[APPROVE: Feature Eligible for Evidence/Regime Use<br/>Tier Controls Apply]
B9. Only-Add æ¼”é€²è¦å‰‡ï¼ˆPart 3 å°ˆå±¬ï¼‰
å…è¨±æ–°å¢ï¼š

æ–°çš„ Gate æª¢æ ¸é»ï¼ˆæ›´åš´æ ¼ï¼‰

æ–°çš„é•è¦åŸå› ç¢¼ï¼ˆreason_codeï¼‰

æ–°çš„ Feature Tierï¼ˆä½†ä¸å¾—æ”¾å¯¬æ—¢æœ‰ Tier çš„é™åˆ¶ï¼‰

æ–°çš„ç¯„ä¾‹èˆ‡æ¨¡æ¿æ¬„ä½ï¼ˆä¸å¾—ç§»é™¤æ—¢æœ‰æ¬„ä½ï¼‰

ç¦æ­¢ï¼š

åˆªé™¤ä»»ä½• Hard Gate

æŠŠæ–¹å‘åŒ–å‘½ååˆæ³•åŒ–

å…è¨± Feature ç›´æ¥æˆç‚ºç­–ç•¥æˆ–ä¸‹å–®æŒ‡ä»¤

ä»¥ã€Œç ”ç©¶æ–¹ä¾¿ã€ç‚ºç†ç”±è·³é provenance / replay / no-lookahead

ï¼ˆSTRATEGY_FEATURE_INDEXï½œPart 3ï¼šé™„éŒ„B v2025-12-19 å®Œï¼‰

# TAITS_ç­–ç•¥ç‰¹å¾µèˆ‡å› å­ç´¢å¼•ï¼ˆSTRATEGY_FEATURE_INDEXï¼‰__251219
doc_keyï¼šSTRATEGY_FEATURE_INDEX  
æ²»ç†ç­‰ç´šï¼šB+ï¼ˆFeature Governance & Semantic Boundary Charterï½œå…¨çŸ¥è­˜è‡ªæ´½æœ€å¤§å®Œå‚™ç‰ˆï¼‰  
é©ç”¨ç¯„åœï¼šTAITS å…¨ç³»çµ±ï¼ˆResearch / Backtest / Simulation / Paper / Liveï¼‰  
ç‰ˆæœ¬ç‹€æ…‹ï¼šACTIVEï¼ˆç‰¹å¾µå±¤æ²»ç†å°é ‚ï¼‹å¯å±•é–‹çŸ¥è­˜ç´¢å¼•ï¼ŒOnly-Add æ¼”é€²ï¼‰  
ç‰ˆæœ¬æ—¥æœŸï¼š2025-12-19  
å°é½Šæ¯æ³•ï¼šTAITS_AI_è¡Œç‚ºèˆ‡æ±ºç­–æ²»ç†æœ€çµ‚è¦å‰‡å…¨é›†__251217ï¼ˆA+ï¼‰  
ä¸Šä½ç´„æŸï¼šMASTER_ARCH / MASTER_CANON / DOCUMENT_INDEX  
å¹³è¡Œåƒç…§ï¼šSTRATEGY_UNIVERSE / ARCH_FLOW / RISK_COMPLIANCE / VERSION_AUDIT / UI_SPEC / DATA_SOURCES / TWSE_RULES  
è®Šæ›´åŸå‰‡ï¼šOnly-Addï¼ˆåªå¯æ–°å¢ï¼Œä¸å¯åˆªæ¸›ã€ä¸å¯è¦†å¯«ã€ä¸å¯æ”¹å¯«æ—¢æœ‰èªç¾©ã€ä¸å¯å¼±åŒ–é‚Šç•Œï¼‰  
æ ¸å¿ƒå®£å‘Šï¼šFeature â‰  Signal â‰  Strategy â‰  Orderï¼ˆç‰¹å¾µéè¨Šè™Ÿã€éç­–ç•¥ã€éä¸‹å–®ï¼‰  

---

# Part 4ï½œé™„éŒ„Cï¼šç‰¹å¾µè³‡æ–™çµæ§‹æ¨¡æ¿ï¼ˆSchemaï¼‰ï¼‹è½åœ°ç¯„ä¾‹ï¼ˆExamplesï¼‰ï¼‹UI/å¯©è¨ˆå°ä½ï¼ˆæœ€å¤§å®Œå‚™ï¼‰

> æœ¬ Part 4 ç‚º Part 1/Part 2/Part 3 çš„ **Only-Add æ“´å……**ã€‚  
> ç›®çš„ï¼šæä¾›ã€Œå¯ç›´æ¥è²¼ç”¨ã€çš„ç‰¹å¾µè³‡æ–™çµæ§‹æ¨¡æ¿ï¼ˆFeatureMeta / FeatureValue / ProvenanceMap / QualityFlagsï¼‰ï¼Œ  
> ä¸¦è£œé½Š GMMAã€é¡§æ¯”å€’æ•¸ç·šã€å¨ç§‘å¤«ã€çºè«–ï¼ˆé®‘è¿ªå…‹ï¼‰ç­‰æ–¹æ³•è«–åœ¨ TAITS ä¸­çš„ **ç‰¹å¾µåŒ–è½åœ°ç¯„ä¾‹**ï¼ˆæ³¨æ„ï¼šåªåšæè¿°æ€§ç‰¹å¾µï¼Œä¸è¼¸å‡ºäº¤æ˜“æ–¹å‘ï¼‰ã€‚

---

## C0. é™„éŒ„Cçš„ä½¿ç”¨é‚Šç•Œï¼ˆä¸å¯è¶Šæ¬Šï¼‰

- æœ¬é™„éŒ„æä¾›ã€Œçµæ§‹åŒ–æ¨¡æ¿ã€èˆ‡ã€Œæè¿°æ€§ç‰¹å¾µç¯„ä¾‹ã€ï¼š
  - âœ… å¯ç”¨æ–¼ L4 Feature Engine / L5 Evidence Builder / UI Explain / Audit Replay
  - âœ… å¯ç”¨æ–¼ STRATEGY_UNIVERSE çš„ç­–ç•¥æ¢ç›®å‚™è¨»å¼•ç”¨ï¼ˆä»¥ feature_id å¼•ç”¨ï¼‰
  - âŒ ä¸å¾—ç›´æ¥è®Šæˆç­–ç•¥è¦å‰‡ï¼ˆç­–ç•¥åœ¨ STRATEGY_UNIVERSE å®šç¾©ï¼‰
  - âŒ ä¸å¾—ç›´æ¥è®Šæˆä¸‹å–®ä¿¡è™Ÿï¼ˆä¸‹å–®åœ¨ EXECUTION_CONTROLï¼Œä¸”éœ€ Human + Risk Tokenï¼‰

---

## C1. FeatureMeta æ¨¡æ¿ï¼ˆCanonical Templateï½œæœ€å°å¿…å‚™æ¬„ä½ï¼‰

> FeatureMeta æ˜¯ã€Œç‰¹å¾µå®šç¾©æœ¬é«”ã€ï¼Œå±¬æ–¼æ²»ç†ç‰©ä»¶ï¼šå¿…é ˆç‰ˆæ§ã€å¯å¯©è¨ˆã€å¯å›æ”¾ã€‚  
> ä»»ä½•ç‰¹å¾µé€²å…¥ Evidence/Regime/Risk Context/UI Explainï¼Œéƒ½å¿…é ˆå…ˆæœ‰ FeatureMetaã€‚

```yaml
feature_meta:
  feature_id: "TECH.TREND.GMMA_SPREAD_RATIO"
  feature_name_zh: "GMMAé•·çŸ­ç¾¤å‡ç·šæ“´æ•£æ¯”ï¼ˆæè¿°æ€§ï¼‰"
  feature_name_en: "GMMA Spread Ratio (Descriptive)"
  domain: "TECH"                     # TECH/FUND/NEWS/MACRO/MKT/STRUCT/LIQ/ORDERFLOW/RISK/SYS/EVENT
  family: "TREND"                    # æ—ç¾¤åˆ†é¡ï¼šTREND/MOMENTUM/VOL/LIQ/STRUCT/VALUATION/QUALITY/...
  subfamily: "GMMA"                  # å­æ—ç¾¤ï¼šGMMA/WYCKOFF/CHANLUN_BODICK/...
  description: >
    æè¿°é•·çŸ­æœŸå‡ç·šç¾¤ä¹‹é–“çš„æ“´æ•£ç¨‹åº¦ï¼Œç”¨æ–¼åˆ»ç•«è¶¨å‹¢æœ‰åºåº¦èˆ‡å‹•èƒ½ç‹€æ…‹ï¼Œ
    åƒ…è¼¸å‡ºé€£çºŒæ•¸å€¼ï¼Œä¸è¼¸å‡ºè²·è³£æ–¹å‘ã€‚
  output_semantics: "ratio_non_directional"  # å¿…é ˆæ˜¯æè¿°æ€§èªç¾©
  unit: "ratio"
  value_type: "float"                # float/int/bool/category/struct
  value_range: "[0, +inf)"
  default_timeframe: "D"             # 1m/5m/15m/60m/D/W/M
  computation:
    formula_summary: "spread = mean(abs(short_group - long_group))/price"
    lookahead_policy: "NO_LOOKAHEAD"
    required_inputs:
      - "PRICE.CLOSE"
      - "TECH.MA(3,5,8,10,12,15,30,35,40,45,50,60)"
    dependencies:
      - "DATA_SOURCES:TWSE_OHLCV"
      - "FEATURES:TECH.MA_GROUPS"
  tier: "T3"                         # T0/T1/T2/T3/T4
  status: "ACTIVE"                   # DRAFT/ACTIVE/DEPRECATED/RETIRED
  allowed_uses:
    - "EVIDENCE_INPUT"
    - "REGIME_INPUT"
    - "AUDIT_EXPLAIN"
    - "UI_EXPLAIN"
  forbidden_uses:
    - "DIRECT_SIGNAL"
    - "DIRECT_STRATEGY"
    - "DIRECT_ORDER"
  quality_checks:
    missing_policy: "FLAG"           # FLAG/IMPUTE/STOP (STOP å¿…é ˆå‡ç´šæ²»ç†)
    outlier_policy: "WINSORIZE"      # NONE/WINSORIZE/FLAG/STOP
    halt_handling: "FREEZE_LAST"     # FREEZE_LAST/FLAG/STOP/NA
  provenance_requirements:
    require_provenance_map: true
    require_input_hash: true
    require_output_hash: true
    require_available_at: false      # FUND/EVENT/NEWS é¡é€šå¸¸ true
  audit_requirements:
    audit_layer: "L4"
    must_emit_artifacts:
      - "FeatureValueRecord"
      - "ProvenanceMapRef"
      - "QualityFlags"
  versioning:
    feature_version: "1.0.0"
    impl_version: "impl_2025-12-19_001"
    change_policy: "SEMANTIC_CHANGE=>bump_feature_version"
  ui_explain:
    explain_level: "L2"              # L1/L2/L3ï¼ˆUI_SPEC å°ä½ï¼‰
    display_hint: "å¯è¦–åŒ–ç‚ºè¶¨å‹¢æœ‰åºåº¦/æ“´æ•£ç¨‹åº¦ï¼Œç¦æ­¢é¡¯ç¤ºè²·è³£ç®­é ­"
C2. FeatureValueRecord æ¨¡æ¿ï¼ˆå€¼ç´€éŒ„ï½œå¿…å‚™å¯å›æ”¾ï¼‰
FeatureValueRecord æ˜¯ã€ŒæŸä¸€æ¬¡è¨ˆç®—å‡ºçš„ç‰¹å¾µå€¼ã€ï¼šå¿…é ˆå¯å›æ”¾ã€å¯ç¨½æ ¸ã€‚

json
è¤‡è£½ç¨‹å¼ç¢¼
{
  "record_type": "FeatureValueRecord",
  "correlation_id": "CID-20251219-000001",
  "session_id": "SID-20251219-000009",
  "timestamp_utc": "2025-12-19T00:01:23Z",
  "market_time": "2025-12-19T13:31:00+08:00",
  "layer_id": "L4",
  "module_id": "FEATURE_ENGINE",
  "feature_id": "TECH.TREND.GMMA_SPREAD_RATIO",
  "feature_version": "1.0.0",
  "impl_version": "impl_2025-12-19_001",
  "instrument": "TWSE:2330",
  "timeframe": "D",
  "value_type": "float",
  "value": 0.0375,
  "value_ref": null,
  "quality_flags": {
    "missing": false,
    "halted": false,
    "outlier": false,
    "source_degraded": false
  },
  "available_at": null,
  "input_hash": "sha256:....",
  "output_hash": "sha256:....",
  "provenance_map_ref": "PROV-20251219-000001",
  "version_ref": {
    "doc_key": ["STRATEGY_FEATURE_INDEX@251219", "DATA_SOURCES@251219"],
    "policy": ["RISK_POLICY@..."],
    "rulebook": ["TWSE_RULES@251219"]
  },
  "status": "SUCCESS",
  "reason_codes": []
}
C3. ProvenanceMap æ¨¡æ¿ï¼ˆä¾†æºå¯è¿½æº¯åœ–ï½œå¿…å‚™ï¼‰
ProvenanceMap å°‡ã€Œç‰¹å¾µå€¼ã€è¿½æº¯åˆ°ã€Œè³‡æ–™ä¾†æºã€èˆ‡ã€ŒåŸå§‹è¼¸å…¥ç¯„åœã€ã€‚
æ²’æœ‰ provenance_map_ref â†’ Part 3 Gate-2 å¤±æ•—ã€‚

json
è¤‡è£½ç¨‹å¼ç¢¼
{
  "record_type": "ProvenanceMap",
  "provenance_id": "PROV-20251219-000001",
  "correlation_id": "CID-20251219-000001",
  "created_at_utc": "2025-12-19T00:01:23Z",
  "instrument": "TWSE:2330",
  "timeframe": "D",
  "inputs": [
    {
      "field": "PRICE.CLOSE",
      "source": "DATA_SOURCES:TWSE_OHLCV",
      "source_priority": "OFFICIAL_PRIMARY",
      "time_range": ["2025-10-01", "2025-12-19"],
      "raw_ref": "RAWSET-...-CLOSE",
      "transform_chain": ["canonicalize", "adjust_corporate_actions"]
    },
    {
      "field": "TECH.MA_GROUPS",
      "source": "FEATURES:TECH.MA_GROUPS",
      "source_priority": "INTERNAL_DERIVED",
      "time_range": ["2025-10-01", "2025-12-19"],
      "raw_ref": "FTRSET-...-MA",
      "transform_chain": ["ma_calc", "group_aggregate"]
    }
  ],
  "integrity": {
    "input_hashes": ["sha256:...","sha256:..."],
    "provenance_hash": "sha256:..."
  }
}
C4. QualityFlags / Degrade Policyï¼ˆå“è³ªæ——æ¨™èˆ‡é™ç´šèªç¾©ï¼‰
æ³¨æ„ï¼šé™ç´šåªå½±éŸ¿ã€Œå¯ç”¨æ€§ã€èˆ‡ã€Œæ¨™è¨˜ã€ï¼Œä¸å¾—å·å·ä¿®æ­£æˆæ–¹å‘æˆ–æ©è“‹ç¼ºå¤±ã€‚

C4.1 QualityFlagsï¼ˆæœ€å°é›†åˆï¼‰
missingï¼šç¼ºå€¼ï¼ˆå«ä»»ä¸€é—œéµè¼¸å…¥ç¼ºå¤±ï¼‰

haltedï¼šåœç‰Œ/ä¸å¯äº¤æ˜“ç‹€æ…‹

outlierï¼šæ¥µç«¯å€¼

source_degradedï¼šä¾†æºé™ç´šï¼ˆå®˜æ–¹â†’å‚™æ´ï¼‰

staleï¼šè³‡æ–™éèˆŠï¼ˆå»¶é²è¶…éé–€æª»ï¼‰

late_availableï¼šå…¬å‘Šå‹è³‡æ–™å°šæœªå¯å¾—ï¼ˆFUND/EVENTï¼‰

C4.2 é™ç´šèªç¾©ï¼ˆç¤ºä¾‹ï¼‰
FLAGï¼šä¿ç•™å€¼æˆ–è¨­ç‚º nullï¼Œä½†å¿…æ¨™è¨˜ä¸¦åœ¨ Evidence é¡¯ç¤ºä¸å®Œæ•´

STOPï¼šåœæ­¢è¼¸å‡ºï¼ŒEvidence ä¸å¾—ä½¿ç”¨ï¼ˆå¯ RETURNï¼‰

IMPUTEï¼šåƒ…é™ç ”ç©¶/å›æ¸¬ä¸”æ˜ç¤ºï¼ˆLive ä¸å»ºè­°ï¼Œé™¤éåˆ¶åº¦åŒ–ï¼‰

C5. æ–¹æ³•è«–è½åœ°ç¯„ä¾‹ï¼ˆDescriptive Feature Examplesï½œæœ€å¤§å®Œå‚™ï¼‰
æœ¬ç¯€æ˜¯ä½ æœ€åœ¨æ„çš„ã€Œå‚™è¨»å¯å±•é–‹ã€è½åœ°ï¼š
æŠŠ GMMA / é¡§æ¯”å€’æ•¸ç·š / å¨ç§‘å¤« / çºè«–ï¼ˆé®‘è¿ªå…‹ï¼‰å„è‡ªæ‹†æˆã€Œæè¿°æ€§ç‰¹å¾µã€å¯å¼•ç”¨ã€‚
é€™äº›ç‰¹å¾µä¸ç”¢ç”Ÿè²·è³£æ–¹å‘ï¼Œåªæä¾›å¯è§£é‡‹çš„ç‹€æ…‹åˆ»ç•«ï¼Œä¾› Evidence/Regime/ç­–ç•¥æ¢ç›®å‚™è¨»å¼•ç”¨ã€‚

C5.1 GMMAï¼ˆé¡§æ¯”å‡ç·šç¾¤ï¼‰ç‰¹å¾µæ—ï¼ˆTECH.TREND.GMMA_*ï¼‰
GMMA æœ¬è³ªï¼šçŸ­æœŸç¾¤èˆ‡é•·æœŸç¾¤çš„ç›¸å°ä½ç½®ã€æ“´æ•£ã€æ”¶æ–‚ã€æ–œç‡ç‹€æ…‹ï¼ˆå…¨éƒ¨æè¿°æ€§ï¼‰ã€‚

GMMA-Aï¼šç¾¤æ“´æ•£ç¨‹åº¦ï¼ˆå·²æ–¼ C1 ç¯„ä¾‹ï¼‰
TECH.TREND.GMMA_SPREAD_RATIO

èªç¾©ï¼šçŸ­ç¾¤ vs é•·ç¾¤çš„æ“´æ•£ç¨‹åº¦ï¼ˆè¶Šå¤§ä»£è¡¨è¶¨å‹¢æœ‰åºåº¦å¯èƒ½æ›´å¼·ï¼Œä½†ä¸ç­‰æ–¼åšå¤š/åšç©ºï¼‰

GMMA-Bï¼šç¾¤ç›¸å°ä½éšï¼ˆçŸ­ç¾¤åœ¨ä¸Š/ä¸‹ï¼‰
TECH.TREND.GMMA_STACKING_STATE

value_typeï¼šcategoryï¼ˆSHORT_ABOVE_LONG / MIXED / SHORT_BELOW_LONGï¼‰

ç¦æ­¢ï¼šæŠŠ SHORT_ABOVE_LONG ç›´æ¥ç•¶è²·é€²

GMMA-Cï¼šç¾¤æ”¶æ–‚ç‹€æ…‹ï¼ˆå£“ç¸®/æ“´å¼µï¼‰
TECH.TREND.GMMA_COMPRESSION_STATE

value_typeï¼šcategoryï¼ˆCOMPRESSING / EXPANDING / NEUTRALï¼‰

å¯ç”¨æ–¼ Regimeï¼šè¶¨å‹¢ç‹€æ…‹/ç›¤æ•´ç‹€æ…‹çš„è­‰æ“šä¹‹ä¸€

GMMA-Dï¼šé•·ç¾¤æ–œç‡ç©©å®šæ€§ï¼ˆè¶¨å‹¢ç©©å®šï¼‰
TECH.TREND.GMMA_LONG_SLOPE_STABILITY

value_typeï¼šfloatï¼ˆä¾‹å¦‚æ–œç‡è®Šç•°ä¿‚æ•¸ï¼‰

ç”¨é€”ï¼šæè¿°ã€Œè¶¨å‹¢æ˜¯å¦ç©©å®šã€ï¼Œéæ–¹å‘

C5.2 é¡§æ¯”å€’æ•¸ç·šï¼ˆGuppy Countdownï¼‰ç‰¹å¾µæ—ï¼ˆTECH.MOMENTUM.COUNTDOWN_*ï¼‰
å€’æ•¸ç·šå¸¸ç”¨æ–¼ã€Œç¯€å¥ã€èˆ‡ã€Œè€—ç«­ã€çš„æè¿°ï¼šç”¨å€’æ•¸é€²åº¦è€Œéè¨Šè™Ÿã€‚

CD-Aï¼šå€’æ•¸é€²åº¦ï¼ˆ0~Nï¼‰
TECH.MOMENTUM.COUNTDOWN_PROGRESS

value_typeï¼šint

èªç¾©ï¼šç•¶å‰è™•æ–¼å€’æ•¸åºåˆ—çš„é€²åº¦ï¼ˆä¾‹å¦‚ 0..13ï¼‰

ç¦æ­¢ï¼šé€²åº¦é”åˆ° N ç›´æ¥è¦–ç‚ºåè½‰è¨Šè™Ÿï¼ˆé‚£æ˜¯ç­–ç•¥å±¤ï¼‰

CD-Bï¼šå€’æ•¸æ¢ä»¶å®Œæ•´åº¦
TECH.MOMENTUM.COUNTDOWN_CONDITION_COVERAGE

value_typeï¼šfloatï¼ˆ0..1ï¼‰

èªç¾©ï¼šå€’æ•¸å¿…è¦æ¢ä»¶æ»¿è¶³æ¯”ä¾‹ï¼ˆæè¿°æ€§ï¼‰

CD-Cï¼šå€’æ•¸ä¸­æ–·åŸå› ï¼ˆè‹¥ä¸­æ–·ï¼‰
TECH.MOMENTUM.COUNTDOWN_INTERRUPT_REASON

value_typeï¼šcategory

èªç¾©ï¼šå€’æ•¸ç‚ºä½•ä¸­æ–·ï¼ˆç¼ºè³‡æ–™/ç‹€æ…‹ä¸ç¬¦/åœç‰Œç­‰ï¼‰

C5.3 å¨ç§‘å¤«ï¼ˆWyckoffï¼‰ç‰¹å¾µæ—ï¼ˆSTRUCT.WYCKOFF_*ï¼‰
å¨ç§‘å¤«å±¬ã€Œçµæ§‹/éšæ®µã€ï¼šä»¥éšæ®µã€äº‹ä»¶ã€ä¾›éœ€ç‰¹å¾µåˆ»ç•«ï¼Œä¸è¼¸å‡ºæ–¹å‘ã€‚

WY-Aï¼šéšæ®µæ¨™ç±¤ï¼ˆPhaseï¼‰
STRUCT.WYCKOFF_PHASE_LABEL

categoryï¼šACCUMULATION / MARKUP / DISTRIBUTION / MARKDOWN / UNKNOWN

æ³¨æ„ï¼šæ­¤ç‚ºã€Œçµæ§‹æ¨å®šç‹€æ…‹ã€ï¼Œå¿…é ˆå¤šè­‰æ“šä¸€è‡´æ€§ï¼ˆVolume/Range/Trend/Support/Resistance ç­‰ï¼‰

WY-Bï¼šä¾›éœ€ä¸å¹³è¡¡å¼·åº¦ï¼ˆSupply-Demand Imbalanceï¼‰
STRUCT.WYCKOFF_SDI_SCORE

floatï¼šä¾›éœ€ä¸å¹³è¡¡ç¨‹åº¦ï¼ˆæè¿°æ€§ scoreï¼‰

WY-Cï¼šäº‹ä»¶æ——æ¨™ï¼ˆäº‹ä»¶ä¸ç­‰æ–¼äº¤æ˜“ï¼‰
STRUCT.WYCKOFF_EVENT_FLAG

categoryï¼ˆå¯å¤šå€¼ï¼‰ï¼šSC/AR/ST/SPRING/UTAD/NONE

ç¦æ­¢ï¼šæŠŠ SPRING ç›´æ¥ç•¶è²·é€²ä¿¡è™Ÿï¼ˆç­–ç•¥å±¤æ‰èƒ½æ±ºå®šï¼‰

WY-Dï¼šæˆäº¤é‡-åƒ¹å·®é—œä¿‚ï¼ˆVSA é¢¨æ ¼çš„æè¿°ï¼‰
STRUCT.WYCKOFF_VOLUME_SPREAD_RELATION

categoryï¼šWIDE_SPREAD_HIGH_VOL / NARROW_SPREAD_HIGH_VOL / ...

ç”¨é€”ï¼šEvidence æˆ– UI Explain

C5.4 çºè«–ï¼ˆé®‘è¿ªå…‹çºè«–ï¼‰ç‰¹å¾µæ—ï¼ˆSTRUCT.CHANLUN_BODICK_*ï¼‰
çºè«–ï¼ˆä½œç‚ºçµæ§‹èˆ‡åˆ¤æ–·é«”ç³»ï¼‰åœ¨ TAITS ä¸­è½åœ°æ–¹å¼ï¼š
ä»¥ã€Œçµæ§‹æ®µè½ã€ç­†/ç·šæ®µ/ä¸­æ¨ã€èƒŒé›¢ç‹€æ…‹ã€ç´šåˆ¥ä¸€è‡´æ€§ã€ç­‰æè¿°æ€§ç‰¹å¾µè¼¸å‡ºã€‚

CLB-Aï¼šçµæ§‹ç´šåˆ¥ï¼ˆLevelï¼‰
STRUCT.CHANLUN_BODICK_LEVEL

categoryï¼šMINOR/MAJOR/MULTI_LEVELï¼ˆæˆ–ä½ åœ¨æ¯æ³•ä¸­å®šç¾©çš„ç´šåˆ¥é«”ç³»ï¼‰

ç”¨é€”ï¼šæ¨™è¨˜ç•¶å‰çµæ§‹è§£ææ‰€å±¬ç´šåˆ¥

CLB-Bï¼šä¸­æ¨å­˜åœ¨æ€§èˆ‡ç¯„åœ
STRUCT.CHANLUN_BODICK_ZS_EXISTS

boolï¼šæ˜¯å¦å­˜åœ¨æœ‰æ•ˆä¸­æ¨ï¼ˆæè¿°æ€§ï¼‰

STRUCT.CHANLUN_BODICK_ZS_RANGE

structï¼š{low, high, width_ratio}ï¼ˆæè¿°æ€§ï¼‰

CLB-Cï¼šç­†/ç·šæ®µæ–¹å‘ï¼ˆåƒ…çµæ§‹æ–¹å‘ï¼Œä¸æ˜¯äº¤æ˜“æ–¹å‘ï¼‰
STRUCT.CHANLUN_BODICK_SEGMENT_DIRECTION

categoryï¼šUP_SEGMENT / DOWN_SEGMENT / UNKNOWN

ç¦æ­¢ï¼šæŠŠ UP_SEGMENT ç›´æ¥è¦–ç‚ºè²·å…¥ï¼ˆç­–ç•¥å±¤å†ç”¨ï¼‰

CLB-Dï¼šèƒŒé›¢ç‹€æ…‹ï¼ˆDivergence Stateï¼‰
STRUCT.CHANLUN_BODICK_DIVERGENCE_STATE

categoryï¼šNONE/WEAK/STRONG/UNDETERMINED

å¿…é ˆè¨˜éŒ„ï¼šä½¿ç”¨çš„å‹•èƒ½/é‡èƒ½/åƒ¹æ ¼çµæ§‹ä¾æ“šï¼ˆprovenanceï¼‰

CLB-Eï¼šå¤šç´šåˆ¥ä¸€è‡´æ€§ï¼ˆAlignmentï¼‰
STRUCT.CHANLUN_BODICK_MULTI_LEVEL_ALIGNMENT

floatï¼š0..1ï¼ˆå„ç´šåˆ¥çµæ§‹ä¸€è‡´ç¨‹åº¦ï¼‰

ç”¨é€”ï¼šRegime / Evidenceï¼ˆæè¿°æ€§ï¼‰

C6. UI_EXPLAIN å°ä½ï¼ˆèˆ‡ UI_SPEC çš„æ¥å£æ¬„ä½ï¼‰
æœ¬ç¯€å®šç¾© Feature åœ¨ UI ä¸Šçš„æœ€å°å‘ˆç¾ç¾©å‹™ï¼ˆä¸å–ä»£ UI_SPECï¼Œåªæä¾›æ¥å£ä¸€è‡´æ€§ï¼‰ã€‚

C6.1 UI å¿…é ˆèƒ½é¡¯ç¤ºï¼ˆå¯å±•é–‹ï¼‰
feature_name_zh

feature_valueï¼ˆå« unitï¼‰

quality_flags

provenance_map_refï¼ˆå¯é»é–‹é¡¯ç¤ºä¾†æºï¼‰

computed_at / market_time

feature_version / impl_version

C6.2 UI ç¦æ­¢é¡¯ç¤ºæ–¹å¼
ç¦æ­¢ç›´æ¥ä»¥ç®­é ­/é¡è‰²æš—ç¤ºè²·è³£ï¼ˆé™¤é UI æ˜ç¢ºæ¨™ç¤ºã€Œé€™æ˜¯æè¿°æ€§ç‹€æ…‹ã€ä¸”ä¸ä½œäº¤æ˜“å¼•å°ï¼‰

ç¦æ­¢æŠŠ Feature ç•¶ä½œ PASS/VETOï¼ˆRisk ä»ç”± RISK_COMPLIANCE è£æ±ºï¼‰

C7. å¯©è¨ˆè¼¸å‡ºï¼ˆAudit Artifactsï¼‰æœ€å°æ¸…å–®ï¼ˆå°ä½ ARCH_FLOW / VERSION_AUDITï¼‰
Feature å±¤ï¼ˆL4ï¼‰è‡³å°‘å¿…é ˆè¼¸å‡ºï¼š

FeatureValueRecordï¼ˆæ¯å€‹ feature æ¯æ¬¡è¨ˆç®—ï¼‰

ProvenanceMapï¼ˆå¯èšåˆä½†ä¸å¯ç¼ºï¼‰

QualityFlags

VersionRefï¼ˆdoc_key/policy/rulebook/implï¼‰

Hashï¼ˆinput/output/provenanceï¼‰

è‹¥ç¼ºä»»ä¸€é …ï¼š

åœ¨ Live/Paper å¯å‡ç´šç‚ºé¢¨æ§å¦æ±ºï¼ˆSYS-AUDIT / SYS-PROVï¼‰

C8. Mermaidï½œFeature â†’ Evidence â†’ Regime çš„åˆæ³•æµï¼ˆå®Œæ•´ï¼‰
mermaid
è¤‡è£½ç¨‹å¼ç¢¼
flowchart TB
  L3[Snapshot Ready] --> L4[Feature Engine<br/>Compute FeatureValueRecords]
  L4 --> P[ProvenanceMap + Hash + QualityFlags]
  P --> G{Feature Governance Gates<br/>Part3 Gate-1..6}
  G -->|FAIL| R[RETURN: Fix Feature Meta/Provenance/Replay]
  G -->|PASS| L5[Evidence Builder<br/>Assemble Evidence Bundle]
  L5 --> L6[Regime Engine<br/>State Classification]
  L6 --> L7[Risk & Compliance Gate<br/>PASS/VETO]
C9. Only-Add æ¼”é€²è¦å‰‡ï¼ˆPart 4 å°ˆå±¬ï¼‰
å…è¨±æ–°å¢ï¼š

æ–°çš„ FeatureMeta æ¬„ä½ï¼ˆä¸å¾—åˆªèˆŠæ¬„ä½ï¼‰

æ–°çš„æ–¹æ³•è«–ç‰¹å¾µæ—ï¼ˆå¦‚æ–°å¢æ–°çš„ ChanLun å­ç³»ï¼‰

æ–°çš„ UI æç¤ºæ¬„ä½ï¼ˆä¸å¾—å¼±åŒ–é¢¨éšªæ­éœ²ï¼‰

æ–°çš„å“è³ªæ——æ¨™èˆ‡ä¾†æºæ˜ å°„

ç¦æ­¢ï¼š

ä»»ä½•æŠŠæè¿°æ€§ç‰¹å¾µå·æ›æˆæ–¹å‘/ä¿¡è™Ÿ/ç­–ç•¥/ä¸‹å–®æ„åœ–çš„æ”¹å‹•

åˆªé™¤ Provenance / Hash / Replay å¿…å‚™æ¬„ä½

ä»¥ã€Œç°¡åŒ–ã€ä¹‹åç§»é™¤æ–¹æ³•è«–ç‰¹å¾µæ‹†è§£ï¼ˆè‹¥è¦ç°¡åŒ–åªèƒ½åœ¨ UI å±¤æŠ˜ç–Šå‘ˆç¾ï¼‰

ï¼ˆSTRATEGY_FEATURE_INDEXï½œPart 4ï¼šé™„éŒ„C v2025-12-19 å®Œï¼‰
