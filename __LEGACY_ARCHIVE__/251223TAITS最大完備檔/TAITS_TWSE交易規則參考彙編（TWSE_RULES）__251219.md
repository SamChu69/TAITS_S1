<<<<<<< HEAD
# TAITS_TWSEäº¤æ˜“è¦å‰‡åƒè€ƒå½™ç·¨ï¼ˆTWSE_RULESï¼‰__251219
doc_keyï¼šTWSE_RULES  
æ²»ç†ç­‰ç´šï¼šBï¼ˆMarket Rule Reference & Compliance Trigger Mapï½œåˆ¶åº¦åƒè€ƒèˆ‡åˆè¦è§¸ç™¼æ˜ å°„ï¼‰  
é©ç”¨ç¯„åœï¼šTAITS å°ç£å¸‚å ´ï¼ˆTWSE / TPEX / TAIFEX ä¹‹ã€Œåˆ¶åº¦å¼•ç”¨ã€å±¤ï¼›è£æ±ºä»¥å®˜æ–¹ç‚ºæº–ï¼‰  
ç‰ˆæœ¬ç‹€æ…‹ï¼šACTIVEï¼ˆåˆ¶åº¦åƒè€ƒèˆ‡è§¸ç™¼æ˜ å°„å¯ Only-Add æ“´å……ï¼›ä¸å¾—å¯«æ­»å¯è®Šåˆ¶åº¦ï¼‰  
ç‰ˆæœ¬æ—¥æœŸï¼š2025-12-19  
å°é½Šæ¯æ³•ï¼šTAITS_AI_è¡Œç‚ºèˆ‡æ±ºç­–æ²»ç†æœ€çµ‚è¦å‰‡å…¨é›†__251217ï¼ˆA+ï¼‰  
ä¸Šä½ç´„æŸï¼šMASTER_ARCH / MASTER_CANON / DOCUMENT_INDEX / RISK_COMPLIANCE  
å¹³è¡Œåƒç…§ï¼šFULL_ARCH / ARCH_FLOW / EXECUTION_CONTROL / VERSION_AUDIT / DATA_UNIVERSE / DEPLOY_OPS / UI_SPEC / LOCAL_ENV  
è®Šæ›´åŽŸå‰‡ï¼šOnly-Addï¼ˆåªå¯æ–°å¢žï¼Œä¸å¯åˆªæ¸›/è¦†å¯«/å·æ›åˆ¶åº¦èªžç¾©ï¼›åˆ¶åº¦è£æ±ºä¸€å¾‹ä»¥å®˜æ–¹æœ€æ–°ç‚ºæº–ï¼‰  
æ ¸å¿ƒéµå¾‹ï¼š**åˆ¶åº¦ä¸å¾—è¢«å¯«æ­»**ï¼›TAITS åªä¿å­˜ã€Œåƒè€ƒå½™ç·¨ï¼‹è§¸ç™¼æ˜ å°„ï¼‹å¿«ç…§å¼•ç”¨ã€ï¼›æ‰€æœ‰åˆè¦è£æ±ºå¿…é ˆå¯è¿½æº¯åˆ°å®˜æ–¹ä¾†æºèˆ‡åˆ¶åº¦å¿«ç…§ï¼ˆRulebook Snapshotï¼‰

---

## 0. æ–‡ä»¶å®šä½ï¼ˆRule Reference Charterï¼‰

æœ¬æ–‡ä»¶ç‚º TAITS çš„ã€Œå°ç£å¸‚å ´äº¤æ˜“è¦å‰‡åƒè€ƒå½™ç·¨èˆ‡åˆè¦è§¸ç™¼æ˜ å°„ï¼ˆRule Trigger Mapï¼‰ã€æ–‡ä»¶ï¼Œç›®çš„åœ¨æ–¼ï¼š

- æä¾› TAITS é€²è¡Œã€Œåˆè¦åˆ¤å®šã€æ™‚æ‰€éœ€çš„åˆ¶åº¦åƒè€ƒæ¡†æž¶ï¼ˆéžå–ä»£å®˜æ–¹è£æ±ºï¼‰
- å»ºç«‹åˆ¶åº¦çš„ **Rulebook Snapshotï¼ˆè¦å‰‡å¿«ç…§ï¼‰** èˆ‡ **Trigger Mapï¼ˆè§¸ç™¼æ˜ å°„ï¼‰**ï¼š
  - å“ªä¸€æ¢åˆ¶åº¦å°æ‡‰å“ªä¸€é¡žäº¤æ˜“è¡Œç‚º
  - ä½•æ™‚æ‡‰è§¸ç™¼é¢¨æŽ§/åˆè¦æª¢æŸ¥
  - è§¸ç™¼å¾Œæ˜¯ PASS / VETO / RETURN / BLOCK
- ç¢ºä¿ TAITS éµå®ˆï¼š
  - **Binary Complianceï¼ˆåˆè¦äºŒå…ƒè£æ±ºï¼šPASS/VETOï¼‰**
  - **Evidence æ³•å¾‹åœ°ä½ï¼ˆç„¡å¿«ç…§/ç„¡å¼•ç”¨ï¼ä¸å¯è£æ±ºï¼‰**
  - **Only-Addï¼ˆåˆ¶åº¦æ›´æ–°ç”¨æ–°å¿«ç…§è¿½åŠ ï¼Œä¸è¦†å¯«èˆŠå…§å®¹ï¼‰**
- æ”¯æ´ TWSEï¼ˆä¸Šå¸‚ï¼‰ã€TPEXï¼ˆä¸Šæ«ƒï¼‰ã€TAIFEXï¼ˆæœŸè²¨/é¸æ“‡æ¬Šï¼‰åˆ¶åº¦å¼•ç”¨ï¼ˆæ“´å……æ€§ï¼‰

ðŸ“Œ æœ¬æ–‡ä»¶ä¸åšçš„äº‹ï¼ˆé¿å…è¶Šæ¬Šï¼‰ï¼š
- ä¸å®£ç¨±æœ¬æ–‡ä»¶å…§å®¹æ°¸é æ­£ç¢ºæˆ–æœ€æ–°ï¼ˆåˆ¶åº¦ä»¥å®˜æ–¹æ›´æ–°ç‚ºæº–ï¼‰
- ä¸æŠŠåˆ¶åº¦å…§å®¹ã€Œå¯«æ­»åœ¨ç¨‹å¼ã€ä½œæ°¸ä¹…è£æ±º
- ä¸æ›¿ä»£ RISK_COMPLIANCE çš„å¦æ±ºæ¢æ–‡èˆ‡ reason codes è¨­è¨ˆ
- å°ˆæ³¨ï¼šåˆ¶åº¦å¼•ç”¨å¦‚ä½•é€²å…¥ TAITS çš„ã€Œåˆè¦å¿«ç…§ï¼‹è§¸ç™¼æ˜ å°„ï¼‹ç¨½æ ¸å¯å›žæ”¾ã€

---

## 1. å®˜æ–¹åˆ¶åº¦ä¾†æºï¼ˆOfficial Sourcesï½œå¿…é ˆæä¾›å¯è¿½æº¯ç¶²å€ï¼‰

> TAITS ä»»ä½•åˆè¦è£æ±ºï¼Œå¿…é ˆèƒ½å›žæŒ‡åˆ°ä»¥ä¸‹å®˜æ–¹ä¾†æºä¹‹ä¸€ï¼ˆæˆ–å…¶å®˜æ–¹ç­‰åƒ¹å…¥å£ï¼‰ï¼Œä¸¦åœ¨ Rulebook Snapshot ä¸­ä¿å­˜å¼•ç”¨è­‰æ“šã€‚

### 1.1 TWSEï¼ˆè‡ºç£è­‰åˆ¸äº¤æ˜“æ‰€ï¼‰å®˜æ–¹åˆ¶åº¦
- TWSE è¦ç« ï¼æ³•è¦æŸ¥è©¢ï¼ˆRegulation Search / Rulesï¼‰  
  https://twse-regulation.twse.com.tw/
- TWSE å®˜æ–¹ç¶²ç«™ï¼ˆå…¬å‘Š/å¸‚å ´è³‡è¨Šï¼‰  
  https://www.twse.com.tw/

### 1.2 TPEXï¼ˆæ«ƒè²·ä¸­å¿ƒï¼‰å®˜æ–¹åˆ¶åº¦
- æ«ƒè²·ä¸­å¿ƒå®˜æ–¹ç¶²ç«™ï¼ˆæ³•è¦/åˆ¶åº¦/å…¬å‘Šï¼‰  
  https://www.tpex.org.tw/

### 1.3 TAIFEXï¼ˆè‡ºç£æœŸè²¨äº¤æ˜“æ‰€ï¼‰å®˜æ–¹åˆ¶åº¦
- TAIFEX è¦ç« åˆ¶åº¦ï¼ˆRules & Regulationsï¼‰  
  https://www.taifex.com.tw/

### 1.4 é‡‘ç®¡æœƒï¼ˆFSCï¼‰èˆ‡ç›¸é—œåˆ¶åº¦ï¼ˆå¿…è¦æ™‚ï¼‰
- é‡‘ç®¡æœƒå®˜æ–¹ç¶²ç«™ï¼ˆæ³•è¦/å…¬å‘Šï¼‰  
  https://www.fsc.gov.tw/

ðŸ“Œ è¦å‰‡å¼•ç”¨åŽŸå‰‡ï¼ˆç¡¬è¦å‰‡ï¼‰  
- åˆè¦è£æ±ºä¸å¾—åªå¼•ç”¨ã€Œç¬¬ä¸‰æ–¹æ•´ç†æ–‡ç« ã€  
- è‹¥å› æŠ€è¡“æˆ–æ¬Šé™é™åˆ¶æš«æ™‚ç„¡æ³•æŠ“å–å®˜æ–¹æ–‡æœ¬ï¼Œä¹Ÿå¿…é ˆè¨˜éŒ„ï¼š
  - ä¾†æºå˜—è©¦ã€æ™‚é–“æˆ³ã€æ›¿ä»£ä¾†æºï¼ˆfallbackï¼‰ã€ä¸¦æ¨™è¨˜ã€Œæœªé”å¯è£æ±ºç­‰ç´šã€â†’ RETURN/BLOCK

---

## 2. Rulebook Snapshotï¼ˆåˆ¶åº¦å¿«ç…§ï¼‰æ²»ç†ï¼ˆæ ¸å¿ƒåˆ¶åº¦ï¼‰

### 2.1 ç‚ºä»€éº¼å¿…é ˆå¿«ç…§
äº¤æ˜“åˆ¶åº¦æœƒæ›´æ–°ã€‚è‹¥ TAITS ç›´æŽ¥å¯«æ­»åˆ¶åº¦æ¢æ–‡ï¼š
- æœƒé€ æˆåˆè¦åˆ¤å®šä¸å¯è¿½æº¯ã€ä¸å¯å›žæ”¾ã€ä¸å¯ç¨½æ ¸
- æœƒé€ æˆã€Œå›žæ¸¬/å›žæ”¾ã€èˆ‡ã€Œç•¶ä¸‹åˆ¶åº¦ã€æ··æ·†

å› æ­¤ TAITS å¿…é ˆä»¥ Rulebook Snapshot å½¢å¼ç®¡ç†åˆ¶åº¦ï¼š
- **æ¯ä¸€æ¬¡åˆè¦è£æ±ºéƒ½ç¶å®šä¸€ä»½ `rulebook_snapshot_ref`**
- Snapshot ä»¥ Only-Add ç®¡ç†ï¼ˆæ–°å¢žç‰ˆæœ¬ï¼Œä¸è¦†å¯«èˆŠç‰ˆæœ¬ï¼‰

### 2.2 Snapshot æœ€å°å…§å®¹ï¼ˆä¸å¯ç¸®æ¸›ï¼‰
æ¯ä¸€ä»½ `rulebook_snapshot` è‡³å°‘åŒ…å«ï¼š

- `rulebook_snapshot_id`
- `scope`ï¼šTWSE / TPEX / TAIFEX / FSCï¼ˆå¯å¤šé¸ï¼‰
- `captured_at`ï¼šæ“·å–æ™‚é–“
- `source_urls[]`ï¼šå®˜æ–¹ç¶²å€æ¸…å–®ï¼ˆå¿…å¡«ï¼‰
- `source_evidence_refs[]`ï¼šæ“·å–è­‰æ“šï¼ˆHTML/PDF æˆªåœ–/å›žæ‡‰é ­/Hashï¼‰
- `normalized_ruleset_ref`ï¼šåˆ¶åº¦æ­£è¦åŒ–å¾Œçš„çµæ§‹åŒ–è¡¨ç¤ºï¼ˆæ¢æ¬¾â†’è§¸ç™¼â†’åˆ¤å®šï¼‰
- `hash_manifest_ref`ï¼šä¸å¯ç«„æ”¹æ ¡é©—
- `notes`ï¼šåƒ…èƒ½è£œå……ï¼Œä¸èƒ½å–ä»£å®˜æ–¹å…§å®¹

### 2.3 Snapshot èˆ‡ VERSION_AUDIT çš„é—œä¿‚
- `rulebook_snapshot_ref` å¿…é ˆè¢«ç´å…¥ Active Version Map
- ç¼º snapshot â†’ è¦–ç‚º `CMP-RULEBOOK-MISSING` â†’ VETO/BLOCKï¼ˆä¾ RISK_COMPLIANCEï¼‰

---

## 3. åˆ¶åº¦ä¸æ˜¯æ¢æ–‡å †ç–Šï¼šRule Trigger Mapï¼ˆè§¸ç™¼æ˜ å°„ï¼‰

> æœ€å¤§å®Œå‚™çš„é—œéµä¸åœ¨ã€ŒæŠ„æ¢æ–‡ã€ï¼Œè€Œåœ¨ã€ŒæŠŠåˆ¶åº¦è®Šæˆå¯åŸ·è¡Œçš„è§¸ç™¼æ˜ å°„ã€ä¸¦å¯ç¨½æ ¸å¯å›žæ”¾ã€‚

### 3.1 Trigger Map çš„å®šç¾©
Trigger Map å°‡ã€Œäº¤æ˜“è¡Œç‚ºã€æ˜ å°„åˆ°ã€Œå¿…é ˆæª¢æŸ¥çš„åˆ¶åº¦/è¦å‰‡é¡žåž‹ã€ï¼š

- **è¡Œç‚ºï¼ˆActionï¼‰**ï¼šé€å–®ã€æ”¹å–®ã€æ’¤å–®ã€ä¸‹å¸‚å€¼/é™åƒ¹ã€ç›¤ä¸­/ç›¤å¾Œã€é›¶è‚¡ã€ä¿¡ç”¨äº¤æ˜“ã€ETFã€æœŸè²¨ç­‰
- **æƒ…å¢ƒï¼ˆContextï¼‰**ï¼šäº¤æ˜“æ™‚æ®µã€æ¨™çš„ç‹€æ…‹ï¼ˆè™•ç½®/æš«åœ/å…¨é¡äº¤å‰²ç­‰ï¼‰ã€å¸‚å ´ç‹€æ…‹ï¼ˆç†”æ–·/è·Œåœç­‰ï¼‰
- **è¦å‰‡ï¼ˆRuleï¼‰**ï¼šåˆ¶åº¦æ¢æ¬¾ï¼ˆä»¥ snapshot å¼•ç”¨ï¼‰
- **çµæžœï¼ˆDecisionï¼‰**ï¼šPASS / VETO / RETURN / BLOCK
- **åŽŸå› ç¢¼ï¼ˆReason Codesï¼‰**ï¼šå¿…é ˆèƒ½å°æ‡‰ RISK_COMPLIANCE çš„ reason_code

### 3.2 Trigger Map çš„è¼¸å‡ºä½ç½®
- Risk/Compliance Engineï¼ˆL7ï¼‰å¿…é ˆä½¿ç”¨ Trigger Map åšåˆè¦è£æ±º
- UIï¼ˆL10ï¼‰å¿…é ˆå¯è¦–åŒ–ã€Œæ˜¯å“ªä¸€æ¢åˆ¶åº¦è§¸ç™¼äº†å“ªå€‹åŽŸå› ç¢¼ã€
- Auditï¼ˆVERSION_AUDITï¼‰å¿…é ˆä¿å­˜ã€Œè§¸ç™¼éˆã€ä»¥å›žæ”¾

---

## 4. TAITS åˆè¦åˆ¤å®šæž¶æ§‹ï¼ˆCompliance Decision Architectureï¼‰

### 4.1 åˆè¦åˆ¤å®šçš„äºŒå…ƒæ€§ï¼ˆBinary Complianceï¼‰
- åˆè¦è¼¸å‡ºå¿…é ˆæ˜¯ï¼š
  - `PASS` æˆ– `VETO`
- `RETURN` åªç”¨æ–¼ã€Œè³‡æ–™ä¸è¶³ä¸å¯è£æ±ºã€æƒ…æ³ï¼ˆä¾‹å¦‚ç¼ºå®˜æ–¹å¿«ç…§ã€ç¼ºæ¨™çš„ç‹€æ…‹è³‡æ–™ï¼‰
- `BLOCK` ç”¨æ–¼ã€Œç³»çµ±å®Œæ•´æ€§ä¸è¶³ã€æƒ…æ³ï¼ˆä¾‹å¦‚ç¼ºç‰ˆæœ¬æ˜ å°„ã€ç¨½æ ¸ä¸å¯å¯«å…¥ï¼‰

### 4.2 åˆè¦åˆ¤å®šä¸å¯è¢«ç¸¾æ•ˆè¾¯è­·
- ä»»ä½•ç­–ç•¥ç¸¾æ•ˆã€å›žæ¸¬å‹çŽ‡ã€AI å»ºè­°éƒ½ä¸å¾—æŽ¨ç¿»åˆè¦ VETO

---

## 5. è¦å‰‡åˆ†é¡žï¼ˆRule Taxonomyï½œæœ€å¤§å®Œå‚™éª¨æž¶ï¼‰

> ä¸‹åˆ—åˆ†é¡žç”¨æ–¼åˆ¶åº¦æ­£è¦åŒ–èˆ‡ reason codes å°é½Šï¼›å…·é«”æ¢æ–‡å…§å®¹ä»¥ snapshot é€£çµä¿å­˜ã€‚
> æœ¬ç¯€æ˜¯ã€Œéª¨æž¶ã€ï¼Œé¿å…å¯«æ­»åˆ¶åº¦ï¼Œä¸¦æ”¯æ´ Only-Add æ“´å……ã€‚

### 5.1 Trading Session & Calendar Rulesï¼ˆäº¤æ˜“æ™‚æ®µ/äº¤æ˜“æ—¥æ›†ï¼‰
- äº¤æ˜“æ—¥/éžäº¤æ˜“æ—¥
- é–‹æ”¶ç›¤æ™‚æ®µã€ç›¤ä¸­ã€ç›¤å¾Œ
- ä¾‹å¤–äº¤æ˜“æ—¥ã€è‡¨æ™‚åœå¸‚ç­‰ï¼ˆä»¥å®˜æ–¹å…¬å‘Šç‚ºæº–ï¼‰

**è§¸ç™¼é»ž**ï¼šL7 åˆè¦å¿…æŸ¥ï¼ˆä»»ä½•é€å–®ï¼‰

### 5.2 Instrument Eligibility Rulesï¼ˆæ¨™çš„å¯äº¤æ˜“æ€§ï¼‰
- æ˜¯å¦å¯äº¤æ˜“ï¼ˆåœæ­¢äº¤æ˜“ã€æš«åœã€ä¸‹å¸‚/ä¸‹æ«ƒï¼‰
- ç‰¹æ®Šç‹€æ…‹ï¼ˆè™•ç½®è‚¡ç¥¨ã€å…¨é¡äº¤å‰²ã€è­¦ç¤ºã€æ³¨æ„ç­‰ï¼‰
- æ¨™çš„å±¬æ€§ï¼ˆè‚¡ç¥¨/ETF/æ¬Šè­‰/å—ç›Šæ†‘è­‰ç­‰ï¼‰

**è§¸ç™¼é»ž**ï¼šL7 åˆè¦å¿…æŸ¥ï¼ˆæ¨™çš„å±¤ç´šï¼‰

### 5.3 Price Limit & Auction Rulesï¼ˆæ¼²è·Œå¹…/æ’®åˆ/åƒ¹æ ¼é™åˆ¶ï¼‰
- æ¼²è·Œåœé™åˆ¶èˆ‡å¯æŽ¥å—åƒ¹æ ¼å€é–“
- æ’®åˆè¦å‰‡ï¼ˆé›†åˆç«¶åƒ¹/é€ç­†äº¤æ˜“ç­‰ï¼‰

**è§¸ç™¼é»ž**ï¼šL11 Preflight + L7 åˆè¦ï¼ˆé¿å…é€å‡ºåˆ¶åº¦ä¸å…è¨±å§”è¨—ï¼‰

### 5.4 Order Type & Quantity Rulesï¼ˆå§”è¨—é¡žåž‹/æ•¸é‡/å–®ä½ï¼‰
- é™åƒ¹/å¸‚åƒ¹/å…¶ä»–å§”è¨—é¡žåž‹ï¼ˆä¾å¸‚å ´/å•†å“ï¼‰
- æœ€å°äº¤æ˜“å–®ä½ã€é›¶è‚¡äº¤æ˜“è¦å‰‡ã€å–®ç­†ä¸Šé™ç­‰

**è§¸ç™¼é»ž**ï¼šL11 Intent Compiler + L7 åˆè¦

### 5.5 Short Selling / Margin Rulesï¼ˆèžè³‡èžåˆ¸/æ”¾ç©ºç›¸é—œï¼‰
- ä¿¡ç”¨äº¤æ˜“è³‡æ ¼ã€å¯èž/å¯å€Ÿåˆ¸ç‹€æ…‹ã€é™åˆ¶æ¢æ¬¾ç­‰

**è§¸ç™¼é»ž**ï¼šL7 åˆè¦ï¼ˆå¸³æˆ¶æ¬Šé™ + æ¨™çš„ç‹€æ…‹ + äº¤æ˜“è¡Œç‚ºï¼‰

### 5.6 Corporate Actions & Symbol Changesï¼ˆé™¤æ¬Šæ¯/ä»£ç¢¼è®Šæ›´ï¼‰
- é™¤æ¬Šæ¯ã€åˆ†å‰²ã€åˆä½µã€åœæ­¢éŽæˆ¶æœŸé–“ç­‰å½±éŸ¿å¯äº¤æ˜“æ€§/åƒ¹æ ¼èª¿æ•´

**è§¸ç™¼é»ž**ï¼šL2/L3 è³‡æ–™æ­£è¦åŒ– + L7 åˆè¦ï¼ˆé˜²æ­¢ç”¨éŒ¯åƒ¹æ ¼åŸºæº–ï¼‰

### 5.7 Market-Wide Controlsï¼ˆå¸‚å ´ç´šç®¡åˆ¶ï¼‰
- ç†”æ–·ã€ç·Šæ€¥æŽªæ–½ã€è‡¨æ™‚æ’®åˆèª¿æ•´ç­‰

**è§¸ç™¼é»ž**ï¼šL6 Regime/Market State + L7 åˆè¦ + L11 Circuit Breaker

### 5.8 Derivatives-Specific Rulesï¼ˆæœŸè²¨/é¸æ“‡æ¬Šç‰¹æœ‰ï¼‰
- å•†å“è¦æ ¼ã€åˆ°æœŸã€æ¼²è·Œåœã€ä¿è­‰é‡‘ã€äº¤æ˜“æ™‚æ®µç­‰

**è§¸ç™¼é»ž**ï¼šL7 åˆè¦ + L11 preflightï¼ˆTAIFEXï¼‰

---

## 6. åˆè¦ Reason Codesï¼ˆåŽŸå› ç¢¼ï¼‰èˆ‡åˆ¶åº¦å¼•ç”¨ï¼ˆMappingï¼‰

> Reason Codes çš„å‘½åèˆ‡å®Œæ•´æ¸…å–®ä»¥ RISK_COMPLIANCE ç‚ºè£æ±ºã€‚
> æœ¬æ–‡ä»¶æä¾›ã€Œæ˜ å°„æ¡†æž¶ã€ï¼šæ¯å€‹åŽŸå› ç¢¼å¿…é ˆå¯å›žæŒ‡åˆ¶åº¦å¿«ç…§èˆ‡è§¸ç™¼æ¢ä»¶ã€‚

### 6.1 åŽŸå› ç¢¼æ˜ å°„æœ€å°æ¬„ä½ï¼ˆä¸å¯ç¸®æ¸›ï¼‰
- `reason_code`
- `category`ï¼šCMP / MKT / EXE / SYS
- `trigger_condition`ï¼šè§¸ç™¼æ¢ä»¶ï¼ˆçµæ§‹åŒ–ï¼‰
- `rulebook_snapshot_ref`
- `official_source_urls[]`
- `evidence_refs[]`ï¼ˆä¾‹å¦‚æ¨™çš„ç‹€æ…‹/äº¤æ˜“æ™‚æ®µ/åƒ¹æ ¼å€é–“è¨ˆç®—ï¼‰
- `ui_display_text_zh`ï¼ˆç¹ä¸­é¡¯ç¤ºï¼‰
- `severity`ï¼šVETO/BLOCK/RETURN

### 6.2 å¸¸è¦‹åŽŸå› ç¢¼é¡žåž‹ï¼ˆéª¨æž¶ï¼‰
- `CMP-SESSION-CLOSED`ï¼šäº¤æ˜“æ™‚æ®µä¸å…è¨±
- `CMP-INSTRUMENT-HALTED`ï¼šæ¨™çš„æš«åœ/åœæ­¢äº¤æ˜“
- `CMP-INSTRUMENT-RESTRICTED`ï¼šè™•ç½®/é™åˆ¶
- `CMP-ORDER-TYPE-NOT-ALLOWED`ï¼šå§”è¨—é¡žåž‹ä¸ç¬¦
- `CMP-PRICE-OUT-OF-BOUNDS`ï¼šåƒ¹æ ¼è¶…å‡ºå¯æŽ¥å—å€é–“
- `CMP-LOT-SIZE-INVALID`ï¼šäº¤æ˜“å–®ä½ä¸ç¬¦ï¼ˆæ•´è‚¡/é›¶è‚¡ï¼‰
- `CMP-MARGIN-NOT-ELIGIBLE`ï¼šä¿¡ç”¨äº¤æ˜“ä¸ç¬¦è³‡æ ¼
- `CMP-RULEBOOK-MISSING`ï¼šåˆ¶åº¦å¿«ç…§ç¼ºå¤±ï¼ˆç³»çµ±ç´šåˆè¦ä¸å¯è£æ±ºï¼‰

> æ³¨æ„ï¼šä»¥ä¸Šåƒ…ç‚ºåˆ†é¡žç¤ºæ„ï¼›æ­£å¼ reason codes ç”± RISK_COMPLIANCE çµ±ä¸€è£æ±ºã€‚

---

## 7. åˆè¦è§¸ç™¼é»žï¼ˆHard Triggersï½œåœ¨å“ªä¸€å±¤å¿…æŸ¥ï¼‰

### 7.1 L7ï¼ˆRisk/Compliance Gateï¼‰å¿…æŸ¥é …ç›®ï¼ˆä¸å¯çœç•¥ï¼‰
- äº¤æ˜“æ™‚æ®µ/äº¤æ˜“æ—¥æ›†ï¼ˆSession/Calendarï¼‰
- æ¨™çš„å¯äº¤æ˜“æ€§ï¼ˆEligibilityï¼‰
- å¸³æˆ¶æ¬Šé™é™åˆ¶ï¼ˆä¾‹å¦‚ä¿¡ç”¨äº¤æ˜“ï¼‰
- åˆ¶åº¦å¿«ç…§å­˜åœ¨èˆ‡å¯è¿½æº¯ï¼ˆRulebook Snapshotï¼‰

### 7.2 L11ï¼ˆExecution Preflightï¼‰å¿…æŸ¥é …ç›®ï¼ˆä¸å¯çœç•¥ï¼‰
- é€å–®å‰å†æ¬¡æ ¸å°ï¼š
  - é¢¨æŽ§ PASS Token
  - é€šé“å¥åº·
  - å§”è¨—å…§å®¹åˆæ³•æ€§ï¼ˆåƒ¹æ ¼å€é–“ã€æ•¸é‡å–®ä½ã€å§”è¨—é¡žåž‹ï¼‰
- ä»»ä½• mismatch â†’ BLOCK ä¸¦å›žå ± UIï¼ˆUI é¡¯ç¤ºåŽŸå› ç¢¼ï¼‰

### 7.3 UIï¼ˆL10ï¼‰å¿…å‘ˆç¾é …ç›®ï¼ˆä¸å¯çœç•¥ï¼‰
- æœ¬æ¬¡è£æ±ºä½¿ç”¨çš„ `rulebook_snapshot_ref`
- è§¸ç™¼çš„åˆ¶åº¦åˆ†é¡žèˆ‡åŽŸå› ç¢¼
- å®˜æ–¹ä¾†æºé€£çµï¼ˆè‡³å°‘å¯é»žé–‹çœ‹åˆ° source_urlsï¼‰

---

## 8. Rule Trigger Mapï¼ˆåˆ¶åº¦è§¸ç™¼æ˜ å°„ï¼‰è³‡æ–™çµæ§‹ï¼ˆå¯è½åœ°ï¼‰

> é€™æ˜¯ä¸€å€‹å¯ç›´æŽ¥ä½œç‚ºå·¥ç¨‹è³‡æ–™è¡¨/JSON schema çš„è¦æ ¼éª¨æž¶ï¼ˆæœ€å¤§å®Œå‚™ï¼‰ã€‚
> å¯¦éš›å­˜æ”¾å¯ç”± DATA_UNIVERSE/DEPLOY_OPS æ±ºå®šï¼Œä½†èªžç¾©ä¸å¾—æ”¹ã€‚

### 8.1 Trigger Map Recordï¼ˆå–®ç­†ï¼‰
- `trigger_id`
- `market_scope`ï¼šTWSE/TPEX/TAIFEX
- `action_type`ï¼šSUBMIT / MODIFY / CANCEL / QUERY / RECONCILE
- `instrument_type`ï¼šEQUITY / ETF / WARRANT / FUTURES / OPTIONS â€¦
- `order_type`ï¼šLIMIT / MARKET / â€¦ï¼ˆè‹¥é©ç”¨ï¼‰
- `time_context`ï¼šPREOPEN / REGULAR / POST / OFF_SESSION
- `conditions`ï¼š
  - `symbol_state`ï¼ˆhalted/restricted/normalâ€¦ï¼‰
  - `price_bounds`ï¼ˆéœ€å¼•ç”¨è¨ˆç®—è­‰æ“šï¼‰
  - `lot_rules`ï¼ˆæ•´è‚¡/é›¶è‚¡ï¼‰
  - `account_permissions`ï¼ˆmargin/short/derivativesâ€¦ï¼‰
- `decision`ï¼šPASS/VETO/RETURN/BLOCK
- `reason_codes[]`
- `rulebook_snapshot_ref`
- `official_source_urls[]`
- `audit_refs[]`ï¼ˆevidence refs, calculations, snapshotsï¼‰
- `ui_text_zh`

---

## 9. Mermaidï½œåˆ¶åº¦è§¸ç™¼åˆ°åˆè¦å¦æ±ºçš„æµç¨‹åœ–ï¼ˆå¯æ”¾å…¥ mdï¼‰

```mermaid
flowchart TB
  A[L1-L2 Data + Calendar + Symbol State] --> B[L5 Evidence Bundle]
  B --> C[L6 Regime/Market State]
  C --> D[L7 Compliance Trigger Map Lookup]
  D --> E{Rulebook Snapshot Exists?}
  E -->|NO| X[RETURN/BLOCK<br/>CMP-RULEBOOK-MISSING]
  E -->|YES| F[Evaluate Rule Conditions]
  F --> G{Compliance Decision}
  G -->|PASS| H[Issue PASS + Token]
  G -->|VETO| I[VETO + reason_codes + source_urls]
  I --> UI[UI shows VETO + Codes + Official Links]
  H --> UI2[UI shows PASS + snapshot_ref]
10. å¸¸è¦‹è½åœ°æƒ…å¢ƒï¼ˆScenario Coverageï½œæœ€å¤§å®Œå‚™ï¼‰
æœ¬ç¯€ä¸æ˜¯æŠ„æ¢æ–‡ï¼Œè€Œæ˜¯æŠŠ TAITS éœ€è¦è™•ç†çš„æƒ…å¢ƒã€Œåˆ¶åº¦åŒ–ã€æˆè§¸ç™¼é¡žåž‹ï¼Œä¾¿æ–¼å·¥ç¨‹å¯¦ä½œèˆ‡ç¨½æ ¸ã€‚

10.1 éžäº¤æ˜“æ™‚æ®µé€å–®
è§¸ç™¼ï¼šCMP-SESSION-CLOSED

ä¾æ“šï¼šTWSE/TPEX/TAIFEX å®˜æ–¹äº¤æ˜“æ™‚æ®µå…¬å‘Šï¼ˆsource_urlsï¼‰

è¼¸å‡ºï¼šVETOï¼ˆBinaryï¼‰

10.2 æ¨™çš„æš«åœ/åœæ­¢äº¤æ˜“ï¼ˆhaltedï¼‰
è§¸ç™¼ï¼šCMP-INSTRUMENT-HALTED

è­‰æ“šï¼šsymbol_state snapshot + å®˜æ–¹å…¬å‘Š ref

è¼¸å‡ºï¼šVETO

10.3 è™•ç½®/é™åˆ¶è‚¡ç¥¨
è§¸ç™¼ï¼šCMP-INSTRUMENT-RESTRICTED

è­‰æ“šï¼šè™•ç½®æ¸…å–®æˆ–å…¬å‘Š refï¼ˆsource_urlsï¼‰

è¼¸å‡ºï¼šVETO æˆ–æ›´åš´æ ¼é™åˆ¶ï¼ˆç”± policy è£æ±ºï¼‰

10.4 é›¶è‚¡ vs æ•´è‚¡äº¤æ˜“å–®ä½ä¸ç¬¦
è§¸ç™¼ï¼šCMP-LOT-SIZE-INVALID

è­‰æ“šï¼šorder intent + lot rules

è¼¸å‡ºï¼šVETO æˆ– RETURNï¼ˆè‹¥ç¼º lot rule snapshotï¼‰

10.5 åƒ¹æ ¼è¶…å‡ºå…è¨±å€é–“
è§¸ç™¼ï¼šCMP-PRICE-OUT-OF-BOUNDS

è­‰æ“šï¼šprice bounds è¨ˆç®—ï¼ˆä»¥å¿«ç…§è³‡æ–™èˆ‡åˆ¶åº¦å¿«ç…§ç‚ºæº–ï¼‰

è¼¸å‡ºï¼šVETO

10.6 ä¿¡ç”¨äº¤æ˜“/æ”¾ç©ºè³‡æ ¼ä¸ç¬¦
è§¸ç™¼ï¼šCMP-MARGIN-NOT-ELIGIBLE

è­‰æ“šï¼šaccount permission snapshot + æ¨™çš„å¯èž/å¯å€Ÿåˆ¸ç‹€æ…‹ + åˆ¶åº¦å¿«ç…§

è¼¸å‡ºï¼šVETO

10.7 åˆ¶åº¦å¿«ç…§ç¼ºå¤±æˆ–ä¸å¯è¿½æº¯
è§¸ç™¼ï¼šCMP-RULEBOOK-MISSING / SYS-VERSION

è¼¸å‡ºï¼šBLOCKï¼ˆç³»çµ±ç´šé˜»æ–·ï¼Œå› ä¸å¯è£æ±ºï¼‰

11. å¯©è¨ˆè¼¸å‡ºï¼ˆAudit Outputsï½œå¿…é ˆè½åœ°ï¼‰
æœ¬ç¯€æ˜¯ã€Œæœ€å¤§å®Œå‚™ã€å¼·åˆ¶è¦æ±‚ï¼šæ¯æ¬¡åˆè¦è£æ±ºéƒ½è¦ç•™ä¸‹å¯å›žæ”¾è­‰æ“šã€‚

æ¯ä¸€æ¬¡ L7 åˆè¦åˆ¤å®šï¼Œå¿…é ˆç”¢ç”Ÿï¼š

risk_gate_decision_refï¼ˆåŒ…å« compliance éƒ¨åˆ†ï¼‰

rulebook_snapshot_ref

trigger_map_evaluation_ref

reason_codes[]

official_source_urls[]

evidence_refs[]ï¼ˆäº¤æ˜“æ™‚æ®µã€æ¨™çš„ç‹€æ…‹ã€åƒ¹æ ¼å€é–“è¨ˆç®—ç­‰ï¼‰

hash_manifest_ref

ç´å…¥ active_version_map_ref

UIï¼ˆL10ï¼‰å¿…é ˆé¡¯ç¤ºï¼š

rulebook_snapshot_ref

reason_codes[]

official_source_urls[]ï¼ˆå¯é»žé–‹ï¼‰

ä¸å¾—ç”¨æ¨¡ç³Šèªžå¥å–ä»£ VETO

12. åˆ¶åº¦æ›´æ–°ç­–ç•¥ï¼ˆNo-Write-Dead Rulesï½œä¸å¾—å¯«æ­»ï¼‰
12.1 æ›´æ–°æ–¹å¼ï¼ˆOnly-Addï¼‰
ä»»ä½•åˆ¶åº¦æ›´æ–°ï¼š

æ–°å¢ž rulebook_snapshot

æ–°å¢ž Trigger Map æ¢ç›®ï¼ˆå¦‚éœ€è¦ï¼‰

æ›´æ–° policy/version map æŒ‡å‘ï¼ˆåˆ‡æ› ACTIVE ç‰ˆæœ¬ï¼‰

ç¦æ­¢ï¼š

è¦†å¯«èˆŠå¿«ç…§å…§å®¹

æŠŠèˆŠå¿«ç…§åˆªæŽ‰

ç”¨ã€Œæ”¹ç¨‹å¼ç¢¼ã€å–ä»£åˆ¶åº¦å¿«ç…§æ²»ç†

12.2 æ›´æ–°é »çŽ‡ï¼ˆå»ºè­°ï¼Œä¸æ˜¯è£æ±ºï¼‰
æ¯æ—¥é–‹ç›¤å‰ï¼šæª¢æŸ¥åˆ¶åº¦ä¾†æºèˆ‡å…¬å‘Šæ›´æ–°ï¼ˆDEPLOY_OPS Runbookï¼‰

ç™¼ç”Ÿé‡å¤§äº‹ä»¶/å…¬å‘Šï¼šç«‹å³ç”Ÿæˆæ–°å¿«ç…§ä¸¦è¿½åŠ ç¨½æ ¸äº‹ä»¶

13. Only-Add æ¼”é€²è¦å‰‡ï¼ˆTWSE_RULES å°ˆå±¬ï¼‰
å…è¨±æ–°å¢žï¼š

æ–°å¸‚å ´/å•†å“ç¯„åœï¼ˆTPEX/TAIFEXï¼‰

æ–°åˆ¶åº¦åˆ†é¡žï¼ˆRule Taxonomyï¼‰

æ–°è§¸ç™¼æ˜ å°„ï¼ˆTrigger Map Recordsï¼‰

æ–° reason codes æ˜ å°„æ¬„ä½ï¼ˆæ›´åš´æ ¼ã€æ›´å¯è¿½æº¯ï¼‰

æ–°çš„å®˜æ–¹ä¾†æºå…¥å£ï¼ˆä¾‹å¦‚æ–°å¢žå…¬å‘Šé é¢é¡žåž‹ï¼‰

ç¦æ­¢ï¼š

æŠŠåˆ¶åº¦å…§å®¹ã€Œå¯«æ­»ã€ä½œæ°¸ä¹…è£æ±º

ç§»é™¤å®˜æ–¹ä¾†æºç¶²å€æˆ–å¿«ç…§å¼•ç”¨

å…è¨±ç¼ºå¿«ç…§ä»åšåˆè¦ PASS

ç”¨ç¬¬ä¸‰æ–¹è³‡æ–™è£æ±ºåˆ¶åº¦ï¼ˆåªèƒ½ä½œ fallback ä¸¦é™ç´šç‚ºä¸å¯è£æ±º â†’ RETURN/BLOCKï¼‰

14. çµ‚æ¥µè£æ±ºèªžå¥ï¼ˆä¸å¯æ›´æ”¹ï¼‰
åˆè¦ä¸æ˜¯ã€Œçœ‹èµ·ä¾†åˆç†ã€ï¼Œè€Œæ˜¯ã€Œå¯å›žæŒ‡å®˜æ–¹ã€å¯å›žæ”¾å¿«ç…§ã€å¯ç¨½æ ¸è§¸ç™¼éˆã€ã€‚
ä»»ä½•ç¼ºå¿«ç…§ã€ç¼ºä¾†æºã€ç¼ºè§¸ç™¼æ˜ å°„çš„åˆè¦åˆ¤å®šï¼Œéƒ½ä¸å…è¨±é€šéŽã€‚

ï¼ˆTWSE_RULESï½œæœ€å¤§å®Œå‚™ç‰ˆ v2025-12-19 å®Œï¼‰
=======
# TAITS_TWSEäº¤æ˜“è¦å‰‡åƒè€ƒå½™ç·¨ï¼ˆTWSE_RULESï¼‰__251219
doc_keyï¼šTWSE_RULES  
æ²»ç†ç­‰ç´šï¼šBï¼ˆMarket Rule Reference & Compliance Trigger Mapï½œåˆ¶åº¦åƒè€ƒèˆ‡åˆè¦è§¸ç™¼æ˜ å°„ï¼‰  
é©ç”¨ç¯„åœï¼šTAITS å°ç£å¸‚å ´ï¼ˆTWSE / TPEX / TAIFEX ä¹‹ã€Œåˆ¶åº¦å¼•ç”¨ã€å±¤ï¼›è£æ±ºä»¥å®˜æ–¹ç‚ºæº–ï¼‰  
ç‰ˆæœ¬ç‹€æ…‹ï¼šACTIVEï¼ˆåˆ¶åº¦åƒè€ƒèˆ‡è§¸ç™¼æ˜ å°„å¯ Only-Add æ“´å……ï¼›ä¸å¾—å¯«æ­»å¯è®Šåˆ¶åº¦ï¼‰  
ç‰ˆæœ¬æ—¥æœŸï¼š2025-12-19  
å°é½Šæ¯æ³•ï¼šTAITS_AI_è¡Œç‚ºèˆ‡æ±ºç­–æ²»ç†æœ€çµ‚è¦å‰‡å…¨é›†__251217ï¼ˆA+ï¼‰  
ä¸Šä½ç´„æŸï¼šMASTER_ARCH / MASTER_CANON / DOCUMENT_INDEX / RISK_COMPLIANCE  
å¹³è¡Œåƒç…§ï¼šFULL_ARCH / ARCH_FLOW / EXECUTION_CONTROL / VERSION_AUDIT / DATA_UNIVERSE / DEPLOY_OPS / UI_SPEC / LOCAL_ENV  
è®Šæ›´åŽŸå‰‡ï¼šOnly-Addï¼ˆåªå¯æ–°å¢žï¼Œä¸å¯åˆªæ¸›/è¦†å¯«/å·æ›åˆ¶åº¦èªžç¾©ï¼›åˆ¶åº¦è£æ±ºä¸€å¾‹ä»¥å®˜æ–¹æœ€æ–°ç‚ºæº–ï¼‰  
æ ¸å¿ƒéµå¾‹ï¼š**åˆ¶åº¦ä¸å¾—è¢«å¯«æ­»**ï¼›TAITS åªä¿å­˜ã€Œåƒè€ƒå½™ç·¨ï¼‹è§¸ç™¼æ˜ å°„ï¼‹å¿«ç…§å¼•ç”¨ã€ï¼›æ‰€æœ‰åˆè¦è£æ±ºå¿…é ˆå¯è¿½æº¯åˆ°å®˜æ–¹ä¾†æºèˆ‡åˆ¶åº¦å¿«ç…§ï¼ˆRulebook Snapshotï¼‰

---

## 0. æ–‡ä»¶å®šä½ï¼ˆRule Reference Charterï¼‰

æœ¬æ–‡ä»¶ç‚º TAITS çš„ã€Œå°ç£å¸‚å ´äº¤æ˜“è¦å‰‡åƒè€ƒå½™ç·¨èˆ‡åˆè¦è§¸ç™¼æ˜ å°„ï¼ˆRule Trigger Mapï¼‰ã€æ–‡ä»¶ï¼Œç›®çš„åœ¨æ–¼ï¼š

- æä¾› TAITS é€²è¡Œã€Œåˆè¦åˆ¤å®šã€æ™‚æ‰€éœ€çš„åˆ¶åº¦åƒè€ƒæ¡†æž¶ï¼ˆéžå–ä»£å®˜æ–¹è£æ±ºï¼‰
- å»ºç«‹åˆ¶åº¦çš„ **Rulebook Snapshotï¼ˆè¦å‰‡å¿«ç…§ï¼‰** èˆ‡ **Trigger Mapï¼ˆè§¸ç™¼æ˜ å°„ï¼‰**ï¼š
  - å“ªä¸€æ¢åˆ¶åº¦å°æ‡‰å“ªä¸€é¡žäº¤æ˜“è¡Œç‚º
  - ä½•æ™‚æ‡‰è§¸ç™¼é¢¨æŽ§/åˆè¦æª¢æŸ¥
  - è§¸ç™¼å¾Œæ˜¯ PASS / VETO / RETURN / BLOCK
- ç¢ºä¿ TAITS éµå®ˆï¼š
  - **Binary Complianceï¼ˆåˆè¦äºŒå…ƒè£æ±ºï¼šPASS/VETOï¼‰**
  - **Evidence æ³•å¾‹åœ°ä½ï¼ˆç„¡å¿«ç…§/ç„¡å¼•ç”¨ï¼ä¸å¯è£æ±ºï¼‰**
  - **Only-Addï¼ˆåˆ¶åº¦æ›´æ–°ç”¨æ–°å¿«ç…§è¿½åŠ ï¼Œä¸è¦†å¯«èˆŠå…§å®¹ï¼‰**
- æ”¯æ´ TWSEï¼ˆä¸Šå¸‚ï¼‰ã€TPEXï¼ˆä¸Šæ«ƒï¼‰ã€TAIFEXï¼ˆæœŸè²¨/é¸æ“‡æ¬Šï¼‰åˆ¶åº¦å¼•ç”¨ï¼ˆæ“´å……æ€§ï¼‰

ðŸ“Œ æœ¬æ–‡ä»¶ä¸åšçš„äº‹ï¼ˆé¿å…è¶Šæ¬Šï¼‰ï¼š
- ä¸å®£ç¨±æœ¬æ–‡ä»¶å…§å®¹æ°¸é æ­£ç¢ºæˆ–æœ€æ–°ï¼ˆåˆ¶åº¦ä»¥å®˜æ–¹æ›´æ–°ç‚ºæº–ï¼‰
- ä¸æŠŠåˆ¶åº¦å…§å®¹ã€Œå¯«æ­»åœ¨ç¨‹å¼ã€ä½œæ°¸ä¹…è£æ±º
- ä¸æ›¿ä»£ RISK_COMPLIANCE çš„å¦æ±ºæ¢æ–‡èˆ‡ reason codes è¨­è¨ˆ
- å°ˆæ³¨ï¼šåˆ¶åº¦å¼•ç”¨å¦‚ä½•é€²å…¥ TAITS çš„ã€Œåˆè¦å¿«ç…§ï¼‹è§¸ç™¼æ˜ å°„ï¼‹ç¨½æ ¸å¯å›žæ”¾ã€

---

## 1. å®˜æ–¹åˆ¶åº¦ä¾†æºï¼ˆOfficial Sourcesï½œå¿…é ˆæä¾›å¯è¿½æº¯ç¶²å€ï¼‰

> TAITS ä»»ä½•åˆè¦è£æ±ºï¼Œå¿…é ˆèƒ½å›žæŒ‡åˆ°ä»¥ä¸‹å®˜æ–¹ä¾†æºä¹‹ä¸€ï¼ˆæˆ–å…¶å®˜æ–¹ç­‰åƒ¹å…¥å£ï¼‰ï¼Œä¸¦åœ¨ Rulebook Snapshot ä¸­ä¿å­˜å¼•ç”¨è­‰æ“šã€‚

### 1.1 TWSEï¼ˆè‡ºç£è­‰åˆ¸äº¤æ˜“æ‰€ï¼‰å®˜æ–¹åˆ¶åº¦
- TWSE è¦ç« ï¼æ³•è¦æŸ¥è©¢ï¼ˆRegulation Search / Rulesï¼‰  
  https://twse-regulation.twse.com.tw/
- TWSE å®˜æ–¹ç¶²ç«™ï¼ˆå…¬å‘Š/å¸‚å ´è³‡è¨Šï¼‰  
  https://www.twse.com.tw/

### 1.2 TPEXï¼ˆæ«ƒè²·ä¸­å¿ƒï¼‰å®˜æ–¹åˆ¶åº¦
- æ«ƒè²·ä¸­å¿ƒå®˜æ–¹ç¶²ç«™ï¼ˆæ³•è¦/åˆ¶åº¦/å…¬å‘Šï¼‰  
  https://www.tpex.org.tw/

### 1.3 TAIFEXï¼ˆè‡ºç£æœŸè²¨äº¤æ˜“æ‰€ï¼‰å®˜æ–¹åˆ¶åº¦
- TAIFEX è¦ç« åˆ¶åº¦ï¼ˆRules & Regulationsï¼‰  
  https://www.taifex.com.tw/

### 1.4 é‡‘ç®¡æœƒï¼ˆFSCï¼‰èˆ‡ç›¸é—œåˆ¶åº¦ï¼ˆå¿…è¦æ™‚ï¼‰
- é‡‘ç®¡æœƒå®˜æ–¹ç¶²ç«™ï¼ˆæ³•è¦/å…¬å‘Šï¼‰  
  https://www.fsc.gov.tw/

ðŸ“Œ è¦å‰‡å¼•ç”¨åŽŸå‰‡ï¼ˆç¡¬è¦å‰‡ï¼‰  
- åˆè¦è£æ±ºä¸å¾—åªå¼•ç”¨ã€Œç¬¬ä¸‰æ–¹æ•´ç†æ–‡ç« ã€  
- è‹¥å› æŠ€è¡“æˆ–æ¬Šé™é™åˆ¶æš«æ™‚ç„¡æ³•æŠ“å–å®˜æ–¹æ–‡æœ¬ï¼Œä¹Ÿå¿…é ˆè¨˜éŒ„ï¼š
  - ä¾†æºå˜—è©¦ã€æ™‚é–“æˆ³ã€æ›¿ä»£ä¾†æºï¼ˆfallbackï¼‰ã€ä¸¦æ¨™è¨˜ã€Œæœªé”å¯è£æ±ºç­‰ç´šã€â†’ RETURN/BLOCK

---

## 2. Rulebook Snapshotï¼ˆåˆ¶åº¦å¿«ç…§ï¼‰æ²»ç†ï¼ˆæ ¸å¿ƒåˆ¶åº¦ï¼‰

### 2.1 ç‚ºä»€éº¼å¿…é ˆå¿«ç…§
äº¤æ˜“åˆ¶åº¦æœƒæ›´æ–°ã€‚è‹¥ TAITS ç›´æŽ¥å¯«æ­»åˆ¶åº¦æ¢æ–‡ï¼š
- æœƒé€ æˆåˆè¦åˆ¤å®šä¸å¯è¿½æº¯ã€ä¸å¯å›žæ”¾ã€ä¸å¯ç¨½æ ¸
- æœƒé€ æˆã€Œå›žæ¸¬/å›žæ”¾ã€èˆ‡ã€Œç•¶ä¸‹åˆ¶åº¦ã€æ··æ·†

å› æ­¤ TAITS å¿…é ˆä»¥ Rulebook Snapshot å½¢å¼ç®¡ç†åˆ¶åº¦ï¼š
- **æ¯ä¸€æ¬¡åˆè¦è£æ±ºéƒ½ç¶å®šä¸€ä»½ `rulebook_snapshot_ref`**
- Snapshot ä»¥ Only-Add ç®¡ç†ï¼ˆæ–°å¢žç‰ˆæœ¬ï¼Œä¸è¦†å¯«èˆŠç‰ˆæœ¬ï¼‰

### 2.2 Snapshot æœ€å°å…§å®¹ï¼ˆä¸å¯ç¸®æ¸›ï¼‰
æ¯ä¸€ä»½ `rulebook_snapshot` è‡³å°‘åŒ…å«ï¼š

- `rulebook_snapshot_id`
- `scope`ï¼šTWSE / TPEX / TAIFEX / FSCï¼ˆå¯å¤šé¸ï¼‰
- `captured_at`ï¼šæ“·å–æ™‚é–“
- `source_urls[]`ï¼šå®˜æ–¹ç¶²å€æ¸…å–®ï¼ˆå¿…å¡«ï¼‰
- `source_evidence_refs[]`ï¼šæ“·å–è­‰æ“šï¼ˆHTML/PDF æˆªåœ–/å›žæ‡‰é ­/Hashï¼‰
- `normalized_ruleset_ref`ï¼šåˆ¶åº¦æ­£è¦åŒ–å¾Œçš„çµæ§‹åŒ–è¡¨ç¤ºï¼ˆæ¢æ¬¾â†’è§¸ç™¼â†’åˆ¤å®šï¼‰
- `hash_manifest_ref`ï¼šä¸å¯ç«„æ”¹æ ¡é©—
- `notes`ï¼šåƒ…èƒ½è£œå……ï¼Œä¸èƒ½å–ä»£å®˜æ–¹å…§å®¹

### 2.3 Snapshot èˆ‡ VERSION_AUDIT çš„é—œä¿‚
- `rulebook_snapshot_ref` å¿…é ˆè¢«ç´å…¥ Active Version Map
- ç¼º snapshot â†’ è¦–ç‚º `CMP-RULEBOOK-MISSING` â†’ VETO/BLOCKï¼ˆä¾ RISK_COMPLIANCEï¼‰

---

## 3. åˆ¶åº¦ä¸æ˜¯æ¢æ–‡å †ç–Šï¼šRule Trigger Mapï¼ˆè§¸ç™¼æ˜ å°„ï¼‰

> æœ€å¤§å®Œå‚™çš„é—œéµä¸åœ¨ã€ŒæŠ„æ¢æ–‡ã€ï¼Œè€Œåœ¨ã€ŒæŠŠåˆ¶åº¦è®Šæˆå¯åŸ·è¡Œçš„è§¸ç™¼æ˜ å°„ã€ä¸¦å¯ç¨½æ ¸å¯å›žæ”¾ã€‚

### 3.1 Trigger Map çš„å®šç¾©
Trigger Map å°‡ã€Œäº¤æ˜“è¡Œç‚ºã€æ˜ å°„åˆ°ã€Œå¿…é ˆæª¢æŸ¥çš„åˆ¶åº¦/è¦å‰‡é¡žåž‹ã€ï¼š

- **è¡Œç‚ºï¼ˆActionï¼‰**ï¼šé€å–®ã€æ”¹å–®ã€æ’¤å–®ã€ä¸‹å¸‚å€¼/é™åƒ¹ã€ç›¤ä¸­/ç›¤å¾Œã€é›¶è‚¡ã€ä¿¡ç”¨äº¤æ˜“ã€ETFã€æœŸè²¨ç­‰
- **æƒ…å¢ƒï¼ˆContextï¼‰**ï¼šäº¤æ˜“æ™‚æ®µã€æ¨™çš„ç‹€æ…‹ï¼ˆè™•ç½®/æš«åœ/å…¨é¡äº¤å‰²ç­‰ï¼‰ã€å¸‚å ´ç‹€æ…‹ï¼ˆç†”æ–·/è·Œåœç­‰ï¼‰
- **è¦å‰‡ï¼ˆRuleï¼‰**ï¼šåˆ¶åº¦æ¢æ¬¾ï¼ˆä»¥ snapshot å¼•ç”¨ï¼‰
- **çµæžœï¼ˆDecisionï¼‰**ï¼šPASS / VETO / RETURN / BLOCK
- **åŽŸå› ç¢¼ï¼ˆReason Codesï¼‰**ï¼šå¿…é ˆèƒ½å°æ‡‰ RISK_COMPLIANCE çš„ reason_code

### 3.2 Trigger Map çš„è¼¸å‡ºä½ç½®
- Risk/Compliance Engineï¼ˆL7ï¼‰å¿…é ˆä½¿ç”¨ Trigger Map åšåˆè¦è£æ±º
- UIï¼ˆL10ï¼‰å¿…é ˆå¯è¦–åŒ–ã€Œæ˜¯å“ªä¸€æ¢åˆ¶åº¦è§¸ç™¼äº†å“ªå€‹åŽŸå› ç¢¼ã€
- Auditï¼ˆVERSION_AUDITï¼‰å¿…é ˆä¿å­˜ã€Œè§¸ç™¼éˆã€ä»¥å›žæ”¾

---

## 4. TAITS åˆè¦åˆ¤å®šæž¶æ§‹ï¼ˆCompliance Decision Architectureï¼‰

### 4.1 åˆè¦åˆ¤å®šçš„äºŒå…ƒæ€§ï¼ˆBinary Complianceï¼‰
- åˆè¦è¼¸å‡ºå¿…é ˆæ˜¯ï¼š
  - `PASS` æˆ– `VETO`
- `RETURN` åªç”¨æ–¼ã€Œè³‡æ–™ä¸è¶³ä¸å¯è£æ±ºã€æƒ…æ³ï¼ˆä¾‹å¦‚ç¼ºå®˜æ–¹å¿«ç…§ã€ç¼ºæ¨™çš„ç‹€æ…‹è³‡æ–™ï¼‰
- `BLOCK` ç”¨æ–¼ã€Œç³»çµ±å®Œæ•´æ€§ä¸è¶³ã€æƒ…æ³ï¼ˆä¾‹å¦‚ç¼ºç‰ˆæœ¬æ˜ å°„ã€ç¨½æ ¸ä¸å¯å¯«å…¥ï¼‰

### 4.2 åˆè¦åˆ¤å®šä¸å¯è¢«ç¸¾æ•ˆè¾¯è­·
- ä»»ä½•ç­–ç•¥ç¸¾æ•ˆã€å›žæ¸¬å‹çŽ‡ã€AI å»ºè­°éƒ½ä¸å¾—æŽ¨ç¿»åˆè¦ VETO

---

## 5. è¦å‰‡åˆ†é¡žï¼ˆRule Taxonomyï½œæœ€å¤§å®Œå‚™éª¨æž¶ï¼‰

> ä¸‹åˆ—åˆ†é¡žç”¨æ–¼åˆ¶åº¦æ­£è¦åŒ–èˆ‡ reason codes å°é½Šï¼›å…·é«”æ¢æ–‡å…§å®¹ä»¥ snapshot é€£çµä¿å­˜ã€‚
> æœ¬ç¯€æ˜¯ã€Œéª¨æž¶ã€ï¼Œé¿å…å¯«æ­»åˆ¶åº¦ï¼Œä¸¦æ”¯æ´ Only-Add æ“´å……ã€‚

### 5.1 Trading Session & Calendar Rulesï¼ˆäº¤æ˜“æ™‚æ®µ/äº¤æ˜“æ—¥æ›†ï¼‰
- äº¤æ˜“æ—¥/éžäº¤æ˜“æ—¥
- é–‹æ”¶ç›¤æ™‚æ®µã€ç›¤ä¸­ã€ç›¤å¾Œ
- ä¾‹å¤–äº¤æ˜“æ—¥ã€è‡¨æ™‚åœå¸‚ç­‰ï¼ˆä»¥å®˜æ–¹å…¬å‘Šç‚ºæº–ï¼‰

**è§¸ç™¼é»ž**ï¼šL7 åˆè¦å¿…æŸ¥ï¼ˆä»»ä½•é€å–®ï¼‰

### 5.2 Instrument Eligibility Rulesï¼ˆæ¨™çš„å¯äº¤æ˜“æ€§ï¼‰
- æ˜¯å¦å¯äº¤æ˜“ï¼ˆåœæ­¢äº¤æ˜“ã€æš«åœã€ä¸‹å¸‚/ä¸‹æ«ƒï¼‰
- ç‰¹æ®Šç‹€æ…‹ï¼ˆè™•ç½®è‚¡ç¥¨ã€å…¨é¡äº¤å‰²ã€è­¦ç¤ºã€æ³¨æ„ç­‰ï¼‰
- æ¨™çš„å±¬æ€§ï¼ˆè‚¡ç¥¨/ETF/æ¬Šè­‰/å—ç›Šæ†‘è­‰ç­‰ï¼‰

**è§¸ç™¼é»ž**ï¼šL7 åˆè¦å¿…æŸ¥ï¼ˆæ¨™çš„å±¤ç´šï¼‰

### 5.3 Price Limit & Auction Rulesï¼ˆæ¼²è·Œå¹…/æ’®åˆ/åƒ¹æ ¼é™åˆ¶ï¼‰
- æ¼²è·Œåœé™åˆ¶èˆ‡å¯æŽ¥å—åƒ¹æ ¼å€é–“
- æ’®åˆè¦å‰‡ï¼ˆé›†åˆç«¶åƒ¹/é€ç­†äº¤æ˜“ç­‰ï¼‰

**è§¸ç™¼é»ž**ï¼šL11 Preflight + L7 åˆè¦ï¼ˆé¿å…é€å‡ºåˆ¶åº¦ä¸å…è¨±å§”è¨—ï¼‰

### 5.4 Order Type & Quantity Rulesï¼ˆå§”è¨—é¡žåž‹/æ•¸é‡/å–®ä½ï¼‰
- é™åƒ¹/å¸‚åƒ¹/å…¶ä»–å§”è¨—é¡žåž‹ï¼ˆä¾å¸‚å ´/å•†å“ï¼‰
- æœ€å°äº¤æ˜“å–®ä½ã€é›¶è‚¡äº¤æ˜“è¦å‰‡ã€å–®ç­†ä¸Šé™ç­‰

**è§¸ç™¼é»ž**ï¼šL11 Intent Compiler + L7 åˆè¦

### 5.5 Short Selling / Margin Rulesï¼ˆèžè³‡èžåˆ¸/æ”¾ç©ºç›¸é—œï¼‰
- ä¿¡ç”¨äº¤æ˜“è³‡æ ¼ã€å¯èž/å¯å€Ÿåˆ¸ç‹€æ…‹ã€é™åˆ¶æ¢æ¬¾ç­‰

**è§¸ç™¼é»ž**ï¼šL7 åˆè¦ï¼ˆå¸³æˆ¶æ¬Šé™ + æ¨™çš„ç‹€æ…‹ + äº¤æ˜“è¡Œç‚ºï¼‰

### 5.6 Corporate Actions & Symbol Changesï¼ˆé™¤æ¬Šæ¯/ä»£ç¢¼è®Šæ›´ï¼‰
- é™¤æ¬Šæ¯ã€åˆ†å‰²ã€åˆä½µã€åœæ­¢éŽæˆ¶æœŸé–“ç­‰å½±éŸ¿å¯äº¤æ˜“æ€§/åƒ¹æ ¼èª¿æ•´

**è§¸ç™¼é»ž**ï¼šL2/L3 è³‡æ–™æ­£è¦åŒ– + L7 åˆè¦ï¼ˆé˜²æ­¢ç”¨éŒ¯åƒ¹æ ¼åŸºæº–ï¼‰

### 5.7 Market-Wide Controlsï¼ˆå¸‚å ´ç´šç®¡åˆ¶ï¼‰
- ç†”æ–·ã€ç·Šæ€¥æŽªæ–½ã€è‡¨æ™‚æ’®åˆèª¿æ•´ç­‰

**è§¸ç™¼é»ž**ï¼šL6 Regime/Market State + L7 åˆè¦ + L11 Circuit Breaker

### 5.8 Derivatives-Specific Rulesï¼ˆæœŸè²¨/é¸æ“‡æ¬Šç‰¹æœ‰ï¼‰
- å•†å“è¦æ ¼ã€åˆ°æœŸã€æ¼²è·Œåœã€ä¿è­‰é‡‘ã€äº¤æ˜“æ™‚æ®µç­‰

**è§¸ç™¼é»ž**ï¼šL7 åˆè¦ + L11 preflightï¼ˆTAIFEXï¼‰

---

## 6. åˆè¦ Reason Codesï¼ˆåŽŸå› ç¢¼ï¼‰èˆ‡åˆ¶åº¦å¼•ç”¨ï¼ˆMappingï¼‰

> Reason Codes çš„å‘½åèˆ‡å®Œæ•´æ¸…å–®ä»¥ RISK_COMPLIANCE ç‚ºè£æ±ºã€‚
> æœ¬æ–‡ä»¶æä¾›ã€Œæ˜ å°„æ¡†æž¶ã€ï¼šæ¯å€‹åŽŸå› ç¢¼å¿…é ˆå¯å›žæŒ‡åˆ¶åº¦å¿«ç…§èˆ‡è§¸ç™¼æ¢ä»¶ã€‚

### 6.1 åŽŸå› ç¢¼æ˜ å°„æœ€å°æ¬„ä½ï¼ˆä¸å¯ç¸®æ¸›ï¼‰
- `reason_code`
- `category`ï¼šCMP / MKT / EXE / SYS
- `trigger_condition`ï¼šè§¸ç™¼æ¢ä»¶ï¼ˆçµæ§‹åŒ–ï¼‰
- `rulebook_snapshot_ref`
- `official_source_urls[]`
- `evidence_refs[]`ï¼ˆä¾‹å¦‚æ¨™çš„ç‹€æ…‹/äº¤æ˜“æ™‚æ®µ/åƒ¹æ ¼å€é–“è¨ˆç®—ï¼‰
- `ui_display_text_zh`ï¼ˆç¹ä¸­é¡¯ç¤ºï¼‰
- `severity`ï¼šVETO/BLOCK/RETURN

### 6.2 å¸¸è¦‹åŽŸå› ç¢¼é¡žåž‹ï¼ˆéª¨æž¶ï¼‰
- `CMP-SESSION-CLOSED`ï¼šäº¤æ˜“æ™‚æ®µä¸å…è¨±
- `CMP-INSTRUMENT-HALTED`ï¼šæ¨™çš„æš«åœ/åœæ­¢äº¤æ˜“
- `CMP-INSTRUMENT-RESTRICTED`ï¼šè™•ç½®/é™åˆ¶
- `CMP-ORDER-TYPE-NOT-ALLOWED`ï¼šå§”è¨—é¡žåž‹ä¸ç¬¦
- `CMP-PRICE-OUT-OF-BOUNDS`ï¼šåƒ¹æ ¼è¶…å‡ºå¯æŽ¥å—å€é–“
- `CMP-LOT-SIZE-INVALID`ï¼šäº¤æ˜“å–®ä½ä¸ç¬¦ï¼ˆæ•´è‚¡/é›¶è‚¡ï¼‰
- `CMP-MARGIN-NOT-ELIGIBLE`ï¼šä¿¡ç”¨äº¤æ˜“ä¸ç¬¦è³‡æ ¼
- `CMP-RULEBOOK-MISSING`ï¼šåˆ¶åº¦å¿«ç…§ç¼ºå¤±ï¼ˆç³»çµ±ç´šåˆè¦ä¸å¯è£æ±ºï¼‰

> æ³¨æ„ï¼šä»¥ä¸Šåƒ…ç‚ºåˆ†é¡žç¤ºæ„ï¼›æ­£å¼ reason codes ç”± RISK_COMPLIANCE çµ±ä¸€è£æ±ºã€‚

---

## 7. åˆè¦è§¸ç™¼é»žï¼ˆHard Triggersï½œåœ¨å“ªä¸€å±¤å¿…æŸ¥ï¼‰

### 7.1 L7ï¼ˆRisk/Compliance Gateï¼‰å¿…æŸ¥é …ç›®ï¼ˆä¸å¯çœç•¥ï¼‰
- äº¤æ˜“æ™‚æ®µ/äº¤æ˜“æ—¥æ›†ï¼ˆSession/Calendarï¼‰
- æ¨™çš„å¯äº¤æ˜“æ€§ï¼ˆEligibilityï¼‰
- å¸³æˆ¶æ¬Šé™é™åˆ¶ï¼ˆä¾‹å¦‚ä¿¡ç”¨äº¤æ˜“ï¼‰
- åˆ¶åº¦å¿«ç…§å­˜åœ¨èˆ‡å¯è¿½æº¯ï¼ˆRulebook Snapshotï¼‰

### 7.2 L11ï¼ˆExecution Preflightï¼‰å¿…æŸ¥é …ç›®ï¼ˆä¸å¯çœç•¥ï¼‰
- é€å–®å‰å†æ¬¡æ ¸å°ï¼š
  - é¢¨æŽ§ PASS Token
  - é€šé“å¥åº·
  - å§”è¨—å…§å®¹åˆæ³•æ€§ï¼ˆåƒ¹æ ¼å€é–“ã€æ•¸é‡å–®ä½ã€å§”è¨—é¡žåž‹ï¼‰
- ä»»ä½• mismatch â†’ BLOCK ä¸¦å›žå ± UIï¼ˆUI é¡¯ç¤ºåŽŸå› ç¢¼ï¼‰

### 7.3 UIï¼ˆL10ï¼‰å¿…å‘ˆç¾é …ç›®ï¼ˆä¸å¯çœç•¥ï¼‰
- æœ¬æ¬¡è£æ±ºä½¿ç”¨çš„ `rulebook_snapshot_ref`
- è§¸ç™¼çš„åˆ¶åº¦åˆ†é¡žèˆ‡åŽŸå› ç¢¼
- å®˜æ–¹ä¾†æºé€£çµï¼ˆè‡³å°‘å¯é»žé–‹çœ‹åˆ° source_urlsï¼‰

---

## 8. Rule Trigger Mapï¼ˆåˆ¶åº¦è§¸ç™¼æ˜ å°„ï¼‰è³‡æ–™çµæ§‹ï¼ˆå¯è½åœ°ï¼‰

> é€™æ˜¯ä¸€å€‹å¯ç›´æŽ¥ä½œç‚ºå·¥ç¨‹è³‡æ–™è¡¨/JSON schema çš„è¦æ ¼éª¨æž¶ï¼ˆæœ€å¤§å®Œå‚™ï¼‰ã€‚
> å¯¦éš›å­˜æ”¾å¯ç”± DATA_UNIVERSE/DEPLOY_OPS æ±ºå®šï¼Œä½†èªžç¾©ä¸å¾—æ”¹ã€‚

### 8.1 Trigger Map Recordï¼ˆå–®ç­†ï¼‰
- `trigger_id`
- `market_scope`ï¼šTWSE/TPEX/TAIFEX
- `action_type`ï¼šSUBMIT / MODIFY / CANCEL / QUERY / RECONCILE
- `instrument_type`ï¼šEQUITY / ETF / WARRANT / FUTURES / OPTIONS â€¦
- `order_type`ï¼šLIMIT / MARKET / â€¦ï¼ˆè‹¥é©ç”¨ï¼‰
- `time_context`ï¼šPREOPEN / REGULAR / POST / OFF_SESSION
- `conditions`ï¼š
  - `symbol_state`ï¼ˆhalted/restricted/normalâ€¦ï¼‰
  - `price_bounds`ï¼ˆéœ€å¼•ç”¨è¨ˆç®—è­‰æ“šï¼‰
  - `lot_rules`ï¼ˆæ•´è‚¡/é›¶è‚¡ï¼‰
  - `account_permissions`ï¼ˆmargin/short/derivativesâ€¦ï¼‰
- `decision`ï¼šPASS/VETO/RETURN/BLOCK
- `reason_codes[]`
- `rulebook_snapshot_ref`
- `official_source_urls[]`
- `audit_refs[]`ï¼ˆevidence refs, calculations, snapshotsï¼‰
- `ui_text_zh`

---

## 9. Mermaidï½œåˆ¶åº¦è§¸ç™¼åˆ°åˆè¦å¦æ±ºçš„æµç¨‹åœ–ï¼ˆå¯æ”¾å…¥ mdï¼‰

```mermaid
flowchart TB
  A[L1-L2 Data + Calendar + Symbol State] --> B[L5 Evidence Bundle]
  B --> C[L6 Regime/Market State]
  C --> D[L7 Compliance Trigger Map Lookup]
  D --> E{Rulebook Snapshot Exists?}
  E -->|NO| X[RETURN/BLOCK<br/>CMP-RULEBOOK-MISSING]
  E -->|YES| F[Evaluate Rule Conditions]
  F --> G{Compliance Decision}
  G -->|PASS| H[Issue PASS + Token]
  G -->|VETO| I[VETO + reason_codes + source_urls]
  I --> UI[UI shows VETO + Codes + Official Links]
  H --> UI2[UI shows PASS + snapshot_ref]
10. å¸¸è¦‹è½åœ°æƒ…å¢ƒï¼ˆScenario Coverageï½œæœ€å¤§å®Œå‚™ï¼‰
æœ¬ç¯€ä¸æ˜¯æŠ„æ¢æ–‡ï¼Œè€Œæ˜¯æŠŠ TAITS éœ€è¦è™•ç†çš„æƒ…å¢ƒã€Œåˆ¶åº¦åŒ–ã€æˆè§¸ç™¼é¡žåž‹ï¼Œä¾¿æ–¼å·¥ç¨‹å¯¦ä½œèˆ‡ç¨½æ ¸ã€‚

10.1 éžäº¤æ˜“æ™‚æ®µé€å–®
è§¸ç™¼ï¼šCMP-SESSION-CLOSED

ä¾æ“šï¼šTWSE/TPEX/TAIFEX å®˜æ–¹äº¤æ˜“æ™‚æ®µå…¬å‘Šï¼ˆsource_urlsï¼‰

è¼¸å‡ºï¼šVETOï¼ˆBinaryï¼‰

10.2 æ¨™çš„æš«åœ/åœæ­¢äº¤æ˜“ï¼ˆhaltedï¼‰
è§¸ç™¼ï¼šCMP-INSTRUMENT-HALTED

è­‰æ“šï¼šsymbol_state snapshot + å®˜æ–¹å…¬å‘Š ref

è¼¸å‡ºï¼šVETO

10.3 è™•ç½®/é™åˆ¶è‚¡ç¥¨
è§¸ç™¼ï¼šCMP-INSTRUMENT-RESTRICTED

è­‰æ“šï¼šè™•ç½®æ¸…å–®æˆ–å…¬å‘Š refï¼ˆsource_urlsï¼‰

è¼¸å‡ºï¼šVETO æˆ–æ›´åš´æ ¼é™åˆ¶ï¼ˆç”± policy è£æ±ºï¼‰

10.4 é›¶è‚¡ vs æ•´è‚¡äº¤æ˜“å–®ä½ä¸ç¬¦
è§¸ç™¼ï¼šCMP-LOT-SIZE-INVALID

è­‰æ“šï¼šorder intent + lot rules

è¼¸å‡ºï¼šVETO æˆ– RETURNï¼ˆè‹¥ç¼º lot rule snapshotï¼‰

10.5 åƒ¹æ ¼è¶…å‡ºå…è¨±å€é–“
è§¸ç™¼ï¼šCMP-PRICE-OUT-OF-BOUNDS

è­‰æ“šï¼šprice bounds è¨ˆç®—ï¼ˆä»¥å¿«ç…§è³‡æ–™èˆ‡åˆ¶åº¦å¿«ç…§ç‚ºæº–ï¼‰

è¼¸å‡ºï¼šVETO

10.6 ä¿¡ç”¨äº¤æ˜“/æ”¾ç©ºè³‡æ ¼ä¸ç¬¦
è§¸ç™¼ï¼šCMP-MARGIN-NOT-ELIGIBLE

è­‰æ“šï¼šaccount permission snapshot + æ¨™çš„å¯èž/å¯å€Ÿåˆ¸ç‹€æ…‹ + åˆ¶åº¦å¿«ç…§

è¼¸å‡ºï¼šVETO

10.7 åˆ¶åº¦å¿«ç…§ç¼ºå¤±æˆ–ä¸å¯è¿½æº¯
è§¸ç™¼ï¼šCMP-RULEBOOK-MISSING / SYS-VERSION

è¼¸å‡ºï¼šBLOCKï¼ˆç³»çµ±ç´šé˜»æ–·ï¼Œå› ä¸å¯è£æ±ºï¼‰

11. å¯©è¨ˆè¼¸å‡ºï¼ˆAudit Outputsï½œå¿…é ˆè½åœ°ï¼‰
æœ¬ç¯€æ˜¯ã€Œæœ€å¤§å®Œå‚™ã€å¼·åˆ¶è¦æ±‚ï¼šæ¯æ¬¡åˆè¦è£æ±ºéƒ½è¦ç•™ä¸‹å¯å›žæ”¾è­‰æ“šã€‚

æ¯ä¸€æ¬¡ L7 åˆè¦åˆ¤å®šï¼Œå¿…é ˆç”¢ç”Ÿï¼š

risk_gate_decision_refï¼ˆåŒ…å« compliance éƒ¨åˆ†ï¼‰

rulebook_snapshot_ref

trigger_map_evaluation_ref

reason_codes[]

official_source_urls[]

evidence_refs[]ï¼ˆäº¤æ˜“æ™‚æ®µã€æ¨™çš„ç‹€æ…‹ã€åƒ¹æ ¼å€é–“è¨ˆç®—ç­‰ï¼‰

hash_manifest_ref

ç´å…¥ active_version_map_ref

UIï¼ˆL10ï¼‰å¿…é ˆé¡¯ç¤ºï¼š

rulebook_snapshot_ref

reason_codes[]

official_source_urls[]ï¼ˆå¯é»žé–‹ï¼‰

ä¸å¾—ç”¨æ¨¡ç³Šèªžå¥å–ä»£ VETO

12. åˆ¶åº¦æ›´æ–°ç­–ç•¥ï¼ˆNo-Write-Dead Rulesï½œä¸å¾—å¯«æ­»ï¼‰
12.1 æ›´æ–°æ–¹å¼ï¼ˆOnly-Addï¼‰
ä»»ä½•åˆ¶åº¦æ›´æ–°ï¼š

æ–°å¢ž rulebook_snapshot

æ–°å¢ž Trigger Map æ¢ç›®ï¼ˆå¦‚éœ€è¦ï¼‰

æ›´æ–° policy/version map æŒ‡å‘ï¼ˆåˆ‡æ› ACTIVE ç‰ˆæœ¬ï¼‰

ç¦æ­¢ï¼š

è¦†å¯«èˆŠå¿«ç…§å…§å®¹

æŠŠèˆŠå¿«ç…§åˆªæŽ‰

ç”¨ã€Œæ”¹ç¨‹å¼ç¢¼ã€å–ä»£åˆ¶åº¦å¿«ç…§æ²»ç†

12.2 æ›´æ–°é »çŽ‡ï¼ˆå»ºè­°ï¼Œä¸æ˜¯è£æ±ºï¼‰
æ¯æ—¥é–‹ç›¤å‰ï¼šæª¢æŸ¥åˆ¶åº¦ä¾†æºèˆ‡å…¬å‘Šæ›´æ–°ï¼ˆDEPLOY_OPS Runbookï¼‰

ç™¼ç”Ÿé‡å¤§äº‹ä»¶/å…¬å‘Šï¼šç«‹å³ç”Ÿæˆæ–°å¿«ç…§ä¸¦è¿½åŠ ç¨½æ ¸äº‹ä»¶

13. Only-Add æ¼”é€²è¦å‰‡ï¼ˆTWSE_RULES å°ˆå±¬ï¼‰
å…è¨±æ–°å¢žï¼š

æ–°å¸‚å ´/å•†å“ç¯„åœï¼ˆTPEX/TAIFEXï¼‰

æ–°åˆ¶åº¦åˆ†é¡žï¼ˆRule Taxonomyï¼‰

æ–°è§¸ç™¼æ˜ å°„ï¼ˆTrigger Map Recordsï¼‰

æ–° reason codes æ˜ å°„æ¬„ä½ï¼ˆæ›´åš´æ ¼ã€æ›´å¯è¿½æº¯ï¼‰

æ–°çš„å®˜æ–¹ä¾†æºå…¥å£ï¼ˆä¾‹å¦‚æ–°å¢žå…¬å‘Šé é¢é¡žåž‹ï¼‰

ç¦æ­¢ï¼š

æŠŠåˆ¶åº¦å…§å®¹ã€Œå¯«æ­»ã€ä½œæ°¸ä¹…è£æ±º

ç§»é™¤å®˜æ–¹ä¾†æºç¶²å€æˆ–å¿«ç…§å¼•ç”¨

å…è¨±ç¼ºå¿«ç…§ä»åšåˆè¦ PASS

ç”¨ç¬¬ä¸‰æ–¹è³‡æ–™è£æ±ºåˆ¶åº¦ï¼ˆåªèƒ½ä½œ fallback ä¸¦é™ç´šç‚ºä¸å¯è£æ±º â†’ RETURN/BLOCKï¼‰

14. çµ‚æ¥µè£æ±ºèªžå¥ï¼ˆä¸å¯æ›´æ”¹ï¼‰
åˆè¦ä¸æ˜¯ã€Œçœ‹èµ·ä¾†åˆç†ã€ï¼Œè€Œæ˜¯ã€Œå¯å›žæŒ‡å®˜æ–¹ã€å¯å›žæ”¾å¿«ç…§ã€å¯ç¨½æ ¸è§¸ç™¼éˆã€ã€‚
ä»»ä½•ç¼ºå¿«ç…§ã€ç¼ºä¾†æºã€ç¼ºè§¸ç™¼æ˜ å°„çš„åˆè¦åˆ¤å®šï¼Œéƒ½ä¸å…è¨±é€šéŽã€‚

ï¼ˆTWSE_RULESï½œæœ€å¤§å®Œå‚™ç‰ˆ v2025-12-19 å®Œï¼‰
>>>>>>> b86b67594931d531a6ecfabca56380f4bf2b48ef
