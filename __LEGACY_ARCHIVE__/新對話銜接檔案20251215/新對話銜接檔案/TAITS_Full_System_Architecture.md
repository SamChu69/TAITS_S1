## **`TAITS_Full_System_Architecture.md`**

**å®šä½**ï¼š

* TAITS **å®Œæ•´é«”ç¸½æ¶æ§‹ + å…¨æµç¨‹ + æ¨¡çµ„è²¬ä»»é‚Šç•Œ**
* ä¸åˆ† S1/S2/S3ï¼ˆé‚£åªæ˜¯é–‹ç™¼ç¯€å¥ï¼‰ï¼Œ**æ­¤æ–‡ä»¶å³æœ€çµ‚å®Œæ•´é«”**
* ä¿è­‰èˆ‡ä½ å·²å­˜çš„ï¼š

  * `TAITS_DataSources_Universe.md`
  * `TAITS_Strategy_Universe_Complete.md`
    **100% å°é½Š**

**å­˜æ”¾è·¯å¾‘ï¼ˆGitHubï¼‰**ï¼š

```
docs/architecture/TAITS_Full_System_Architecture.md
```

---

## ğŸ“„ è«‹å®Œæ•´è²¼ä¸Šä»¥ä¸‹å…§å®¹ï¼ˆå®Œæ•´ç‰ˆ / ä¸ç¸®æ°´ï¼‰

> é€™ä»½æª”æ¡ˆè¼ƒé•·ï¼Œä½†å®ƒå°±æ˜¯ä½ ä¹‹å¾Œã€Œä¸å†è¿·è·¯ã€çš„ä¿è­‰ã€‚

```markdown
# TAITS_Full_System_Architecture.md
# TAITS â€” å…¨ç³»çµ±å®Œæ•´é«”æ¶æ§‹ç™½çš®æ›¸ï¼ˆMaster Architectureï¼‰

ç‰ˆæœ¬ï¼šMaster / Full  
é©ç”¨ç¯„åœï¼šResearch / Backtest / Paper / Live  
å°æ‡‰æ–‡ä»¶ï¼š
- TAITS_DataSources_Universe.md
- TAITS_Strategy_Universe_Complete.md

---

## 0. æ–‡ä»¶å®šä½ï¼ˆå¿…è®€ï¼‰

æœ¬æ–‡ä»¶å®šç¾© **TAITSï¼ˆTaiwan Alpha Intelligence Trading Systemï¼‰** çš„ï¼š
- å®Œæ•´ç³»çµ±æ¨¡çµ„
- å…¨è³‡æ–™èˆ‡æ±ºç­–æµç¨‹
- å„å±¤è²¬ä»»é‚Šç•Œ
- åˆè¦èˆ‡é¢¨æ§ä½ç½®

ä»»ä½•æ–°å°è©±ã€æ–°å·¥ç¨‹å¸«ã€æ–° AIï¼Œ**åªè¦å…ˆè®€æœ¬æ–‡ä»¶ï¼Œå³å¯ç„¡ç¸«æ¥çºŒ**ã€‚

---

## 1. ç³»çµ±ç¸½è¦½ï¼ˆOne-Page Viewï¼‰

TAITS æ˜¯ä¸€å€‹ **å¤šè³‡æ–™æº Ã— å¤šç­–ç•¥ Ã— å¤š Agent Ã— å¤šæ¨¡å‹** çš„æ··åˆå¼é‡åŒ–ç³»çµ±ã€‚

```

è³‡æ–™å±¤
â†“
æŒ‡æ¨™å±¤
â†“
ç­–ç•¥å±¤
â†“
Agents æ™ºèƒ½åˆ†æå±¤
â†“
å¸‚å ´ç‹€æ…‹ï¼ˆRegimeï¼‰
â†“
Fusion Engineï¼ˆæœ€çµ‚æ±ºç­–ï¼‰
â†“
Risk / åˆè¦
â†“
Execution / Backtest
â†“
Report / Audit

```

---

## 2. å°ˆæ¡ˆç›®éŒ„ç¸½çµæ§‹ï¼ˆå®Œæ•´ï¼‰

```

TAITS/
â”‚
â”œâ”€â”€ main.py
â”‚
â”œâ”€â”€ config/
â”‚   â””â”€â”€ settings.py
â”‚
â”œâ”€â”€ data_sources/
â”‚   â”œâ”€â”€ yahoo_loader.py
â”‚   â”œâ”€â”€ twse_loader.py
â”‚   â”œâ”€â”€ finmind_loader.py
â”‚   â”œâ”€â”€ macro_loader.py
â”‚   â”œâ”€â”€ derivatives_loader.py
â”‚   â”œâ”€â”€ fallback_manager.py
â”‚   â””â”€â”€ cache_manager.py
â”‚
â”œâ”€â”€ indicators/
â”‚   â”œâ”€â”€ trend/
â”‚   â”œâ”€â”€ momentum/
â”‚   â”œâ”€â”€ volatility/
â”‚   â”œâ”€â”€ volume/
â”‚   â”œâ”€â”€ chip/
â”‚   â”œâ”€â”€ fundamental/
â”‚   â”œâ”€â”€ derivatives/
â”‚   â”œâ”€â”€ ai/
â”‚   â””â”€â”€ chanlun/
â”‚       â”œâ”€â”€ fractal_detector.py
â”‚       â”œâ”€â”€ bi_detector.py
â”‚       â”œâ”€â”€ segment_detector.py
â”‚       â”œâ”€â”€ zhongshu_detector.py
â”‚       â””â”€â”€ divergence_detector.py
â”‚
â”œâ”€â”€ strategies/
â”‚   â”œâ”€â”€ ta/
â”‚   â”œâ”€â”€ chip/
â”‚   â”œâ”€â”€ fundamental/
â”‚   â”œâ”€â”€ sector/
â”‚   â”œâ”€â”€ behavior/
â”‚   â”œâ”€â”€ news/
â”‚   â”œâ”€â”€ derivatives/
â”‚   â”œâ”€â”€ ai/
â”‚   â””â”€â”€ chanlun/
â”‚
â”œâ”€â”€ agents/
â”‚   â”œâ”€â”€ technical_agent.py
â”‚   â”œâ”€â”€ chip_agent.py
â”‚   â”œâ”€â”€ fundamental_agent.py
â”‚   â”œâ”€â”€ news_agent.py
â”‚   â”œâ”€â”€ sentiment_agent.py
â”‚   â”œâ”€â”€ macro_agent.py
â”‚   â”œâ”€â”€ derivatives_agent.py
â”‚   â”œâ”€â”€ event_agent.py
â”‚   â”œâ”€â”€ ai_model_agent.py
â”‚   â”œâ”€â”€ risk_agent.py
â”‚   â””â”€â”€ summary_agent.py
â”‚
â”œâ”€â”€ engine/
â”‚   â”œâ”€â”€ orchestrator.py
â”‚   â”œâ”€â”€ indicator_manager.py
â”‚   â”œâ”€â”€ strategy_manager.py
â”‚   â”œâ”€â”€ agent_manager.py
â”‚   â”œâ”€â”€ market_regime_engine.py
â”‚   â”œâ”€â”€ fusion_engine.py
â”‚   â”œâ”€â”€ risk_engine.py
â”‚   â””â”€â”€ data_validator.py
â”‚
â”œâ”€â”€ backtest/
â”‚   â”œâ”€â”€ backtester.py
â”‚   â”œâ”€â”€ fee_model.py
â”‚   â”œâ”€â”€ slippage_model.py
â”‚   â””â”€â”€ report.py
â”‚
â”œâ”€â”€ trading/
â”‚   â”œâ”€â”€ broker_fubon.py
â”‚   â”œâ”€â”€ order_manager.py
â”‚   â””â”€â”€ risk_manager.py
â”‚
â”œâ”€â”€ monitoring/
â”‚   â”œâ”€â”€ logger.py
â”‚   â”œâ”€â”€ metrics.py
â”‚   â””â”€â”€ alerts.py
â”‚
â”œâ”€â”€ output/
â”‚   â”œâ”€â”€ reports_txt/
â”‚   â”œâ”€â”€ reports_json/
â”‚   â””â”€â”€ reports_md/
â”‚
â””â”€â”€ docs/
â”œâ”€â”€ architecture/
â”œâ”€â”€ datasources/
â””â”€â”€ strategies/

```

---

## 3. æ ¸å¿ƒæµç¨‹ï¼ˆEnd-to-Endï¼‰

### Step 1ï¼šè³‡æ–™å–å¾—
- FallbackManager å•Ÿå‹•
- å®˜æ–¹è³‡æ–™å„ªå…ˆï¼ˆTWSE / TAIFEXï¼‰
- Cache é˜²æ­¢é‡æŠ“

### Step 2ï¼šè³‡æ–™é©—è­‰
- ç¼ºå€¼ / ç•°å¸¸ / åœç‰Œ
- åˆæ³•äº¤æ˜“æ™‚é–“

### Step 3ï¼šæŒ‡æ¨™è¨ˆç®—
- æŠ€è¡“ / ç±Œç¢¼ / åŸºæœ¬é¢
- çºè«–è§£æï¼ˆåˆ†å‹ â†’ ç­† â†’ ä¸­æ¨ï¼‰

### Step 4ï¼šç­–ç•¥åŸ·è¡Œ
- 355+ ç­–ç•¥ä¸¦è¡Œ
- åªç”¢ç”Ÿ Signal / Confidence / Reason

### Step 5ï¼šAgents åˆ†æ
- å„è‡ªç¨ç«‹åˆ¤æ–·
- ä¸äº’ç›¸å½±éŸ¿

### Step 6ï¼šå¸‚å ´ç‹€æ…‹ï¼ˆRegimeï¼‰
- Trend / Range / Risk-Off
- æœŸè²¨ + é¸æ“‡æ¬Šè¼”åŠ©

### Step 7ï¼šFusion Engine
- æ¬Šé‡èåˆ
- Regime-aware
- Event / Risk Override

### Step 8ï¼šé¢¨æ§èˆ‡åˆè¦
- TWSE æ¼²è·Œå¹…
- Tick Size
- äº¤æ˜“æ™‚é–“
- è³‡é‡‘æ¯”ä¾‹

### Step 9ï¼šåŸ·è¡Œæˆ–å›æ¸¬
- Backtest / Paper / Live

### Step 10ï¼šå ±å‘Šè¼¸å‡º
- TXT / JSON / Markdown
- Audit-friendly

---

## 4. è¨­è¨ˆåŸå‰‡ï¼ˆä¸å¯ç ´å£ï¼‰

- ç­–ç•¥ â‰  ä¸‹å–®
- Agent â‰  ç­–ç•¥
- AI â‰  å”¯ä¸€çœŸç†
- Regime å…·æœ‰æœ€é«˜å„ªå…ˆç´š
- é¢¨æ§å¯å¦æ±ºä¸€åˆ‡

---

## 5. ç‚ºä»€éº¼é€™æ˜¯å®Œæ•´é«”

- å·²åŒ…å«æ‰€æœ‰è³‡æ–™æº
- å·²åŒ…å«æ‰€æœ‰ç­–ç•¥ï¼ˆå«çºè«–ï¼‰
- å·²åŒ…å«æ‰€æœ‰ Agent
- å·²åŒ…å«æœŸè²¨ / é¸æ“‡æ¬Š
- å·²åŒ…å« AI èˆ‡é AI è·¯å¾‘
- å¯ç›´æ¥é€²å…¥é•·æœŸé–‹ç™¼

---

ï¼ˆEOFï¼‰
```

# ã€TAITS å…¨ç³»çµ±æœ€çµ‚æ¶æ§‹è—åœ–ï¼ˆ10 å±¤ Ã— å…¨é‡è½åœ°ï¼‰ã€‘
## ç‰ˆæœ¬ï¼šv2025-12-16
## æ€§è³ªï¼šOnly-Addï¼ˆè¿½åŠ ï¼Œä¸è¦†è“‹æ—¢æœ‰å…§å®¹ï¼‰

æœ¬ç« ç¯€ç”¨æ–¼ã€Œä¸€æ¬¡æŠŠè©±èªªå®Œã€ï¼š  
TAITS å¾è³‡æ–™é€²ä¾†ï¼Œåˆ°ä½ çœ‹åˆ°ç•«é¢ã€åšæ±ºå®šç‚ºæ­¢ï¼Œ**æ¯ä¸€å±¤åœ¨å¹¹å˜›ã€èª°èƒ½å¦æ±ºèª°ã€å“ªè£¡æ–°å¢éèƒ½åŠ›**ã€‚

---

## L1ï½œè³‡æ–™æ¥å…¥å±¤ï¼ˆData Ingestion Layerï¼‰

### é€™ä¸€å±¤åœ¨å¹¹å˜›ï¼ˆç™½è©±ï¼‰
æŠŠæ‰€æœ‰å¸‚å ´ç›¸é—œè³‡è¨Šã€ŒåŸå°ä¸å‹•æŠ“é€²ä¾†ã€ï¼Œä¸åˆ¤æ–·ã€ä¸éæ¿¾ã€ä¸åšæ±ºå®šã€‚

### åƒä»€éº¼ï¼ˆè¼¸å…¥ï¼‰
- å®˜æ–¹ OpenAPIï¼ˆTWSE / TPEx / TAIFEX / MOPSï¼‰
- æ–°è / ç¤¾ç¾¤ / é¡Œæè³‡æ–™
- Observe-onlyï¼šæœŸè²¨ / é¸æ“‡æ¬Š / èè³‡èåˆ¸

### åä»€éº¼ï¼ˆè¼¸å‡ºï¼‰
- raw_market_data
- raw_news_data
- raw_derivatives_data
- source_ref + captured_at

### èª°èƒ½å¦æ±º
- ç„¡ï¼ˆæ­¤å±¤ä¸åšåˆ¤æ–·ï¼‰

---

## L2ï½œè³‡æ–™æ­£è¦åŒ–å±¤ï¼ˆNormalization Layerï¼‰

### é€™ä¸€å±¤åœ¨å¹¹å˜›
æŠŠä¸åŒä¾†æºçš„è³‡æ–™æ•´ç†æˆã€Œç³»çµ±çœ‹å¾—æ‡‚ã€å¯æ¯”å°ã€çš„æ ¼å¼ã€‚

### è¼¸å…¥
- L1 raw data

### è™•ç†
- æ¬„ä½å°é½Š
- æ¨™çš„ä»£ç¢¼çµ±ä¸€
- æ™‚é–“è»¸æ ¡æ­£

### è¼¸å‡º
- normalized_data

### å¦æ±ºæ¬Š
- ç„¡ï¼ˆåªæ•´ç†ï¼Œä¸åˆªè³‡æ–™ï¼‰

---

## L3ï½œå¿«ç…§èˆ‡å°å­˜å±¤ï¼ˆSnapshot Layerï¼‰

### é€™ä¸€å±¤åœ¨å¹¹å˜›
æŠŠã€Œç•¶ä¸‹ä¸–ç•Œã€å°å­˜æˆä¸å¯è®Šç‰ˆæœ¬ï¼Œé˜²æ­¢äº‹å¾Œæ”¹è³‡æ–™ã€‚

### è¼¸å…¥
- normalized_data

### è¼¸å‡º
- snapshot_ref
- snapshot_manifest

### å¦æ±ºæ¬Š
- ç„¡ï¼Œä½† **æ²’æœ‰ snapshot_ref çš„è³‡æ–™ç¦æ­¢é€²ä¸‹ä¸€å±¤**

---

## L4ï½œç‰¹å¾µèˆ‡æ–¹æ³•è«–å±¤ï¼ˆFeature & Methodology Layerï¼‰

### é€™ä¸€å±¤åœ¨å¹¹å˜›
æŠŠè³‡æ–™è½‰æˆã€Œå¯ä»¥è¢«åˆ¤æ–·çš„è¨Šè™Ÿèˆ‡è­‰æ“šã€ã€‚

### åŒ…å«ï¼ˆå…¨éƒ¨éƒ½åœ¨é€™å±¤ï¼‰
- æŠ€è¡“ç‰¹å¾µï¼ˆè¶¨å‹¢ / å‹•èƒ½ / æ³¢å‹• / é‡èƒ½ï¼‰
- å¨ç§‘å¤«ï¼ˆéšæ®µ / äº‹ä»¶ / é‡åƒ¹ï¼‰
- é®‘è¿ªå…‹çºè«–ï¼ˆçµæ§‹ / èƒŒé›¢ / æ®µè½ï¼‰
- Observe-only ç‰¹å¾µï¼ˆæœŸè²¨ / é¸æ“‡æ¬Š / èè³‡ï¼‰
- é¡Œæ / æ¶ˆæ¯ç‰¹å¾µ

### è¼¸å‡º
- feature_vector
- feature_manifest

### å¦æ±ºæ¬Š
- ç„¡ï¼ˆåªç”¢ç”Ÿè­‰æ“šï¼Œä¸ä¸‹çµè«–ï¼‰

---

## L5ï½œè­‰æ“šåŒ…ä¸­æ¨ï¼ˆEvidence Bundlerï¼‰

### é€™ä¸€å±¤åœ¨å¹¹å˜›
æŠŠæ‰€æœ‰é›¶æ•£ç‰¹å¾µã€Œæ•´ç†æˆä¸€åŒ…å¯ä»¥è§£é‡‹ã€å¯ä»¥å¯©è¨ˆçš„ç†ç”±ã€ã€‚

### è¼¸å…¥
- feature_vector

### è¼¸å‡ºï¼ˆå›ºå®šï¼‰
- Evidence Bundleï¼ˆå…¨æ¬„ä½ï¼‰

### å¦æ±ºæ¬Š
- ç„¡ï¼Œä½† **æ²’æœ‰ Evidence Bundle ä¸å¾—åˆ¤æ–·**

---

## L6ï½œå¸‚å ´ç‹€æ…‹å±¤ï¼ˆMarket Regime Layerï¼‰

### é€™ä¸€å±¤åœ¨å¹¹å˜›
åˆ¤æ–·ç¾åœ¨å¸‚å ´é©åˆç©æ¥µã€ä¿å®ˆã€é‚„æ˜¯è§€æœ›ã€‚

### è¼¸å…¥
- Evidence Bundle

### è¼¸å‡º
- regime_state
- regime_confidence

### å¦æ±ºæ¬Š
- å¯å¦æ±ºæ¿€é€²ç­–ç•¥æ–¹å‘

---

## L7ï½œé¢¨æ§èˆ‡åˆè¦å±¤ï¼ˆRisk & Compliance Layerï¼‰

### é€™ä¸€å±¤åœ¨å¹¹å˜›
ç¢ºä¿ã€Œæ´»å¾—ä¹…æ¯”è³ºå¾—å¿«é‡è¦ã€ã€‚

### è¼¸å…¥
- Regime + Evidence

### è¼¸å‡º
- Risk Audit Bundle
- blocked_actions
- weight_adjustments

### å¦æ±ºæ¬Š
- **æœ€é«˜å¦æ±ºæ¬Š**
- å¯å¦æ±º Regime / Strategy / AI

---

## L8ï½œç­–ç•¥èˆ‡ Universe å±¤ï¼ˆStrategy & Universe Layerï¼‰

### é€™ä¸€å±¤åœ¨å¹¹å˜›
æŠŠå¸‚å ´ç‹€æ…‹è½‰æˆã€Œå“ªäº›ç­–ç•¥èƒ½ç”¨ã€å“ªäº›ä¸èƒ½ã€ã€‚

### è¼¸å…¥
- Risk çµæœ
- Evidence

### è¼¸å‡º
- allowed_strategies
- universeï¼ˆä¸‰æ± ï¼‰
- weights

### å¦æ±ºæ¬Š
- ä¸å¾—è¦†å¯« Risk

---

## L9ï½œæ²»ç†èˆ‡æˆæ¬Šå±¤ï¼ˆGovernance Gateï¼‰

### é€™ä¸€å±¤åœ¨å¹¹å˜›
æ§åˆ¶ã€Œèª°å¯ä»¥æ”¹ç³»çµ±ã€ä»€éº¼æ™‚å€™è¦ä½ ç¢ºèªã€ã€‚

### è¼¸å…¥
- Strategy çµæœ
- Risk ç‹€æ…‹

### è¼¸å‡º
- permission_state
- gate_reason

### å¦æ±ºæ¬Š
- å¯è¦æ±‚äººå·¥ç¢ºèª
- ä¸å¾—è¦†å¯« Risk

---

## L10ï½œå‘ˆç¾èˆ‡æ±ºç­–å±¤ï¼ˆUI & Decision Layerï¼‰

### é€™ä¸€å±¤åœ¨å¹¹å˜›
è®“ä½ ã€Œçœ‹æ‡‚ä¸€åˆ‡ï¼Œå†è‡ªå·±æ±ºå®šè¦ä¸è¦åšã€ã€‚

### è¼¸å…¥
- å…¨éƒ¨ä¸Šæ¸¸çµæœ

### è¼¸å‡º
- UI
- å ±å‘Š
- æ±ºç­–æ­·å²

### å¦æ±ºæ¬Š
- äººï¼ˆä½ ï¼‰

---

## æ¶æ§‹éµå¾‹ç¸½çµï¼ˆä¸å¯é•åï¼‰

- ç­–ç•¥ â‰  ä¸‹å–®  
- æ–¹æ³•è«– â‰  ç­–ç•¥  
- Observe-only æ°¸ä¸ä¸‹å–®  
- Risk / Compliance æœ€é«˜å¦æ±º  
- Evidence / Snapshot ä¸å¯çœç•¥  

---

# ã€End of TAITS_Full_System_Architecture è¿½åŠ ç« ç¯€ã€‘

